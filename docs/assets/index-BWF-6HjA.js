(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Df={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function xE(){if(ty)return Gl;ty=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Gl.Fragment=e,Gl.jsx=i,Gl.jsxs=i,Gl}var ey;function UE(){return ey||(ey=1,Df.exports=xE()),Df.exports}var J=UE(),Cf={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function LE(){if(ny)return Dt;ny=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function I(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,rt={};function tt(D,X,it){this.props=D,this.context=X,this.refs=rt,this.updater=it||H}tt.prototype.isReactComponent={},tt.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},tt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function St(){}St.prototype=tt.prototype;function vt(D,X,it){this.props=D,this.context=X,this.refs=rt,this.updater=it||H}var pt=vt.prototype=new St;pt.constructor=vt,W(pt,tt.prototype),pt.isPureReactComponent=!0;var Nt=Array.isArray,bt={H:null,A:null,T:null,S:null,V:null},Ht=Object.prototype.hasOwnProperty;function N(D,X,it,$,dt,wt){return it=wt.ref,{$$typeof:s,type:D,key:X,ref:it!==void 0?it:null,props:wt}}function S(D,X){return N(D.type,X,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function O(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(it){return X[it]})}var M=/\/+/g;function U(D,X){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):X.toString(36)}function w(){}function ge(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(w,w):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ae(D,X,it,$,dt){var wt=typeof D;(wt==="undefined"||wt==="boolean")&&(D=null);var gt=!1;if(D===null)gt=!0;else switch(wt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(D.$$typeof){case s:case e:gt=!0;break;case A:return gt=D._init,ae(gt(D._payload),X,it,$,dt)}}if(gt)return dt=dt(D),gt=$===""?"."+U(D,0):$,Nt(dt)?(it="",gt!=null&&(it=gt.replace(M,"$&/")+"/"),ae(dt,X,it,"",function(vn){return vn})):dt!=null&&(R(dt)&&(dt=S(dt,it+(dt.key==null||D&&D.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+gt)),X.push(dt)),1;gt=0;var Ee=$===""?".":$+":";if(Nt(D))for(var $t=0;$t<D.length;$t++)$=D[$t],wt=Ee+U($,$t),gt+=ae($,X,it,wt,dt);else if($t=I(D),typeof $t=="function")for(D=$t.call(D),$t=0;!($=D.next()).done;)$=$.value,wt=Ee+U($,$t++),gt+=ae($,X,it,wt,dt);else if(wt==="object"){if(typeof D.then=="function")return ae(ge(D),X,it,$,dt);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return gt}function k(D,X,it){if(D==null)return D;var $=[],dt=0;return ae(D,$,"","",function(wt){return X.call(it,wt,dt++)}),$}function nt(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(it){(D._status===0||D._status===-1)&&(D._status=1,D._result=it)},function(it){(D._status===0||D._status===-1)&&(D._status=2,D._result=it)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var ft=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Gt(){}return Dt.Children={map:k,forEach:function(D,X,it){k(D,function(){X.apply(this,arguments)},it)},count:function(D){var X=0;return k(D,function(){X++}),X},toArray:function(D){return k(D,function(X){return X})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Dt.Component=tt,Dt.Fragment=i,Dt.Profiler=u,Dt.PureComponent=vt,Dt.StrictMode=a,Dt.Suspense=_,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return bt.H.useMemoCache(D)}},Dt.cache=function(D){return function(){return D.apply(null,arguments)}},Dt.cloneElement=function(D,X,it){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var $=W({},D.props),dt=D.key,wt=void 0;if(X!=null)for(gt in X.ref!==void 0&&(wt=void 0),X.key!==void 0&&(dt=""+X.key),X)!Ht.call(X,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&X.ref===void 0||($[gt]=X[gt]);var gt=arguments.length-2;if(gt===1)$.children=it;else if(1<gt){for(var Ee=Array(gt),$t=0;$t<gt;$t++)Ee[$t]=arguments[$t+2];$.children=Ee}return N(D.type,dt,void 0,void 0,wt,$)},Dt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Dt.createElement=function(D,X,it){var $,dt={},wt=null;if(X!=null)for($ in X.key!==void 0&&(wt=""+X.key),X)Ht.call(X,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(dt[$]=X[$]);var gt=arguments.length-2;if(gt===1)dt.children=it;else if(1<gt){for(var Ee=Array(gt),$t=0;$t<gt;$t++)Ee[$t]=arguments[$t+2];dt.children=Ee}if(D&&D.defaultProps)for($ in gt=D.defaultProps,gt)dt[$]===void 0&&(dt[$]=gt[$]);return N(D,wt,void 0,void 0,null,dt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(D){return{$$typeof:p,render:D}},Dt.isValidElement=R,Dt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:nt}},Dt.memo=function(D,X){return{$$typeof:v,type:D,compare:X===void 0?null:X}},Dt.startTransition=function(D){var X=bt.T,it={};bt.T=it;try{var $=D(),dt=bt.S;dt!==null&&dt(it,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Gt,ft)}catch(wt){ft(wt)}finally{bt.T=X}},Dt.unstable_useCacheRefresh=function(){return bt.H.useCacheRefresh()},Dt.use=function(D){return bt.H.use(D)},Dt.useActionState=function(D,X,it){return bt.H.useActionState(D,X,it)},Dt.useCallback=function(D,X){return bt.H.useCallback(D,X)},Dt.useContext=function(D){return bt.H.useContext(D)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(D,X){return bt.H.useDeferredValue(D,X)},Dt.useEffect=function(D,X,it){var $=bt.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(D,X)},Dt.useId=function(){return bt.H.useId()},Dt.useImperativeHandle=function(D,X,it){return bt.H.useImperativeHandle(D,X,it)},Dt.useInsertionEffect=function(D,X){return bt.H.useInsertionEffect(D,X)},Dt.useLayoutEffect=function(D,X){return bt.H.useLayoutEffect(D,X)},Dt.useMemo=function(D,X){return bt.H.useMemo(D,X)},Dt.useOptimistic=function(D,X){return bt.H.useOptimistic(D,X)},Dt.useReducer=function(D,X,it){return bt.H.useReducer(D,X,it)},Dt.useRef=function(D){return bt.H.useRef(D)},Dt.useState=function(D){return bt.H.useState(D)},Dt.useSyncExternalStore=function(D,X,it){return bt.H.useSyncExternalStore(D,X,it)},Dt.useTransition=function(){return bt.H.useTransition()},Dt.version="19.1.0",Dt}var iy;function ud(){return iy||(iy=1,Cf.exports=LE()),Cf.exports}var zt=ud(),Vf={exports:{}},Fl={},If={exports:{}},Of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function zE(){return ry||(ry=1,function(s){function e(k,nt){var ft=k.length;k.push(nt);t:for(;0<ft;){var Gt=ft-1>>>1,D=k[Gt];if(0<u(D,nt))k[Gt]=nt,k[ft]=D,ft=Gt;else break t}}function i(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var nt=k[0],ft=k.pop();if(ft!==nt){k[0]=ft;t:for(var Gt=0,D=k.length,X=D>>>1;Gt<X;){var it=2*(Gt+1)-1,$=k[it],dt=it+1,wt=k[dt];if(0>u($,ft))dt<D&&0>u(wt,$)?(k[Gt]=wt,k[dt]=ft,Gt=dt):(k[Gt]=$,k[it]=ft,Gt=it);else if(dt<D&&0>u(wt,ft))k[Gt]=wt,k[dt]=ft,Gt=dt;else break t}}return nt}function u(k,nt){var ft=k.sortIndex-nt.sortIndex;return ft!==0?ft:k.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,C=null,I=3,H=!1,W=!1,rt=!1,tt=!1,St=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Nt(k){for(var nt=i(v);nt!==null;){if(nt.callback===null)a(v);else if(nt.startTime<=k)a(v),nt.sortIndex=nt.expirationTime,e(_,nt);else break;nt=i(v)}}function bt(k){if(rt=!1,Nt(k),!W)if(i(_)!==null)W=!0,Ht||(Ht=!0,U());else{var nt=i(v);nt!==null&&ae(bt,nt.startTime-k)}}var Ht=!1,N=-1,S=5,R=-1;function O(){return tt?!0:!(s.unstable_now()-R<S)}function M(){if(tt=!1,Ht){var k=s.unstable_now();R=k;var nt=!0;try{t:{W=!1,rt&&(rt=!1,vt(N),N=-1),H=!0;var ft=I;try{e:{for(Nt(k),C=i(_);C!==null&&!(C.expirationTime>k&&O());){var Gt=C.callback;if(typeof Gt=="function"){C.callback=null,I=C.priorityLevel;var D=Gt(C.expirationTime<=k);if(k=s.unstable_now(),typeof D=="function"){C.callback=D,Nt(k),nt=!0;break e}C===i(_)&&a(_),Nt(k)}else a(_);C=i(_)}if(C!==null)nt=!0;else{var X=i(v);X!==null&&ae(bt,X.startTime-k),nt=!1}}break t}finally{C=null,I=ft,H=!1}nt=void 0}}finally{nt?U():Ht=!1}}}var U;if(typeof pt=="function")U=function(){pt(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ge=w.port2;w.port1.onmessage=M,U=function(){ge.postMessage(null)}}else U=function(){St(M,0)};function ae(k,nt){N=St(function(){k(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(k){k.callback=null},s.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<k?Math.floor(1e3/k):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(k){switch(I){case 1:case 2:case 3:var nt=3;break;default:nt=I}var ft=I;I=nt;try{return k()}finally{I=ft}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(k,nt){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ft=I;I=k;try{return nt()}finally{I=ft}},s.unstable_scheduleCallback=function(k,nt,ft){var Gt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Gt+ft:Gt):ft=Gt,k){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ft+D,k={id:A++,callback:nt,priorityLevel:k,startTime:ft,expirationTime:D,sortIndex:-1},ft>Gt?(k.sortIndex=ft,e(v,k),i(_)===null&&k===i(v)&&(rt?(vt(N),N=-1):rt=!0,ae(bt,ft-Gt))):(k.sortIndex=D,e(_,k),W||H||(W=!0,Ht||(Ht=!0,U()))),k},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(k){var nt=I;return function(){var ft=I;I=nt;try{return k.apply(this,arguments)}finally{I=ft}}}}(Of)),Of}var ay;function PE(){return ay||(ay=1,If.exports=zE()),If.exports}var Nf={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function BE(){if(sy)return $e;sy=1;var s=ud();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$e.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},$e.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},$e.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},$e.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},$e.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,C=p(A,v.crossOrigin),I=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:I,fetchPriority:H}):A==="script"&&a.d.X(_,{crossOrigin:C,integrity:I,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},$e.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},$e.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,C=p(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},$e.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},$e.requestFormReset=function(_){a.d.r(_)},$e.unstable_batchedUpdates=function(_,v){return _(v)},$e.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.1.0",$e}var ly;function jE(){if(ly)return Nf.exports;ly=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Nf.exports=BE(),Nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function kE(){if(uy)return Fl;uy=1;var s=PE(),e=ud(),i=jE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),St=Symbol.for("react.provider"),vt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Nt=Symbol.for("react.forward_ref"),bt=Symbol.for("react.suspense"),Ht=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case tt:return"Profiler";case rt:return"StrictMode";case bt:return"Suspense";case Ht:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case pt:return(t.displayName||"Context")+".Provider";case vt:return(t._context.displayName||"Context")+".Consumer";case Nt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:ge(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ge(t(n))}catch{}}return null}var ae=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Gt=[],D=-1;function X(t){return{current:t}}function it(t){0>D||(t.current=Gt[D],Gt[D]=null,D--)}function $(t,n){D++,Gt[D]=t.current,t.current=n}var dt=X(null),wt=X(null),gt=X(null),Ee=X(null);function $t(t,n){switch($(gt,n),$(wt,t),$(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Cp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Cp(n),t=Vp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(dt),$(dt,t)}function vn(){it(dt),it(wt),it(gt)}function En(t){t.memoizedState!==null&&$(Ee,t);var n=dt.current,r=Vp(n,t.type);n!==r&&($(wt,t),$(dt,r))}function Tn(t){wt.current===t&&(it(dt),it(wt)),Ee.current===t&&(it(Ee),Bl._currentValue=ft)}var Xi=Object.prototype.hasOwnProperty,Ki=s.unstable_scheduleCallback,Zi=s.unstable_cancelCallback,Va=s.unstable_shouldYield,Ia=s.unstable_requestPaint,Ke=s.unstable_now,Ps=s.unstable_getCurrentPriorityLevel,Ln=s.unstable_ImmediatePriority,Fn=s.unstable_UserBlockingPriority,Qn=s.unstable_NormalPriority,K=s.unstable_LowPriority,st=s.unstable_IdlePriority,ot=s.log,Mt=s.unstable_setDisableYieldValue,Ct=null,ct=null;function ne(t){if(typeof ot=="function"&&Mt(t),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(Ct,t)}catch{}}var ue=Math.clz32?Math.clz32:Pr,Yn=Math.log,zr=Math.LN2;function Pr(t){return t>>>=0,t===0?32:31-(Yn(t)/zr|0)|0}var Br=256,jr=4194304;function zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Oa(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=zn(l):(y&=E,y!==0?c=zn(y):r||(r=E&~t,r!==0&&(c=zn(r))))):(E=l&~f,E!==0?c=zn(E):y!==0?c=zn(y):r||(r=l&~t,r!==0&&(c=zn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function kr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function js(){var t=Br;return Br<<=1,(Br&4194048)===0&&(Br=256),t}function ks(){var t=jr;return jr<<=1,(jr&62914560)===0&&(jr=4194304),t}function _i(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function vi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qs(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-ue(r),Q=1<<G;E[G]=0,b[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var j=B[G];j!==null&&(j.lane&=-536870913)}r&=~Q}l!==0&&Xn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Xn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ue(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Hs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ue(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function $i(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Na(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ji(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:Xp(t.type))}function pu(t,n){var r=nt.p;try{return nt.p=t,n()}finally{nt.p=r}}var oe=Math.random().toString(36).slice(2),Ce="__reactFiber$"+oe,Te="__reactProps$"+oe,An="__reactContainer$"+oe,Gs="__reactEvents$"+oe,Vc="__reactListeners$"+oe,Wi="__reactHandles$"+oe,yu="__reactResources$"+oe,qr="__reactMarker$"+oe;function tr(t){delete t[Ce],delete t[Te],delete t[Gs],delete t[Vc],delete t[Wi]}function Ei(t){var n=t[Ce];if(n)return n;for(var r=t.parentNode;r;){if(n=r[An]||r[Ce]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Mp(t);t!==null;){if(r=t[Ce])return r;t=Mp(t)}return n}t=r,r=t.parentNode}return null}function Kn(t){if(t=t[Ce]||t[An]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function en(t){var n=t[yu];return n||(n=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pe(t){t[qr]=!0}var Fs=new Set,Ma={};function Pn(t,n){Ti(t,n),Ti(t+"Capture",n)}function Ti(t,n){for(Ma[t]=n,t=0;t<n.length;t++)Fs.add(n[t])}var _u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},Hr={};function Eu(t){return Xi.call(Hr,t)?!0:Xi.call(vu,t)?!1:_u.test(t)?Hr[t]=!0:(vu[t]=!0,!1)}function er(t,n,r){if(Eu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function $n(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function ke(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Gr,Tu;function Ai(t){if(Gr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Gr=n&&n[1]||"",Tu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gr+t+Tu}var xa=!1;function Ua(t,n){if(!t||xa)return"";xa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var B=j}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(j){B=j}t.call(Q.prototype)}}else{try{throw Error()}catch(j){B=j}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{xa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ai(r):""}function Qs(t){switch(t.tag){case 26:case 27:case 5:return Ai(t.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return Ua(t.type,!1);case 11:return Ua(t.type.render,!1);case 1:return Ua(t.type,!0);case 31:return Ai("Activity");default:return""}}function La(t){try{var n="";do n+=Qs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ys(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ic(t){var n=Ys(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function za(t){t._valueTracker||(t._valueTracker=Ic(t))}function Xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ys(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Fr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Oc=/[\n"\\]/g;function Ae(t){return t.replace(Oc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nn(n)):t.value!==""+nn(n)&&(t.value=""+nn(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?nr(t,y,nn(n)):r!=null?nr(t,y,nn(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+nn(E):t.removeAttribute("name")}function Qr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+nn(r):"",n=n!=null?""+nn(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function nr(t,n,r){n==="number"&&Fr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Si(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+nn(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Jt(t,n,r){if(n!=null&&(n=""+nn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+nn(r):""}function Yr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ae(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=nn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Sn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Au(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Xr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ks(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Au(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Au(t,f,n[f])}function Zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(t){return Mc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var bi=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ri=null,wi=null;function $s(t){var n=Kn(t);if(n&&(t=n.stateNode)){var r=t[Te]||null;t:switch(t=n.stateNode,n.type){case"input":if(hn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ae(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[Te]||null;if(!c)throw Error(a(90));hn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Xs(l)}break t;case"textarea":Jt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Si(t,!!r.multiple,n,!1)}}}var Jn=!1;function Su(t,n,r){if(Jn)return t(n,r);Jn=!0;try{var l=t(n);return l}finally{if(Jn=!1,(Ri!==null||wi!==null)&&(yo(),Ri&&(n=Ri,t=wi,wi=Ri=null,$s(n),t)))for(n=0;n<t.length;n++)$s(t[n])}}function Kr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Te]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(Bn)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{Rn=!1}var Wn=null,ir=null,Di=null;function Js(){if(Di)return Di;var t,n=ir,r=n.length,l,c="value"in Wn?Wn.value:Wn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return Di=c.slice(t,1<l?1-l:void 0)}function ti(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ei(){return!0}function Ws(){return!1}function Ue(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ei:Ws,this.isPropagationStopped=Ws,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),n}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=Ue(Yt),$r=A({},Yt,{view:0,detail:0}),bu=Ue($r),ja,ka,ni,Jr=A({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ni&&(ni&&t.type==="mousemove"?(ja=t.screenX-ni.screenX,ka=t.screenY-ni.screenY):ka=ja=0,ni=t),ja)},movementY:function(t){return"movementY"in t?t.movementY:ka}}),wn=Ue(Jr),Ru=A({},Jr,{dataTransfer:0}),xc=Ue(Ru),Wr=A({},$r,{relatedTarget:0}),qa=Ue(Wr),tl=A({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ha=Ue(tl),wu=A({},Yt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ga=Ue(wu),Uc=A({},Yt,{data:0}),el=Ue(Uc),ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cu[t])?!!n[t]:!1}function ea(){return nl}var Vu=A({},$r,{key:function(t){if(t.key){var n=ta[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(t){return t.type==="keypress"?ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fa=Ue(Vu),Iu=A({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=Ue(Iu),Ci=A({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),Ou=Ue(Ci),Nu=A({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mu=Ue(Nu),xu=A({},Jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qa=Ue(xu),rn=A({},Yt,{newState:0,oldState:0}),Uu=Ue(rn),Lu=[9,13,27,32],ii=Bn&&"CompositionEvent"in window,o=null;Bn&&"documentMode"in document&&(o=document.documentMode);var m=Bn&&"TextEvent"in window&&!o,g=Bn&&(!ii||o&&8<o&&11>=o),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return Lu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pt=!1;function Ve(t,n){switch(t){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Bt(t,n){if(Pt)return t==="compositionend"||!ii&&q(t,n)?(t=Js(),Di=ir=Wn=null,Pt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Le[t.type]:n==="textarea"}function Vi(t,n,r,l){Ri?wi?wi.push(l):wi=[l]:Ri=l,n=So(n,"onChange"),0<n.length&&(r=new Ba("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var qe=null,ri=null;function rl(t){Sp(t,0)}function zu(t){var n=Zn(t);if(Xs(n))return t}function Gd(t,n){if(t==="change")return n}var Fd=!1;if(Bn){var Lc;if(Bn){var zc="oninput"in document;if(!zc){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),zc=typeof Qd.oninput=="function"}Lc=zc}else Lc=!1;Fd=Lc&&(!document.documentMode||9<document.documentMode)}function Yd(){qe&&(qe.detachEvent("onpropertychange",Xd),ri=qe=null)}function Xd(t){if(t.propertyName==="value"&&zu(ri)){var n=[];Vi(n,ri,t,bn(t)),Su(rl,n)}}function c0(t,n,r){t==="focusin"?(Yd(),qe=n,ri=r,qe.attachEvent("onpropertychange",Xd)):t==="focusout"&&Yd()}function h0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(ri)}function f0(t,n){if(t==="click")return zu(n)}function d0(t,n){if(t==="input"||t==="change")return zu(n)}function m0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fn=typeof Object.is=="function"?Object.is:m0;function al(t,n){if(fn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Xi.call(n,c)||!fn(t[c],n[c]))return!1}return!0}function Kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zd(t,n){var r=Kd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Kd(r)}}function $d(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?$d(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Fr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Fr(t.document)}return n}function Pc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var g0=Bn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Bc=null,sl=null,jc=!1;function Wd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jc||Ya==null||Ya!==Fr(l)||(l=Ya,"selectionStart"in l&&Pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&al(sl,l)||(sl=l,l=So(Bc,"onSelect"),0<l.length&&(n=new Ba("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ya)))}function na(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Xa={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},kc={},tm={};Bn&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ia(t){if(kc[t])return kc[t];if(!Xa[t])return t;var n=Xa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in tm)return kc[t]=n[r];return t}var em=ia("animationend"),nm=ia("animationiteration"),im=ia("animationstart"),p0=ia("transitionrun"),y0=ia("transitionstart"),_0=ia("transitioncancel"),rm=ia("transitionend"),am=new Map,qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qc.push("scrollEnd");function jn(t,n){am.set(t,n),Pn(n,[t])}var sm=new WeakMap;function Dn(t,n){if(typeof t=="object"&&t!==null){var r=sm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:La(n)},sm.set(t,n),n)}return{value:t,source:n,stack:La(n)}}var Cn=[],Ka=0,Hc=0;function Pu(){for(var t=Ka,n=Hc=Ka=0;n<t;){var r=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var c=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&lm(r,c,f)}}function Bu(t,n,r,l){Cn[Ka++]=t,Cn[Ka++]=n,Cn[Ka++]=r,Cn[Ka++]=l,Hc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gc(t,n,r,l){return Bu(t,n,r,l),ju(t)}function Za(t,n){return Bu(t,null,null,n),ju(t)}function lm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ue(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function ju(t){if(50<Ol)throw Ol=0,Zh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var $a={};function v0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,r,l){return new v0(t,n,r,l)}function Fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ii(t,n){var r=t.alternate;return r===null?(r=dn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function um(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ku(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Fc(t)&&(y=1);else if(typeof t=="string")y=TE(t,r,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=dn(31,r,n,c),t.elementType=R,t.lanes=f,t;case W:return ra(r.children,c,f,n);case rt:y=8,c|=24;break;case tt:return t=dn(12,r,n,c|2),t.elementType=tt,t.lanes=f,t;case bt:return t=dn(13,r,n,c),t.elementType=bt,t.lanes=f,t;case Ht:return t=dn(19,r,n,c),t.elementType=Ht,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case St:case pt:y=10;break t;case vt:y=9;break t;case Nt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=dn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ra(t,n,r,l){return t=dn(7,t,l,n),t.lanes=r,t}function Qc(t,n,r){return t=dn(6,t,null,n),t.lanes=r,t}function Yc(t,n,r){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ja=[],Wa=0,qu=null,Hu=0,Vn=[],In=0,aa=null,Oi=1,Ni="";function sa(t,n){Ja[Wa++]=Hu,Ja[Wa++]=qu,qu=t,Hu=n}function om(t,n,r){Vn[In++]=Oi,Vn[In++]=Ni,Vn[In++]=aa,aa=t;var l=Oi;t=Ni;var c=32-ue(l)-1;l&=~(1<<c),r+=1;var f=32-ue(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Oi=1<<32-ue(n)+c|r<<c|l,Ni=f+t}else Oi=1<<f|r<<c|l,Ni=t}function Xc(t){t.return!==null&&(sa(t,1),om(t,1,0))}function Kc(t){for(;t===qu;)qu=Ja[--Wa],Ja[Wa]=null,Hu=Ja[--Wa],Ja[Wa]=null;for(;t===aa;)aa=Vn[--In],Vn[In]=null,Ni=Vn[--In],Vn[In]=null,Oi=Vn[--In],Vn[In]=null}var an=null,de=null,Qt=!1,la=null,ai=!1,Zc=Error(a(519));function ua(t){var n=Error(a(418,""));throw ol(Dn(n,t)),Zc}function cm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ce]=t,n[Te]=l,r){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(r=0;r<Ml.length;r++)Ut(Ml[r],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":Ut("invalid",n),Qr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),za(n);break;case"select":Ut("invalid",n);break;case"textarea":Ut("invalid",n),Yr(n,l.value,l.defaultValue,l.children),za(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Dp(n.textContent,r)?(l.popover!=null&&(Ut("beforetoggle",n),Ut("toggle",n)),l.onScroll!=null&&Ut("scroll",n),l.onScrollEnd!=null&&Ut("scrollend",n),l.onClick!=null&&(n.onclick=bo),n=!0):n=!1,n||ua(t)}function hm(t){for(an=t.return;an;)switch(an.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:an=an.return}}function ll(t){if(t!==an)return!1;if(!Qt)return hm(t),Qt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||df(t.type,t.memoizedProps)),r=!r),r&&de&&ua(t),hm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){de=qn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}de=null}}else n===27?(n=de,vr(t.type)?(t=yf,yf=null,de=t):de=n):de=an?qn(t.stateNode.nextSibling):null;return!0}function ul(){de=an=null,Qt=!1}function fm(){var t=la;return t!==null&&(on===null?on=t:on.push.apply(on,t),la=null),t}function ol(t){la===null?la=[t]:la.push(t)}var $c=X(null),oa=null,Mi=null;function rr(t,n,r){$($c,n._currentValue),n._currentValue=r}function xi(t){t._currentValue=$c.current,it($c)}function Jc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Wc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Jc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Jc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function cl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;fn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ee.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}c=c.return}t!==null&&Wc(n,t,r,l),n.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ca(t){oa=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ze(t){return dm(oa,t)}function Fu(t,n){return oa===null&&ca(t),dm(t,n)}function dm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Mi===null){if(t===null)throw Error(a(308));Mi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Mi=Mi.next=n;return r}var E0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},T0=s.unstable_scheduleCallback,A0=s.unstable_NormalPriority,Oe={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function th(){return{controller:new E0,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&T0(A0,function(){t.controller.abort()})}var fl=null,eh=0,ts=0,es=null;function S0(t,n){if(fl===null){var r=fl=[];eh=0,ts=rf(),es={status:"pending",value:void 0,then:function(l){r.push(l)}}}return eh++,n.then(mm,mm),n}function mm(){if(--eh===0&&fl!==null){es!==null&&(es.status="fulfilled");var t=fl;fl=null,ts=0,es=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function b0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var gm=k.S;k.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&S0(t,n),gm!==null&&gm(t,n)};var ha=X(null);function nh(){var t=ha.current;return t!==null?t:re.pooledCache}function Qu(t,n){n===null?$(ha,ha.current):$(ha,n.pool)}function pm(){var t=nh();return t===null?null:{parent:Oe._currentValue,pool:t}}var dl=Error(a(460)),ym=Error(a(474)),Yu=Error(a(542)),ih={then:function(){}};function _m(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xu(){}function vm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Xu,Xu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Tm(t),t;default:if(typeof n.status=="string")n.then(Xu,Xu);else{if(t=re,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Tm(t),t}throw ml=n,dl}}var ml=null;function Em(){if(ml===null)throw Error(a(459));var t=ml;return ml=null,t}function Tm(t){if(t===dl||t===Yu)throw Error(a(483))}var ar=!1;function rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ah(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function lr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=ju(t),lm(t,null,r),n}return Bu(t,l,n,r),ju(t)}function gl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hs(t,r)}}function sh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var lh=!1;function pl(){if(lh){var t=es;if(t!==null)throw t}}function yl(t,n,r,l){lh=!1;var c=t.updateQueue;ar=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var Q=c.baseState;y=0,G=P=b=null,E=f;do{var B=E.lane&-536870913,j=B!==E.lane;if(j?(jt&B)===B:(l&B)===B){B!==0&&B===ts&&(lh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Tt=t,yt=E;B=n;var ee=r;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){Q=Tt.call(ee,Q,B);break t}Q=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,B=typeof Tt=="function"?Tt.call(ee,Q,B):Tt,B==null)break t;Q=A({},Q,B);break t;case 2:ar=!0}}B=E.callback,B!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[B]:j.push(B))}else j={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=j,b=Q):G=G.next=j,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);G===null&&(b=Q),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),gr|=y,t.lanes=y,t.memoizedState=Q}}function Am(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Sm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Am(r[t],n)}var ns=X(null),Ku=X(0);function bm(t,n){t=ki,$(Ku,t),$(ns,n),ki=t|n.baseLanes}function uh(){$(Ku,ki),$(ns,ns.current)}function oh(){ki=Ku.current,it(ns),it(Ku)}var ur=0,Vt=null,Wt=null,Se=null,Zu=!1,is=!1,fa=!1,$u=0,_l=0,rs=null,R0=0;function ye(){throw Error(a(321))}function ch(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!fn(t[r],n[r]))return!1;return!0}function hh(t,n,r,l,c,f){return ur=f,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=t===null||t.memoizedState===null?lg:ug,fa=!1,f=r(l,c),fa=!1,is&&(f=wm(n,r,l,c)),Rm(t),f}function Rm(t){k.H=io;var n=Wt!==null&&Wt.next!==null;if(ur=0,Se=Wt=Vt=null,Zu=!1,_l=0,rs=null,n)throw Error(a(300));t===null||ze||(t=t.dependencies,t!==null&&Gu(t)&&(ze=!0))}function wm(t,n,r,l){Vt=t;var c=0;do{if(is&&(rs=null),_l=0,is=!1,25<=c)throw Error(a(301));if(c+=1,Se=Wt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=N0,f=n(r,l)}while(is);return f}function w0(){var t=k.H,n=t.useState()[0];return n=typeof n.then=="function"?vl(n):n,t=t.useState()[0],(Wt!==null?Wt.memoizedState:null)!==t&&(Vt.flags|=1024),n}function fh(){var t=$u!==0;return $u=0,t}function dh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function mh(t){if(Zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zu=!1}ur=0,Se=Wt=Vt=null,is=!1,_l=$u=0,rs=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Vt.memoizedState=Se=t:Se=Se.next=t,Se}function be(){if(Wt===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var n=Se===null?Vt.memoizedState:Se.next;if(n!==null)Se=n,Wt=t;else{if(t===null)throw Vt.alternate===null?Error(a(467)):Error(a(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Se===null?Vt.memoizedState=Se=t:Se=Se.next=t}return Se}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var n=_l;return _l+=1,rs===null&&(rs=[]),t=vm(rs,t,n),n=Vt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?lg:ug),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===pt)return Ze(t)}throw Error(a(438,String(t)))}function ph(t){var n=null,r=Vt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=gh(),Vt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function Ui(t,n){return typeof n=="function"?n(t):n}function Wu(t){var n=be();return yh(n,Wt,t)}function yh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(jt&Q)===Q:(ur&Q)===Q){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===ts&&(G=!0);else if((ur&B)===B){P=P.next,B===ts&&(G=!0);continue}else Q={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=Q,y=f):b=b.next=Q,Vt.lanes|=B,gr|=B;Q=P.action,fa&&r(f,Q),f=P.hasEagerState?P.eagerState:r(f,Q)}else B={lane:Q,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,Vt.lanes|=Q,gr|=Q;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!fn(f,t.memoizedState)&&(ze=!0,G&&(r=es,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _h(t){var n=be(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);fn(f,n.memoizedState)||(ze=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Dm(t,n,r){var l=Vt,c=be(),f=Qt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!fn((Wt||c).memoizedState,r);y&&(c.memoizedState=r,ze=!0),c=c.queue;var E=Im.bind(null,l,c,t);if(El(2048,8,E,[t]),c.getSnapshot!==n||y||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,as(9,to(),Vm.bind(null,l,c,r,n),null),re===null)throw Error(a(349));f||(ur&124)!==0||Cm(l,n,r)}return r}function Cm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Vt.updateQueue,n===null?(n=gh(),Vt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Vm(t,n,r,l){n.value=r,n.getSnapshot=l,Om(n)&&Nm(t)}function Im(t,n,r){return r(function(){Om(n)&&Nm(t)})}function Om(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!fn(t,r)}catch{return!0}}function Nm(t){var n=Za(t,2);n!==null&&_n(n,t,2)}function vh(t){var n=ln();if(typeof t=="function"){var r=t;if(t=r(),fa){ne(!0);try{r()}finally{ne(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},n}function Mm(t,n,r,l){return t.baseState=r,yh(t,Wt,typeof l=="function"?l:Ui)}function D0(t,n,r,l,c){if(no(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};k.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,xm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function xm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=k.T,y={};k.T=y;try{var E=r(c,l),b=k.S;b!==null&&b(y,E),Um(t,n,E)}catch(P){Eh(t,n,P)}finally{k.T=f}}else try{f=r(c,l),Um(t,n,f)}catch(P){Eh(t,n,P)}}function Um(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Lm(t,n,l)},function(l){return Eh(t,n,l)}):Lm(t,n,r)}function Lm(t,n,r){n.status="fulfilled",n.value=r,zm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,xm(t,r)))}function Eh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,zm(n),n=n.next;while(n!==l)}t.action=null}function zm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Pm(t,n){return n}function Bm(t,n){if(Qt){var r=re.formState;if(r!==null){t:{var l=Vt;if(Qt){if(de){e:{for(var c=de,f=ai;c.nodeType!==8;){if(!f){c=null;break e}if(c=qn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){de=qn(c.nextSibling),l=c.data==="F!";break t}}ua(l)}l=!1}l&&(n=r[0])}}return r=ln(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:n},r.queue=l,r=rg.bind(null,Vt,l),l.dispatch=r,l=vh(!1),f=Rh.bind(null,Vt,!1,l.queue),l=ln(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=D0.bind(null,Vt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function jm(t){var n=be();return km(n,Wt,t)}function km(t,n,r){if(n=yh(t,n,Pm)[0],t=Wu(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=vl(n)}catch(y){throw y===dl?Yu:y}else l=n;n=be();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Vt.flags|=2048,as(9,to(),C0.bind(null,c,r),null)),[l,f,t]}function C0(t,n){t.action=n}function qm(t){var n=be(),r=Wt;if(r!==null)return km(n,r,t);be(),n=n.memoizedState,r=be();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function as(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Vt.updateQueue,n===null&&(n=gh(),Vt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function to(){return{destroy:void 0,resource:void 0}}function Hm(){return be().memoizedState}function eo(t,n,r,l){var c=ln();l=l===void 0?null:l,Vt.flags|=t,c.memoizedState=as(1|n,to(),r,l)}function El(t,n,r,l){var c=be();l=l===void 0?null:l;var f=c.memoizedState.inst;Wt!==null&&l!==null&&ch(l,Wt.memoizedState.deps)?c.memoizedState=as(n,f,r,l):(Vt.flags|=t,c.memoizedState=as(1|n,f,r,l))}function Gm(t,n){eo(8390656,8,t,n)}function Fm(t,n){El(2048,8,t,n)}function Qm(t,n){return El(4,2,t,n)}function Ym(t,n){return El(4,4,t,n)}function Xm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Km(t,n,r){r=r!=null?r.concat([t]):null,El(4,4,Xm.bind(null,n,t),r)}function Th(){}function Zm(t,n){var r=be();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&ch(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function $m(t,n){var r=be();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&ch(n,l[1]))return l[0];if(l=t(),fa){ne(!0);try{t()}finally{ne(!1)}}return r.memoizedState=[l,n],l}function Ah(t,n,r){return r===void 0||(ur&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=tp(),Vt.lanes|=t,gr|=t,r)}function Jm(t,n,r,l){return fn(r,n)?r:ns.current!==null?(t=Ah(t,r,l),fn(t,n)||(ze=!0),t):(ur&42)===0?(ze=!0,t.memoizedState=r):(t=tp(),Vt.lanes|=t,gr|=t,n)}function Wm(t,n,r,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=k.T,E={};k.T=E,Rh(t,!1,n,r);try{var b=c(),P=k.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=b0(b,l);Tl(t,n,G,yn(t))}else Tl(t,n,l,yn(t))}catch(Q){Tl(t,n,{then:function(){},status:"rejected",reason:Q},yn())}finally{nt.p=f,k.T=y}}function V0(){}function Sh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=tg(t).queue;Wm(t,c,n,ft,r===null?V0:function(){return eg(t),r(l)})}function tg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function eg(t){var n=tg(t).next.queue;Tl(t,n,{},yn())}function bh(){return Ze(Bl)}function ng(){return be().memoizedState}function ig(){return be().memoizedState}function I0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=yn();t=sr(r);var l=lr(n,t,r);l!==null&&(_n(l,n,r),gl(l,n,r)),n={cache:th()},t.payload=n;return}n=n.return}}function O0(t,n,r){var l=yn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},no(t)?ag(n,r):(r=Gc(t,n,r,l),r!==null&&(_n(r,t,l),sg(r,n,l)))}function rg(t,n,r){var l=yn();Tl(t,n,r,l)}function Tl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(no(t))ag(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,fn(E,y))return Bu(t,n,c,0),re===null&&Pu(),!1}catch{}finally{}if(r=Gc(t,n,c,l),r!==null)return _n(r,t,l),sg(r,n,l),!0}return!1}function Rh(t,n,r,l){if(l={lane:2,revertLane:rf(),action:l,hasEagerState:!1,eagerState:null,next:null},no(t)){if(n)throw Error(a(479))}else n=Gc(t,r,l,2),n!==null&&_n(n,t,2)}function no(t){var n=t.alternate;return t===Vt||n!==null&&n===Vt}function ag(t,n){is=Zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function sg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hs(t,r)}}var io={readContext:Ze,use:Ju,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},lg={readContext:Ze,use:Ju,useCallback:function(t,n){return ln().memoizedState=[t,n===void 0?null:n],t},useContext:Ze,useEffect:Gm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,eo(4194308,4,Xm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return eo(4194308,4,t,n)},useInsertionEffect:function(t,n){eo(4,2,t,n)},useMemo:function(t,n){var r=ln();n=n===void 0?null:n;var l=t();if(fa){ne(!0);try{t()}finally{ne(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=ln();if(r!==void 0){var c=r(n);if(fa){ne(!0);try{r(n)}finally{ne(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=O0.bind(null,Vt,t),[l.memoizedState,t]},useRef:function(t){var n=ln();return t={current:t},n.memoizedState=t},useState:function(t){t=vh(t);var n=t.queue,r=rg.bind(null,Vt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Th,useDeferredValue:function(t,n){var r=ln();return Ah(r,t,n)},useTransition:function(){var t=vh(!1);return t=Wm.bind(null,Vt,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Vt,c=ln();if(Qt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),re===null)throw Error(a(349));(jt&124)!==0||Cm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Gm(Im.bind(null,l,f,t),[t]),l.flags|=2048,as(9,to(),Vm.bind(null,l,f,r,n),null),r},useId:function(){var t=ln(),n=re.identifierPrefix;if(Qt){var r=Ni,l=Oi;r=(l&~(1<<32-ue(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=$u++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=R0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:bh,useFormState:Bm,useActionState:Bm,useOptimistic:function(t){var n=ln();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Rh.bind(null,Vt,!0,r),r.dispatch=n,[t,n]},useMemoCache:ph,useCacheRefresh:function(){return ln().memoizedState=I0.bind(null,Vt)}},ug={readContext:Ze,use:Ju,useCallback:Zm,useContext:Ze,useEffect:Fm,useImperativeHandle:Km,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:$m,useReducer:Wu,useRef:Hm,useState:function(){return Wu(Ui)},useDebugValue:Th,useDeferredValue:function(t,n){var r=be();return Jm(r,Wt.memoizedState,t,n)},useTransition:function(){var t=Wu(Ui)[0],n=be().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:Dm,useId:ng,useHostTransitionStatus:bh,useFormState:jm,useActionState:jm,useOptimistic:function(t,n){var r=be();return Mm(r,Wt,t,n)},useMemoCache:ph,useCacheRefresh:ig},N0={readContext:Ze,use:Ju,useCallback:Zm,useContext:Ze,useEffect:Fm,useImperativeHandle:Km,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:$m,useReducer:_h,useRef:Hm,useState:function(){return _h(Ui)},useDebugValue:Th,useDeferredValue:function(t,n){var r=be();return Wt===null?Ah(r,t,n):Jm(r,Wt.memoizedState,t,n)},useTransition:function(){var t=_h(Ui)[0],n=be().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:Dm,useId:ng,useHostTransitionStatus:bh,useFormState:qm,useActionState:qm,useOptimistic:function(t,n){var r=be();return Wt!==null?Mm(r,Wt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:ph,useCacheRefresh:ig},ss=null,Al=0;function ro(t){var n=Al;return Al+=1,ss===null&&(ss=[]),vm(ss,t,n)}function Sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ao(t,n){throw n.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function og(t){var n=t._init;return n(t._payload)}function cg(t){function n(x,V){if(t){var z=x.deletions;z===null?(x.deletions=[V],x.flags|=16):z.push(V)}}function r(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=Ii(x,V),x.index=0,x.sibling=null,x}function f(x,V,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<V?(x.flags|=67108866,V):z):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,z,F){return V===null||V.tag!==6?(V=Qc(z,x.mode,F),V.return=x,V):(V=c(V,z),V.return=x,V)}function b(x,V,z,F){var lt=z.type;return lt===W?G(x,V,z.props.children,F,z.key):V!==null&&(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&og(lt)===V.type)?(V=c(V,z.props),Sl(V,z),V.return=x,V):(V=ku(z.type,z.key,z.props,null,x.mode,F),Sl(V,z),V.return=x,V)}function P(x,V,z,F){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Yc(z,x.mode,F),V.return=x,V):(V=c(V,z.children||[]),V.return=x,V)}function G(x,V,z,F,lt){return V===null||V.tag!==7?(V=ra(z,x.mode,F,lt),V.return=x,V):(V=c(V,z),V.return=x,V)}function Q(x,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Qc(""+V,x.mode,z),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return z=ku(V.type,V.key,V.props,null,x.mode,z),Sl(z,V),z.return=x,z;case H:return V=Yc(V,x.mode,z),V.return=x,V;case S:var F=V._init;return V=F(V._payload),Q(x,V,z)}if(ae(V)||U(V))return V=ra(V,x.mode,z,null),V.return=x,V;if(typeof V.then=="function")return Q(x,ro(V),z);if(V.$$typeof===pt)return Q(x,Fu(x,V),z);ao(x,V)}return null}function B(x,V,z,F){var lt=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return lt!==null?null:E(x,V,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return z.key===lt?b(x,V,z,F):null;case H:return z.key===lt?P(x,V,z,F):null;case S:return lt=z._init,z=lt(z._payload),B(x,V,z,F)}if(ae(z)||U(z))return lt!==null?null:G(x,V,z,F,null);if(typeof z.then=="function")return B(x,V,ro(z),F);if(z.$$typeof===pt)return B(x,V,Fu(x,z),F);ao(x,z)}return null}function j(x,V,z,F,lt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(z)||null,E(V,x,""+F,lt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case I:return x=x.get(F.key===null?z:F.key)||null,b(V,x,F,lt);case H:return x=x.get(F.key===null?z:F.key)||null,P(V,x,F,lt);case S:var Ot=F._init;return F=Ot(F._payload),j(x,V,z,F,lt)}if(ae(F)||U(F))return x=x.get(z)||null,G(V,x,F,lt,null);if(typeof F.then=="function")return j(x,V,z,ro(F),lt);if(F.$$typeof===pt)return j(x,V,z,Fu(V,F),lt);ao(V,F)}return null}function Tt(x,V,z,F){for(var lt=null,Ot=null,ht=V,_t=V=0,Be=null;ht!==null&&_t<z.length;_t++){ht.index>_t?(Be=ht,ht=null):Be=ht.sibling;var Ft=B(x,ht,z[_t],F);if(Ft===null){ht===null&&(ht=Be);break}t&&ht&&Ft.alternate===null&&n(x,ht),V=f(Ft,V,_t),Ot===null?lt=Ft:Ot.sibling=Ft,Ot=Ft,ht=Be}if(_t===z.length)return r(x,ht),Qt&&sa(x,_t),lt;if(ht===null){for(;_t<z.length;_t++)ht=Q(x,z[_t],F),ht!==null&&(V=f(ht,V,_t),Ot===null?lt=ht:Ot.sibling=ht,Ot=ht);return Qt&&sa(x,_t),lt}for(ht=l(ht);_t<z.length;_t++)Be=j(ht,x,_t,z[_t],F),Be!==null&&(t&&Be.alternate!==null&&ht.delete(Be.key===null?_t:Be.key),V=f(Be,V,_t),Ot===null?lt=Be:Ot.sibling=Be,Ot=Be);return t&&ht.forEach(function(br){return n(x,br)}),Qt&&sa(x,_t),lt}function yt(x,V,z,F){if(z==null)throw Error(a(151));for(var lt=null,Ot=null,ht=V,_t=V=0,Be=null,Ft=z.next();ht!==null&&!Ft.done;_t++,Ft=z.next()){ht.index>_t?(Be=ht,ht=null):Be=ht.sibling;var br=B(x,ht,Ft.value,F);if(br===null){ht===null&&(ht=Be);break}t&&ht&&br.alternate===null&&n(x,ht),V=f(br,V,_t),Ot===null?lt=br:Ot.sibling=br,Ot=br,ht=Be}if(Ft.done)return r(x,ht),Qt&&sa(x,_t),lt;if(ht===null){for(;!Ft.done;_t++,Ft=z.next())Ft=Q(x,Ft.value,F),Ft!==null&&(V=f(Ft,V,_t),Ot===null?lt=Ft:Ot.sibling=Ft,Ot=Ft);return Qt&&sa(x,_t),lt}for(ht=l(ht);!Ft.done;_t++,Ft=z.next())Ft=j(ht,x,_t,Ft.value,F),Ft!==null&&(t&&Ft.alternate!==null&&ht.delete(Ft.key===null?_t:Ft.key),V=f(Ft,V,_t),Ot===null?lt=Ft:Ot.sibling=Ft,Ot=Ft);return t&&ht.forEach(function(ME){return n(x,ME)}),Qt&&sa(x,_t),lt}function ee(x,V,z,F){if(typeof z=="object"&&z!==null&&z.type===W&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case I:t:{for(var lt=z.key;V!==null;){if(V.key===lt){if(lt=z.type,lt===W){if(V.tag===7){r(x,V.sibling),F=c(V,z.props.children),F.return=x,x=F;break t}}else if(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&og(lt)===V.type){r(x,V.sibling),F=c(V,z.props),Sl(F,z),F.return=x,x=F;break t}r(x,V);break}else n(x,V);V=V.sibling}z.type===W?(F=ra(z.props.children,x.mode,F,z.key),F.return=x,x=F):(F=ku(z.type,z.key,z.props,null,x.mode,F),Sl(F,z),F.return=x,x=F)}return y(x);case H:t:{for(lt=z.key;V!==null;){if(V.key===lt)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){r(x,V.sibling),F=c(V,z.children||[]),F.return=x,x=F;break t}else{r(x,V);break}else n(x,V);V=V.sibling}F=Yc(z,x.mode,F),F.return=x,x=F}return y(x);case S:return lt=z._init,z=lt(z._payload),ee(x,V,z,F)}if(ae(z))return Tt(x,V,z,F);if(U(z)){if(lt=U(z),typeof lt!="function")throw Error(a(150));return z=lt.call(z),yt(x,V,z,F)}if(typeof z.then=="function")return ee(x,V,ro(z),F);if(z.$$typeof===pt)return ee(x,V,Fu(x,z),F);ao(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(r(x,V.sibling),F=c(V,z),F.return=x,x=F):(r(x,V),F=Qc(z,x.mode,F),F.return=x,x=F),y(x)):r(x,V)}return function(x,V,z,F){try{Al=0;var lt=ee(x,V,z,F);return ss=null,lt}catch(ht){if(ht===dl||ht===Yu)throw ht;var Ot=dn(29,ht,null,x.mode);return Ot.lanes=F,Ot.return=x,Ot}finally{}}}var ls=cg(!0),hg=cg(!1),On=X(null),si=null;function or(t){var n=t.alternate;$(Ne,Ne.current&1),$(On,t),si===null&&(n===null||ns.current!==null||n.memoizedState!==null)&&(si=t)}function fg(t){if(t.tag===22){if($(Ne,Ne.current),$(On,t),si===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(si=t)}}else cr()}function cr(){$(Ne,Ne.current),$(On,On.current)}function Li(t){it(On),si===t&&(si=null),it(Ne)}var Ne=X(0);function so(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||pf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Dh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=yn(),c=sr(l);c.payload=n,r!=null&&(c.callback=r),n=lr(t,c,l),n!==null&&(_n(n,t,l),gl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=yn(),c=sr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=lr(t,c,l),n!==null&&(_n(n,t,l),gl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=yn(),l=sr(r);l.tag=2,n!=null&&(l.callback=n),n=lr(t,l,r),n!==null&&(_n(n,t,r),gl(n,t,r))}};function dg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!al(r,l)||!al(c,f):!0}function mg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function da(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var lo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function gg(t){lo(t)}function pg(t){console.error(t)}function yg(t){lo(t)}function uo(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function _g(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ch(t,n,r){return r=sr(r),r.tag=3,r.payload={element:null},r.callback=function(){uo(t,n)},r}function vg(t){return t=sr(t),t.tag=3,t}function Eg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){_g(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){_g(n,r,l),typeof c!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function M0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&cl(n,r,c,!0),r=On.current,r!==null){switch(r.tag){case 13:return si===null?Jh():r.alternate===null&&me===0&&(me=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===ih?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),tf(t,l,c)),!1;case 22:return r.flags|=65536,l===ih?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),tf(t,l,c)),!1}throw Error(a(435,r.tag))}return tf(t,l,c),Jh(),!1}if(Qt)return n=On.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Zc&&(t=Error(a(422),{cause:l}),ol(Dn(t,r)))):(l!==Zc&&(n=Error(a(423),{cause:l}),ol(Dn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Dn(l,r),c=Ch(t.stateNode,l,c),sh(t,c),me!==4&&(me=2)),!1;var f=Error(a(520),{cause:l});if(f=Dn(f,r),Il===null?Il=[f]:Il.push(f),me!==4&&(me=2),n===null)return!0;l=Dn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Ch(r.stateNode,l,t),sh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(pr===null||!pr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=vg(c),Eg(c,t,r,l),sh(r,c),!1}r=r.return}while(r!==null);return!1}var Tg=Error(a(461)),ze=!1;function He(t,n,r,l){n.child=t===null?hg(n,null,r,l):ls(n,t.child,r,l)}function Ag(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ca(n),l=hh(t,n,r,y,f,c),E=fh(),t!==null&&!ze?(dh(t,n,c),zi(t,n,c)):(Qt&&E&&Xc(n),n.flags|=1,He(t,n,l,c),n.child)}function Sg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Fc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,bg(t,n,f,l,c)):(t=ku(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Lh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:al,r(y,l)&&t.ref===n.ref)return zi(t,n,c)}return n.flags|=1,t=Ii(f,l),t.ref=n.ref,t.return=n,n.child=t}function bg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(al(f,l)&&t.ref===n.ref)if(ze=!1,n.pendingProps=l=f,Lh(t,c))(t.flags&131072)!==0&&(ze=!0);else return n.lanes=t.lanes,zi(t,n,c)}return Vh(t,n,r,l,c)}function Rg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return wg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(n,f!==null?f.cachePool:null),f!==null?bm(n,f):uh(),fg(n);else return n.lanes=n.childLanes=536870912,wg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Qu(n,f.cachePool),bm(n,f),cr(),n.memoizedState=null):(t!==null&&Qu(n,null),uh(),cr());return He(t,n,c,r),n.child}function wg(t,n,r,l){var c=nh();return c=c===null?null:{parent:Oe._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Qu(n,null),uh(),fg(n),t!==null&&cl(t,n,l,!0),null}function oo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Vh(t,n,r,l,c){return ca(n),r=hh(t,n,r,l,void 0,c),l=fh(),t!==null&&!ze?(dh(t,n,c),zi(t,n,c)):(Qt&&l&&Xc(n),n.flags|=1,He(t,n,r,c),n.child)}function Dg(t,n,r,l,c,f){return ca(n),n.updateQueue=null,r=wm(n,l,r,c),Rm(t),l=fh(),t!==null&&!ze?(dh(t,n,f),zi(t,n,f)):(Qt&&l&&Xc(n),n.flags|=1,He(t,n,r,f),n.child)}function Cg(t,n,r,l,c){if(ca(n),n.stateNode===null){var f=$a,y=r.contextType;typeof y=="object"&&y!==null&&(f=Ze(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Ze(y):$a,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(wh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Dh.enqueueReplaceState(f,f.state,null),yl(n,l,f,c),pl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=da(r,E);f.props=b;var P=f.context,G=r.contextType;y=$a,typeof G=="object"&&G!==null&&(y=Ze(G));var Q=r.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&mg(n,f,l,y),ar=!1;var B=n.memoizedState;f.state=B,yl(n,l,f,c),pl(),P=n.memoizedState,E||B!==P||ar?(typeof Q=="function"&&(wh(n,r,Q,l),P=n.memoizedState),(b=ar||dg(n,r,b,l,B,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ah(t,n),y=n.memoizedProps,G=da(r,y),f.props=G,Q=n.pendingProps,B=f.context,P=r.contextType,b=$a,typeof P=="object"&&P!==null&&(b=Ze(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||B!==b)&&mg(n,f,l,b),ar=!1,B=n.memoizedState,f.state=B,yl(n,l,f,c),pl();var j=n.memoizedState;y!==Q||B!==j||ar||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof E=="function"&&(wh(n,r,E,l),j=n.memoizedState),(G=ar||dg(n,r,G,l,B,j,b)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,oo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ls(n,t.child,null,c),n.child=ls(n,null,r,c)):He(t,n,r,c),n.memoizedState=f.state,t=n.child):t=zi(t,n,c),t}function Vg(t,n,r,l){return ul(),n.flags|=256,He(t,n,r,l),n.child}var Ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(t){return{baseLanes:t,cachePool:pm()}}function Nh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Nn),t}function Ig(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ne.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qt){if(c?or(n):cr(),Qt){var E=de,b;if(b=E){t:{for(b=E,E=ai;b.nodeType!==8;){if(!E){E=null;break t}if(b=qn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:aa!==null?{id:Oi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},b=dn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,an=n,de=null,b=!0):b=!1}b||ua(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return pf(E)?n.lanes=32:n.lanes=536870912,null;Li(n)}return E=l.children,l=l.fallback,c?(cr(),c=n.mode,E=co({mode:"hidden",children:E},c),l=ra(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Oh(r),c.childLanes=Nh(t,y,r),n.memoizedState=Ih,l):(or(n),Mh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(or(n),n.flags&=-257,n=xh(t,n,r)):n.memoizedState!==null?(cr(),n.child=t.child,n.flags|=128,n=null):(cr(),c=l.fallback,E=n.mode,l=co({mode:"visible",children:l.children},E),c=ra(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ls(n,t.child,null,r),l=n.child,l.memoizedState=Oh(r),l.childLanes=Nh(t,y,r),n.memoizedState=Ih,n=c);else if(or(n),pf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,ol({value:l,source:null,stack:null}),n=xh(t,n,r)}else if(ze||cl(t,n,r,!1),y=(r&t.childLanes)!==0,ze||y){if(y=re,y!==null&&(l=r&-r,l=(l&42)!==0?1:$i(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Za(t,l),_n(y,t,l),Tg;E.data==="$?"||Jh(),n=xh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,de=qn(E.nextSibling),an=n,Qt=!0,la=null,ai=!1,t!==null&&(Vn[In++]=Oi,Vn[In++]=Ni,Vn[In++]=aa,Oi=t.id,Ni=t.overflow,aa=n),n=Mh(n,l.children),n.flags|=4096);return n}return c?(cr(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=Ii(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=Ii(P,c):(c=ra(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Oh(r):(b=E.cachePool,b!==null?(P=Oe._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=pm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Nh(t,y,r),n.memoizedState=Ih,l):(or(n),r=t.child,t=r.sibling,r=Ii(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Mh(t,n){return n=co({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function co(t,n){return t=dn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function xh(t,n,r){return ls(n,t.child,null,r),t=Mh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Og(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jc(t.return,n,r)}function Uh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Ng(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(He(t,n,l.children,r),l=Ne.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Og(t,r,n);else if(t.tag===19)Og(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Ne,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&so(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Uh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&so(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Uh(n,!0,r,null,f);break;case"together":Uh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),gr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(cl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Ii(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ii(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Lh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function x0(t,n,r){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),rr(n,Oe,t.memoizedState.cache),ul();break;case 27:case 5:En(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:rr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(or(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ig(t,n,r):(or(n),t=zi(t,n,r),t!==null?t.sibling:null);or(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(cl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Ng(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Ne,Ne.current),l)break;return null;case 22:case 23:return n.lanes=0,Rg(t,n,r);case 24:rr(n,Oe,t.memoizedState.cache)}return zi(t,n,r)}function Mg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)ze=!0;else{if(!Lh(t,r)&&(n.flags&128)===0)return ze=!1,x0(t,n,r);ze=(t.flags&131072)!==0}else ze=!1,Qt&&(n.flags&1048576)!==0&&om(n,Hu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Fc(l)?(t=da(l,t),n.tag=1,n=Cg(null,n,l,t,r)):(n.tag=0,n=Vh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Nt){n.tag=11,n=Ag(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=Sg(null,n,l,t,r);break t}}throw n=ge(l)||l,Error(a(306,n,""))}}return n;case 0:return Vh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=da(l,n.pendingProps),Cg(t,n,l,c,r);case 3:t:{if($t(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ah(t,n),yl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,rr(n,Oe,l),l!==f.cache&&Wc(n,[Oe],r,!0),pl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Vg(t,n,l,r);break t}else if(l!==c){c=Dn(Error(a(424)),n),ol(c),n=Vg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(de=qn(t.firstChild),an=n,Qt=!0,la=null,ai=!0,r=hg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ul(),l===c){n=zi(t,n,r);break t}He(t,n,l,r)}n=n.child}return n;case 26:return oo(t,n),t===null?(r=zp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Qt||(r=n.type,t=n.pendingProps,l=Ro(gt.current).createElement(r),l[Ce]=n,l[Te]=t,Fe(l,r,t),pe(l),n.stateNode=l):n.memoizedState=zp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return En(n),t===null&&Qt&&(l=n.stateNode=xp(n.type,n.pendingProps,gt.current),an=n,ai=!0,c=de,vr(n.type)?(yf=c,de=qn(l.firstChild)):de=c),He(t,n,n.pendingProps.children,r),oo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qt&&((c=l=de)&&(l=uE(l,n.type,n.pendingProps,ai),l!==null?(n.stateNode=l,an=n,de=qn(l.firstChild),ai=!1,c=!0):c=!1),c||ua(n)),En(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,df(c,f)?l=null:y!==null&&df(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=hh(t,n,w0,null,null,r),Bl._currentValue=c),oo(t,n),He(t,n,l,r),n.child;case 6:return t===null&&Qt&&((t=r=de)&&(r=oE(r,n.pendingProps,ai),r!==null?(n.stateNode=r,an=n,de=null,t=!0):t=!1),t||ua(n)),null;case 13:return Ig(t,n,r);case 4:return $t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ls(n,null,l,r):He(t,n,l,r),n.child;case 11:return Ag(t,n,n.type,n.pendingProps,r);case 7:return He(t,n,n.pendingProps,r),n.child;case 8:return He(t,n,n.pendingProps.children,r),n.child;case 12:return He(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,rr(n,n.type,l.value),He(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ca(n),c=Ze(c),l=l(c),n.flags|=1,He(t,n,l,r),n.child;case 14:return Sg(t,n,n.type,n.pendingProps,r);case 15:return bg(t,n,n.type,n.pendingProps,r);case 19:return Ng(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=co(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ii(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Rg(t,n,r);case 24:return ca(n),l=Ze(Oe),t===null?(c=nh(),c===null&&(c=re,f=th(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},rh(n),rr(n,Oe,c)):((t.lanes&r)!==0&&(ah(t,n),yl(n,null,null,r),pl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),rr(n,Oe,l)):(l=f.cache,rr(n,Oe,l),l!==c.cache&&Wc(n,[Oe],r,!0))),He(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pi(t){t.flags|=4}function xg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qp(n)){if(n=On.current,n!==null&&((jt&4194048)===jt?si!==null:(jt&62914560)!==jt&&(jt&536870912)===0||n!==si))throw ml=ih,ym;t.flags|=8192}}function ho(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ks():536870912,t.lanes|=n,hs|=n)}function bl(t,n){if(!Qt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function he(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function U0(t,n,r){var l=n.pendingProps;switch(Kc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),xi(Oe),vn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ll(n)?Pi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,fm())),he(n),null;case 26:return r=n.memoizedState,t===null?(Pi(n),r!==null?(he(n),xg(n,r)):(he(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Pi(n),he(n),xg(n,r)):(he(n),n.flags&=-16777217):(t.memoizedProps!==l&&Pi(n),he(n),n.flags&=-16777217),null;case 27:Tn(n),r=gt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return he(n),null}t=dt.current,ll(n)?cm(n):(t=xp(c,l,r),n.stateNode=t,Pi(n))}return he(n),null;case 5:if(Tn(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return he(n),null}if(t=dt.current,ll(n))cm(n);else{switch(c=Ro(gt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Ce]=n,t[Te]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Fe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Pi(n)}}return he(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=gt.current,ll(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=an,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ce]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Dp(t.nodeValue,r)),t||ua(n)}else t=Ro(t).createTextNode(l),t[Ce]=n,n.stateNode=t}return he(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ll(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Ce]=n}else ul(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),c=!1}else c=fm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Li(n),n):(Li(n),null)}if(Li(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),ho(n,n.updateQueue),he(n),null;case 4:return vn(),t===null&&uf(n.stateNode.containerInfo),he(n),null;case 10:return xi(n.type),he(n),null;case 19:if(it(Ne),c=n.memoizedState,c===null)return he(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)bl(c,!1);else{if(me!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=so(t),f!==null){for(n.flags|=128,bl(c,!1),t=f.updateQueue,n.updateQueue=t,ho(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)um(r,t),r=r.sibling;return $(Ne,Ne.current&1|2),n.child}t=t.sibling}c.tail!==null&&Ke()>go&&(n.flags|=128,l=!0,bl(c,!1),n.lanes=4194304)}else{if(!l)if(t=so(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,ho(n,t),bl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Qt)return he(n),null}else 2*Ke()-c.renderingStartTime>go&&r!==536870912&&(n.flags|=128,l=!0,bl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ke(),n.sibling=null,t=Ne.current,$(Ne,l?t&1|2:t&1),n):(he(n),null);case 22:case 23:return Li(n),oh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),r=n.updateQueue,r!==null&&ho(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&it(ha),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),xi(Oe),he(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function L0(t,n){switch(Kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return xi(Oe),vn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Tn(n),null;case 13:if(Li(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ul()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(Ne),null;case 4:return vn(),null;case 10:return xi(n.type),null;case 22:case 23:return Li(n),oh(),t!==null&&it(ha),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return xi(Oe),null;case 25:return null;default:return null}}function Ug(t,n){switch(Kc(n),n.tag){case 3:xi(Oe),vn();break;case 26:case 27:case 5:Tn(n);break;case 4:vn();break;case 13:Li(n);break;case 19:it(Ne);break;case 10:xi(n.type);break;case 22:case 23:Li(n),oh(),t!==null&&it(ha);break;case 24:xi(Oe)}}function Rl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){ie(n,n.return,E)}}function hr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(G){ie(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){ie(n,n.return,G)}}function Lg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Sm(n,r)}catch(l){ie(t,t.return,l)}}}function zg(t,n,r){r.props=da(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){ie(t,n,l)}}function wl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){ie(t,n,c)}}function li(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){ie(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){ie(t,n,c)}else r.current=null}function Pg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){ie(t,t.return,c)}}function zh(t,n,r){try{var l=t.stateNode;iE(l,t.type,r,n),l[Te]=n}catch(c){ie(t,t.return,c)}}function Bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&vr(t.type)||t.tag===4}function Ph(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&vr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=bo));else if(l!==4&&(l===27&&vr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Bh(t,n,r),t=t.sibling;t!==null;)Bh(t,n,r),t=t.sibling}function fo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&vr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(fo(t,n,r),t=t.sibling;t!==null;)fo(t,n,r),t=t.sibling}function jg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Fe(n,l,r),n[Ce]=t,n[Te]=r}catch(f){ie(t,t.return,f)}}var Bi=!1,_e=!1,jh=!1,kg=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function z0(t,n){if(t=t.containerInfo,hf=Oo,t=Jd(t),Pc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,G=0,Q=t,B=null;e:for(;;){for(var j;Q!==r||c!==0&&Q.nodeType!==3||(E=y+c),Q!==f||l!==0&&Q.nodeType!==3||(b=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(j=Q.firstChild)!==null;)B=Q,Q=j;for(;;){if(Q===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++G===l&&(b=y),(j=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=j}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(ff={focusedElem:t,selectionRange:r},Oo=!1,Pe=n;Pe!==null;)if(n=Pe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Pe=t;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Tt=da(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Tt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){ie(r,r.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)gf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Pe=t;break}Pe=n.return}}function qg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:fr(t,r),l&4&&Rl(5,r);break;case 1:if(fr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){ie(r,r.return,y)}else{var c=da(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ie(r,r.return,y)}}l&64&&Lg(r),l&512&&wl(r,r.return);break;case 3:if(fr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Sm(t,n)}catch(y){ie(r,r.return,y)}}break;case 27:n===null&&l&4&&jg(r);case 26:case 5:fr(t,r),n===null&&l&4&&Pg(r),l&512&&wl(r,r.return);break;case 12:fr(t,r);break;case 13:fr(t,r),l&4&&Fg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Q0.bind(null,r),cE(t,r))));break;case 22:if(l=r.memoizedState!==null||Bi,!l){n=n!==null&&n.memoizedState!==null||_e,c=Bi;var f=_e;Bi=l,(_e=n)&&!f?dr(t,r,(r.subtreeFlags&8772)!==0):fr(t,r),Bi=c,_e=f}break;case 30:break;default:fr(t,r)}}function Hg(t){var n=t.alternate;n!==null&&(t.alternate=null,Hg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&tr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ce=null,un=!1;function ji(t,n,r){for(r=r.child;r!==null;)Gg(t,n,r),r=r.sibling}function Gg(t,n,r){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Ct,r)}catch{}switch(r.tag){case 26:_e||li(r,n),ji(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:_e||li(r,n);var l=ce,c=un;vr(r.type)&&(ce=r.stateNode,un=!1),ji(t,n,r),Ul(r.stateNode),ce=l,un=c;break;case 5:_e||li(r,n);case 6:if(l=ce,c=un,ce=null,ji(t,n,r),ce=l,un=c,ce!==null)if(un)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(r.stateNode)}catch(f){ie(r,n,f)}else try{ce.removeChild(r.stateNode)}catch(f){ie(r,n,f)}break;case 18:ce!==null&&(un?(t=ce,Np(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Hl(t)):Np(ce,r.stateNode));break;case 4:l=ce,c=un,ce=r.stateNode.containerInfo,un=!0,ji(t,n,r),ce=l,un=c;break;case 0:case 11:case 14:case 15:_e||hr(2,r,n),_e||hr(4,r,n),ji(t,n,r);break;case 1:_e||(li(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&zg(r,n,l)),ji(t,n,r);break;case 21:ji(t,n,r);break;case 22:_e=(l=_e)||r.memoizedState!==null,ji(t,n,r),_e=l;break;default:ji(t,n,r)}}function Fg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Hl(t)}catch(r){ie(n,n.return,r)}}function P0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kg),n;default:throw Error(a(435,t.tag))}}function kh(t,n){var r=P0(t);n.forEach(function(l){var c=Y0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function mn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(vr(E.type)){ce=E.stateNode,un=!1;break t}break;case 5:ce=E.stateNode,un=!1;break t;case 3:case 4:ce=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(ce===null)throw Error(a(160));Gg(f,y,c),ce=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Qg(n,t),n=n.sibling}var kn=null;function Qg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(n,t),gn(t),l&4&&(hr(3,t,t.return),Rl(3,t),hr(5,t,t.return));break;case 1:mn(n,t),gn(t),l&512&&(_e||r===null||li(r,r.return)),l&64&&Bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=kn;if(mn(n,t),gn(t),l&512&&(_e||r===null||li(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[qr]||f[Ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Fe(f,l,r),f[Ce]=t,pe(f),l=f;break t;case"link":var y=jp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Fe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=jp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Fe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ce]=t,pe(f),l=f}t.stateNode=l}else kp(c,t.type,t.stateNode);else t.stateNode=Bp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?kp(c,t.type,t.stateNode):Bp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zh(t,t.memoizedProps,r.memoizedProps)}break;case 27:mn(n,t),gn(t),l&512&&(_e||r===null||li(r,r.return)),r!==null&&l&4&&zh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(mn(n,t),gn(t),l&512&&(_e||r===null||li(r,r.return)),t.flags&32){c=t.stateNode;try{Sn(c,"")}catch(j){ie(t,t.return,j)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,zh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(jh=!0);break;case 6:if(mn(n,t),gn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(j){ie(t,t.return,j)}}break;case 3:if(Co=null,c=kn,kn=wo(n.containerInfo),mn(n,t),kn=c,gn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Hl(n.containerInfo)}catch(j){ie(t,t.return,j)}jh&&(jh=!1,Yg(t));break;case 4:l=kn,kn=wo(t.stateNode.containerInfo),mn(n,t),gn(t),kn=l;break;case 12:mn(n,t),gn(t);break;case 13:mn(n,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Yh=Ke()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Bi,G=_e;if(Bi=P||c,_e=G||b,mn(n,t),_e=G,Bi=P,gn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Bi||_e||ma(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(j){ie(b,b.return,j)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(j){ie(b,b.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,kh(t,r))));break;case 19:mn(n,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kh(t,l)));break;case 30:break;case 21:break;default:mn(n,t),gn(t)}}function gn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Bg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Ph(t);fo(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(Sn(y,""),r.flags&=-33);var E=Ph(t);fo(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=Ph(t);Bh(t,P,b);break;default:throw Error(a(161))}}catch(G){ie(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Yg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Yg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function fr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qg(t,n.alternate,n),n=n.sibling}function ma(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:hr(4,n,n.return),ma(n);break;case 1:li(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&zg(n,n.return,r),ma(n);break;case 27:Ul(n.stateNode);case 26:case 5:li(n,n.return),ma(n);break;case 22:n.memoizedState===null&&ma(n);break;case 30:ma(n);break;default:ma(n)}t=t.sibling}}function dr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:dr(c,f,r),Rl(4,f);break;case 1:if(dr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){ie(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Am(b[c],E)}catch(P){ie(l,l.return,P)}}r&&y&64&&Lg(f),wl(f,f.return);break;case 27:jg(f);case 26:case 5:dr(c,f,r),r&&l===null&&y&4&&Pg(f),wl(f,f.return);break;case 12:dr(c,f,r);break;case 13:dr(c,f,r),r&&y&4&&Fg(c,f);break;case 22:f.memoizedState===null&&dr(c,f,r),wl(f,f.return);break;case 30:break;default:dr(c,f,r)}n=n.sibling}}function qh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&hl(r))}function Hh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t))}function ui(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xg(t,n,r,l),n=n.sibling}function Xg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ui(t,n,r,l),c&2048&&Rl(9,n);break;case 1:ui(t,n,r,l);break;case 3:ui(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t)));break;case 12:if(c&2048){ui(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){ie(n,n.return,b)}}else ui(t,n,r,l);break;case 13:ui(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ui(t,n,r,l):Dl(t,n):f._visibility&2?ui(t,n,r,l):(f._visibility|=2,us(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&qh(y,n);break;case 24:ui(t,n,r,l),c&2048&&Hh(n.alternate,n);break;default:ui(t,n,r,l)}}function us(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:us(f,y,E,b,c),Rl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?us(f,y,E,b,c):Dl(f,y):(G._visibility|=2,us(f,y,E,b,c)),c&&P&2048&&qh(y.alternate,y);break;case 24:us(f,y,E,b,c),c&&P&2048&&Hh(y.alternate,y);break;default:us(f,y,E,b,c)}n=n.sibling}}function Dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Dl(r,l),c&2048&&qh(l.alternate,l);break;case 24:Dl(r,l),c&2048&&Hh(l.alternate,l);break;default:Dl(r,l)}n=n.sibling}}var Cl=8192;function os(t){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)Kg(t),t=t.sibling}function Kg(t){switch(t.tag){case 26:os(t),t.flags&Cl&&t.memoizedState!==null&&SE(kn,t.memoizedState,t.memoizedProps);break;case 5:os(t);break;case 3:case 4:var n=kn;kn=wo(t.stateNode.containerInfo),os(t),kn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Cl,Cl=16777216,os(t),Cl=n):os(t));break;default:os(t)}}function Zg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pe=l,Jg(l,t)}Zg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$g(t),t=t.sibling}function $g(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&hr(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mo(t)):Vl(t);break;default:Vl(t)}}function mo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pe=l,Jg(l,t)}Zg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:hr(8,n,n.return),mo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,mo(n));break;default:mo(n)}t=t.sibling}}function Jg(t,n){for(;Pe!==null;){var r=Pe;switch(r.tag){case 0:case 11:case 15:hr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Pe=l;else t:for(r=t;Pe!==null;){l=Pe;var c=l.sibling,f=l.return;if(Hg(l),l===r){Pe=null;break t}if(c!==null){c.return=f,Pe=c;break t}Pe=f}}}var B0={getCacheForType:function(t){var n=Ze(Oe),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},j0=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,xt=null,jt=0,Zt=0,pn=null,mr=!1,cs=!1,Gh=!1,ki=0,me=0,gr=0,ga=0,Fh=0,Nn=0,hs=0,Il=null,on=null,Qh=!1,Yh=0,go=1/0,po=null,pr=null,Ge=0,yr=null,fs=null,ds=0,Xh=0,Kh=null,Wg=null,Ol=0,Zh=null;function yn(){if((Kt&2)!==0&&jt!==0)return jt&-jt;if(k.T!==null){var t=ts;return t!==0?t:rf()}return Ji()}function tp(){Nn===0&&(Nn=(jt&536870912)===0||Qt?js():536870912);var t=On.current;return t!==null&&(t.flags|=32),Nn}function _n(t,n,r){(t===re&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)&&(ms(t,0),_r(t,jt,Nn,!1)),vi(t,r),((Kt&2)===0||t!==re)&&(t===re&&((Kt&2)===0&&(ga|=r),me===4&&_r(t,jt,Nn,!1)),oi(t))}function ep(t,n,r){if((Kt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||kr(t,n),c=l?H0(t,n):Wh(t,n,!0),f=l;do{if(c===0){cs&&!l&&_r(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!k0(r)){c=Wh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Il;var b=E.current.memoizedState.isDehydrated;if(b&&(ms(E,y).flags|=256),y=Wh(E,y,!1),y!==2){if(Gh&&!b){E.errorRecoveryDisabledLanes|=f,ga|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ms(t,0),_r(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:_r(l,n,Nn,!mr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Yh+300-Ke(),10<c)){if(_r(l,n,Nn,!mr),Oa(l,0,!0)!==0)break t;l.timeoutHandle=Ip(np.bind(null,l,r,on,po,Qh,n,Nn,ga,hs,mr,f,2,-0,0),c);break t}np(l,r,on,po,Qh,n,Nn,ga,hs,mr,f,0,-0,0)}}break}while(!0);oi(t)}function np(t,n,r,l,c,f,y,E,b,P,G,Q,B,j){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:AE},Kg(n),Q=bE(),Q!==null)){t.cancelPendingCommit=Q(op.bind(null,t,n,f,r,l,c,y,E,b,G,1,B,j)),_r(t,f,y,!P);return}op(t,n,f,r,l,c,y,E,b)}function k0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _r(t,n,r,l){n&=~Fh,n&=~ga,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ue(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Xn(t,r,n)}function yo(){return(Kt&6)===0?(Nl(0),!1):!0}function $h(){if(xt!==null){if(Zt===0)var t=xt.return;else t=xt,Mi=oa=null,mh(t),ss=null,Al=0,t=xt;for(;t!==null;)Ug(t.alternate,t),t=t.return;xt=null}}function ms(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,aE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),$h(),re=t,xt=r=Ii(t.current,null),jt=n,Zt=0,pn=null,mr=!1,cs=kr(t,n),Gh=!1,hs=Nn=Fh=ga=gr=me=0,on=Il=null,Qh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ue(l),f=1<<c;n|=t[c],l&=~f}return ki=n,Pu(),r}function ip(t,n){Vt=null,k.H=io,n===dl||n===Yu?(n=Em(),Zt=3):n===ym?(n=Em(),Zt=4):Zt=n===Tg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,xt===null&&(me=1,uo(t,Dn(n,t.current)))}function rp(){var t=k.H;return k.H=io,t===null?io:t}function ap(){var t=k.A;return k.A=B0,t}function Jh(){me=4,mr||(jt&4194048)!==jt&&On.current!==null||(cs=!0),(gr&134217727)===0&&(ga&134217727)===0||re===null||_r(re,jt,Nn,!1)}function Wh(t,n,r){var l=Kt;Kt|=2;var c=rp(),f=ap();(re!==t||jt!==n)&&(po=null,ms(t,n)),n=!1;var y=me;t:do try{if(Zt!==0&&xt!==null){var E=xt,b=pn;switch(Zt){case 8:$h(),y=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(n=!0);var P=Zt;if(Zt=0,pn=null,gs(t,E,b,P),r&&cs){y=0;break t}break;default:P=Zt,Zt=0,pn=null,gs(t,E,b,P)}}q0(),y=me;break}catch(G){ip(t,G)}while(!0);return n&&t.shellSuspendCounter++,Mi=oa=null,Kt=l,k.H=c,k.A=f,xt===null&&(re=null,jt=0,Pu()),y}function q0(){for(;xt!==null;)sp(xt)}function H0(t,n){var r=Kt;Kt|=2;var l=rp(),c=ap();re!==t||jt!==n?(po=null,go=Ke()+500,ms(t,n)):cs=kr(t,n);t:do try{if(Zt!==0&&xt!==null){n=xt;var f=pn;e:switch(Zt){case 1:Zt=0,pn=null,gs(t,n,f,1);break;case 2:case 9:if(_m(f)){Zt=0,pn=null,lp(n);break}n=function(){Zt!==2&&Zt!==9||re!==t||(Zt=7),oi(t)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:_m(f)?(Zt=0,pn=null,lp(n)):(Zt=0,pn=null,gs(t,n,f,7));break;case 5:var y=null;switch(xt.tag){case 26:y=xt.memoizedState;case 5:case 27:var E=xt;if(!y||qp(y)){Zt=0,pn=null;var b=E.sibling;if(b!==null)xt=b;else{var P=E.return;P!==null?(xt=P,_o(P)):xt=null}break e}}Zt=0,pn=null,gs(t,n,f,5);break;case 6:Zt=0,pn=null,gs(t,n,f,6);break;case 8:$h(),me=6;break t;default:throw Error(a(462))}}G0();break}catch(G){ip(t,G)}while(!0);return Mi=oa=null,k.H=l,k.A=c,Kt=r,xt!==null?0:(re=null,jt=0,Pu(),me)}function G0(){for(;xt!==null&&!Va();)sp(xt)}function sp(t){var n=Mg(t.alternate,t,ki);t.memoizedProps=t.pendingProps,n===null?_o(t):xt=n}function lp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Dg(r,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=Dg(r,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:mh(n);default:Ug(r,n),n=xt=um(n,ki),n=Mg(r,n,ki)}t.memoizedProps=t.pendingProps,n===null?_o(t):xt=n}function gs(t,n,r,l){Mi=oa=null,mh(n),ss=null,Al=0;var c=n.return;try{if(M0(t,c,n,r,jt)){me=1,uo(t,Dn(r,t.current)),xt=null;return}}catch(f){if(c!==null)throw xt=c,f;me=1,uo(t,Dn(r,t.current)),xt=null;return}n.flags&32768?(Qt||l===1?t=!0:cs||(jt&536870912)!==0?t=!1:(mr=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),up(n,t)):_o(n)}function _o(t){var n=t;do{if((n.flags&32768)!==0){up(n,mr);return}t=n.return;var r=U0(n.alternate,n,ki);if(r!==null){xt=r;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=t}while(n!==null);me===0&&(me=5)}function up(t,n){do{var r=L0(t.alternate,t);if(r!==null){r.flags&=32767,xt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){xt=t;return}xt=t=r}while(t!==null);me=6,xt=null}function op(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do vo();while(Ge!==0);if((Kt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hc,qs(t,r,f,y,E,b),t===re&&(xt=re=null,jt=0),fs=n,yr=t,ds=r,Xh=f,Kh=c,Wg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,X0(Qn,function(){return mp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,c=nt.p,nt.p=2,y=Kt,Kt|=4;try{z0(t,n,r)}finally{Kt=y,nt.p=c,k.T=l}}Ge=1,cp(),hp(),fp()}}function cp(){if(Ge===1){Ge=0;var t=yr,n=fs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=k.T,k.T=null;var l=nt.p;nt.p=2;var c=Kt;Kt|=4;try{Qg(n,t);var f=ff,y=Jd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&$d(E.ownerDocument.documentElement,E)){if(b!==null&&Pc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var j=B.getSelection(),Tt=E.textContent.length,yt=Math.min(b.start,Tt),ee=b.end===void 0?yt:Math.min(b.end,Tt);!j.extend&&yt>ee&&(y=ee,ee=yt,yt=y);var x=Zd(E,yt),V=Zd(E,ee);if(x&&V&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==V.node||j.focusOffset!==V.offset)){var z=Q.createRange();z.setStart(x.node,x.offset),j.removeAllRanges(),yt>ee?(j.addRange(z),j.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),j.addRange(z))}}}}for(Q=[],j=E;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Oo=!!hf,ff=hf=null}finally{Kt=c,nt.p=l,k.T=r}}t.current=n,Ge=2}}function hp(){if(Ge===2){Ge=0;var t=yr,n=fs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=k.T,k.T=null;var l=nt.p;nt.p=2;var c=Kt;Kt|=4;try{qg(t,n.alternate,n)}finally{Kt=c,nt.p=l,k.T=r}}Ge=3}}function fp(){if(Ge===4||Ge===3){Ge=0,Ia();var t=yr,n=fs,r=ds,l=Wg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ge=5:(Ge=0,fs=yr=null,dp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(pr=null),Na(r),n=n.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Ct,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=k.T,c=nt.p,nt.p=2,k.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{k.T=n,nt.p=c}}(ds&3)!==0&&vo(),oi(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Zh?Ol++:(Ol=0,Zh=t):Ol=0,Nl(0)}}function dp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,hl(n)))}function vo(t){return cp(),hp(),fp(),mp()}function mp(){if(Ge!==5)return!1;var t=yr,n=Xh;Xh=0;var r=Na(ds),l=k.T,c=nt.p;try{nt.p=32>r?32:r,k.T=null,r=Kh,Kh=null;var f=yr,y=ds;if(Ge=0,fs=yr=null,ds=0,(Kt&6)!==0)throw Error(a(331));var E=Kt;if(Kt|=4,$g(f.current),Xg(f,f.current,y,r),Kt=E,Nl(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Ct,f)}catch{}return!0}finally{nt.p=c,k.T=l,dp(t,n)}}function gp(t,n,r){n=Dn(r,n),n=Ch(t.stateNode,n,2),t=lr(t,n,2),t!==null&&(vi(t,2),oi(t))}function ie(t,n,r){if(t.tag===3)gp(t,t,r);else for(;n!==null;){if(n.tag===3){gp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pr===null||!pr.has(l))){t=Dn(r,t),r=vg(2),l=lr(n,r,2),l!==null&&(Eg(r,l,n,t),vi(l,2),oi(l));break}}n=n.return}}function tf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new j0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Gh=!0,c.add(r),t=F0.bind(null,t,n,r),n.then(t,t))}function F0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,re===t&&(jt&r)===r&&(me===4||me===3&&(jt&62914560)===jt&&300>Ke()-Yh?(Kt&2)===0&&ms(t,0):Fh|=r,hs===jt&&(hs=0)),oi(t)}function pp(t,n){n===0&&(n=ks()),t=Za(t,n),t!==null&&(vi(t,n),oi(t))}function Q0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),pp(t,r)}function Y0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),pp(t,r)}function X0(t,n){return Ki(t,n)}var Eo=null,ps=null,ef=!1,To=!1,nf=!1,pa=0;function oi(t){t!==ps&&t.next===null&&(ps===null?Eo=ps=t:ps=ps.next=t),To=!0,ef||(ef=!0,Z0())}function Nl(t,n){if(!nf&&To){nf=!0;do for(var r=!1,l=Eo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ue(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ep(l,f))}else f=jt,f=Oa(l,l===re?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||kr(l,f)||(r=!0,Ep(l,f));l=l.next}while(r);nf=!1}}function K0(){yp()}function yp(){To=ef=!1;var t=0;pa!==0&&(rE()&&(t=pa),pa=0);for(var n=Ke(),r=null,l=Eo;l!==null;){var c=l.next,f=_p(l,n);f===0?(l.next=null,r===null?Eo=c:r.next=c,c===null&&(ps=r)):(r=l,(t!==0||(f&3)!==0)&&(To=!0)),l=c}Nl(t)}function _p(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ue(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Bs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=re,r=jt,r=Oa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Zi(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||kr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Zi(l),Na(r)){case 2:case 8:r=Fn;break;case 32:r=Qn;break;case 268435456:r=st;break;default:r=Qn}return l=vp.bind(null,t),r=Ki(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Zi(l),t.callbackPriority=2,t.callbackNode=null,2}function vp(t,n){if(Ge!==0&&Ge!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(vo()&&t.callbackNode!==r)return null;var l=jt;return l=Oa(t,t===re?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ep(t,l,n),_p(t,Ke()),t.callbackNode!=null&&t.callbackNode===r?vp.bind(null,t):null)}function Ep(t,n){if(vo())return null;ep(t,n,!0)}function Z0(){sE(function(){(Kt&6)!==0?Ki(Ln,K0):yp()})}function rf(){return pa===0&&(pa=js()),pa}function Tp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pa(""+t)}function Ap(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function $0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Tp((c[Te]||null).action),y=l.submitter;y&&(n=(n=y[Te]||null)?Tp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ba("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(pa!==0){var b=y?Ap(c,y):new FormData(c);Sh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Ap(c,y):new FormData(c),Sh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var af=0;af<qc.length;af++){var sf=qc[af],J0=sf.toLowerCase(),W0=sf[0].toUpperCase()+sf.slice(1);jn(J0,"on"+W0)}jn(em,"onAnimationEnd"),jn(nm,"onAnimationIteration"),jn(im,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(p0,"onTransitionRun"),jn(y0,"onTransitionStart"),jn(_0,"onTransitionCancel"),jn(rm,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Sp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){lo(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){lo(G)}c.currentTarget=null,f=b}}}}function Ut(t,n){var r=n[Gs];r===void 0&&(r=n[Gs]=new Set);var l=t+"__bubble";r.has(l)||(bp(n,t,2,!1),r.add(l))}function lf(t,n,r){var l=0;n&&(l|=4),bp(r,t,l,n)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function uf(t){if(!t[Ao]){t[Ao]=!0,Fs.forEach(function(r){r!=="selectionchange"&&(tE.has(r)||lf(r,!1,t),lf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ao]||(n[Ao]=!0,lf("selectionchange",!1,n))}}function bp(t,n,r,l){switch(Xp(n)){case 2:var c=DE;break;case 8:c=CE;break;default:c=Af}r=c.bind(null,n,r,t),c=void 0,!Rn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function of(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=Ei(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Su(function(){var P=f,G=bn(r),Q=[];t:{var B=am.get(t);if(B!==void 0){var j=Ba,Tt=t;switch(t){case"keypress":if(ti(r)===0)break t;case"keydown":case"keyup":j=Fa;break;case"focusin":Tt="focus",j=qa;break;case"focusout":Tt="blur",j=qa;break;case"beforeblur":case"afterblur":j=qa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Ou;break;case em:case nm:case im:j=Ha;break;case rm:j=Mu;break;case"scroll":case"scrollend":j=bu;break;case"wheel":j=Qa;break;case"copy":case"cut":case"paste":j=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=il;break;case"toggle":case"beforetoggle":j=Uu}var yt=(n&4)!==0,ee=!yt&&(t==="scroll"||t==="scrollend"),x=yt?B!==null?B+"Capture":null:B;yt=[];for(var V=P,z;V!==null;){var F=V;if(z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||z===null||x===null||(F=Kr(V,x),F!=null&&yt.push(xl(V,F,z))),ee)break;V=V.return}0<yt.length&&(B=new j(B,Tt,null,r,G),Q.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",B&&r!==bi&&(Tt=r.relatedTarget||r.fromElement)&&(Ei(Tt)||Tt[An]))break t;if((j||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,j?(Tt=r.relatedTarget||r.toElement,j=P,Tt=Tt?Ei(Tt):null,Tt!==null&&(ee=h(Tt),yt=Tt.tag,Tt!==ee||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(j=null,Tt=P),j!==Tt)){if(yt=wn,F="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(yt=il,F="onPointerLeave",x="onPointerEnter",V="pointer"),ee=j==null?B:Zn(j),z=Tt==null?B:Zn(Tt),B=new yt(F,V+"leave",j,r,G),B.target=ee,B.relatedTarget=z,F=null,Ei(G)===P&&(yt=new yt(x,V+"enter",Tt,r,G),yt.target=z,yt.relatedTarget=ee,F=yt),ee=F,j&&Tt)e:{for(yt=j,x=Tt,V=0,z=yt;z;z=ys(z))V++;for(z=0,F=x;F;F=ys(F))z++;for(;0<V-z;)yt=ys(yt),V--;for(;0<z-V;)x=ys(x),z--;for(;V--;){if(yt===x||x!==null&&yt===x.alternate)break e;yt=ys(yt),x=ys(x)}yt=null}else yt=null;j!==null&&Rp(Q,B,j,yt,!1),Tt!==null&&ee!==null&&Rp(Q,ee,Tt,yt,!0)}}t:{if(B=P?Zn(P):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var lt=Gd;else if(Ie(B))if(Fd)lt=d0;else{lt=h0;var Ot=c0}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Zs(P.elementType)&&(lt=Gd):lt=f0;if(lt&&(lt=lt(t,P))){Vi(Q,lt,r,G);break t}Ot&&Ot(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&nr(B,"number",B.value)}switch(Ot=P?Zn(P):window,t){case"focusin":(Ie(Ot)||Ot.contentEditable==="true")&&(Ya=Ot,Bc=P,sl=null);break;case"focusout":sl=Bc=Ya=null;break;case"mousedown":jc=!0;break;case"contextmenu":case"mouseup":case"dragend":jc=!1,Wd(Q,r,G);break;case"selectionchange":if(g0)break;case"keydown":case"keyup":Wd(Q,r,G)}var ht;if(ii)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Pt?q(t,r)&&(_t="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(g&&r.locale!=="ko"&&(Pt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Pt&&(ht=Js()):(Wn=G,ir="value"in Wn?Wn.value:Wn.textContent,Pt=!0)),Ot=So(P,_t),0<Ot.length&&(_t=new el(_t,t,null,r,G),Q.push({event:_t,listeners:Ot}),ht?_t.data=ht:(ht=et(r),ht!==null&&(_t.data=ht)))),(ht=m?Ve(t,r):Bt(t,r))&&(_t=So(P,"onBeforeInput"),0<_t.length&&(Ot=new el("onBeforeInput","beforeinput",null,r,G),Q.push({event:Ot,listeners:_t}),Ot.data=ht)),$0(Q,t,P,r,G)}Sp(Q,n)})}function xl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function So(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Kr(t,r),c!=null&&l.unshift(xl(t,c,f)),c=Kr(t,n),c!=null&&l.push(xl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Kr(r,f),P!=null&&y.unshift(xl(r,P,b))):c||(P=Kr(r,f),P!=null&&y.push(xl(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var eE=/\r\n?/g,nE=/\u0000|\uFFFD/g;function wp(t){return(typeof t=="string"?t:""+t).replace(eE,`
`).replace(nE,"")}function Dp(t,n){return n=wp(n),wp(t)===n}function bo(){}function te(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Sn(t,""+l);break;case"className":$n(t,"class",l);break;case"tabIndex":$n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(t,r,l);break;case"style":Ks(t,l,f);break;case"data":if(n!=="object"){$n(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Pa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&te(t,n,"name",c.name,c,null),te(t,n,"formEncType",c.formEncType,c,null),te(t,n,"formMethod",c.formMethod,c,null),te(t,n,"formTarget",c.formTarget,c,null)):(te(t,n,"encType",c.encType,c,null),te(t,n,"method",c.method,c,null),te(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Pa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=bo);break;case"onScroll":l!=null&&Ut("scroll",t);break;case"onScrollEnd":l!=null&&Ut("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ut("beforetoggle",t),Ut("toggle",t),er(t,"popover",l);break;case"xlinkActuate":ke(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":er(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Nc.get(r)||r,er(t,r,l))}}function cf(t,n,r,l,c,f){switch(r){case"style":Ks(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&Ut("scroll",t);break;case"onScrollEnd":l!=null&&Ut("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ma.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[Te]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):er(t,r,l)}}}function Fe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",t),Ut("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(t,n,f,y,r,null)}}c&&te(t,n,"srcSet",r.srcSet,r,null),l&&te(t,n,"src",r.src,r,null);return;case"input":Ut("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:te(t,n,l,G,r,null)}}Qr(t,f,E,b,P,y,c,!1),za(t);return;case"select":Ut("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:te(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?Si(t,!!l,n,!1):r!=null&&Si(t,!!l,r,!0);return;case"textarea":Ut("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:te(t,n,y,E,r,null)}Yr(t,l,c,f),za(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(t,n,b,l,r,null)}return;case"dialog":Ut("beforetoggle",t),Ut("toggle",t),Ut("cancel",t),Ut("close",t);break;case"iframe":case"object":Ut("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Ut(Ml[l],t);break;case"image":Ut("error",t),Ut("load",t);break;case"details":Ut("toggle",t);break;case"embed":case"source":case"link":Ut("error",t),Ut("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(t,n,P,l,r,null)}return;default:if(Zs(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&cf(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&te(t,n,E,l,r,null))}function iE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,G=null;for(j in r){var Q=r[j];if(r.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":b=Q;default:l.hasOwnProperty(j)||te(t,n,j,null,l,Q)}}for(var B in l){var j=l[B];if(Q=r[B],l.hasOwnProperty(B)&&(j!=null||Q!=null))switch(B){case"type":f=j;break;case"name":c=j;break;case"checked":P=j;break;case"defaultChecked":G=j;break;case"value":y=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==Q&&te(t,n,B,j,l,Q)}}hn(t,y,E,b,P,G,f,c);return;case"select":j=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":j=b;default:l.hasOwnProperty(f)||te(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&te(t,n,c,f,l,b)}n=E,r=y,l=j,B!=null?Si(t,!!r,B,!1):!!l!=!!r&&(n!=null?Si(t,!!r,n,!0):Si(t,!!r,r?[]:"",!1));return;case"textarea":j=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&te(t,n,y,c,l,f)}Jt(t,B,j);return;case"option":for(var Tt in r)if(B=r[Tt],r.hasOwnProperty(Tt)&&B!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:te(t,n,Tt,null,l,B)}for(b in l)if(B=l[b],j=r[b],l.hasOwnProperty(b)&&B!==j&&(B!=null||j!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:te(t,n,b,B,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)B=r[yt],r.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt)&&te(t,n,yt,null,l,B);for(P in l)if(B=l[P],j=r[P],l.hasOwnProperty(P)&&B!==j&&(B!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:te(t,n,P,B,l,j)}return;default:if(Zs(n)){for(var ee in r)B=r[ee],r.hasOwnProperty(ee)&&B!==void 0&&!l.hasOwnProperty(ee)&&cf(t,n,ee,void 0,l,B);for(G in l)B=l[G],j=r[G],!l.hasOwnProperty(G)||B===j||B===void 0&&j===void 0||cf(t,n,G,B,l,j);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&te(t,n,x,null,l,B);for(Q in l)B=l[Q],j=r[Q],!l.hasOwnProperty(Q)||B===j||B==null&&j==null||te(t,n,Q,B,l,j)}var hf=null,ff=null;function Ro(t){return t.nodeType===9?t:t.ownerDocument}function Cp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function df(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mf=null;function rE(){var t=window.event;return t&&t.type==="popstate"?t===mf?!1:(mf=t,!0):(mf=null,!1)}var Ip=typeof setTimeout=="function"?setTimeout:void 0,aE=typeof clearTimeout=="function"?clearTimeout:void 0,Op=typeof Promise=="function"?Promise:void 0,sE=typeof queueMicrotask=="function"?queueMicrotask:typeof Op<"u"?function(t){return Op.resolve(null).then(t).catch(lE)}:Ip;function lE(t){setTimeout(function(){throw t})}function vr(t){return t==="head"}function Np(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Ul(y.documentElement),r&2&&Ul(y.body),r&4)for(r=y.head,Ul(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[qr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Hl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Hl(n)}function gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gf(r),tr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function uE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[qr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function oE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=qn(t.nextSibling),t===null))return null;return t}function pf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function cE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var yf=null;function Mp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function xp(t,n,r){switch(n=Ro(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ul(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);tr(t)}var Mn=new Map,Up=new Set;function wo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=nt.d;nt.d={f:hE,r:fE,D:dE,C:mE,L:gE,m:pE,X:_E,S:yE,M:vE};function hE(){var t=qi.f(),n=yo();return t||n}function fE(t){var n=Kn(t);n!==null&&n.tag===5&&n.type==="form"?eg(n):qi.r(t)}var _s=typeof document>"u"?null:document;function Lp(t,n,r){var l=_s;if(l&&typeof n=="string"&&n){var c=Ae(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Up.has(c)||(Up.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Fe(n,"link",t),pe(n),l.head.appendChild(n)))}}function dE(t){qi.D(t),Lp("dns-prefetch",t,null)}function mE(t,n){qi.C(t,n),Lp("preconnect",t,n)}function gE(t,n,r){qi.L(t,n,r);var l=_s;if(l&&t&&n){var c='link[rel="preload"][as="'+Ae(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+Ae(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+Ae(r.imageSizes)+'"]')):c+='[href="'+Ae(t)+'"]';var f=c;switch(n){case"style":f=vs(t);break;case"script":f=Es(t)}Mn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Mn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ll(f))||n==="script"&&l.querySelector(zl(f))||(n=l.createElement("link"),Fe(n,"link",t),pe(n),l.head.appendChild(n)))}}function pE(t,n){qi.m(t,n);var r=_s;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ae(l)+'"][href="'+Ae(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Es(t)}if(!Mn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Mn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(zl(f)))return}l=r.createElement("link"),Fe(l,"link",t),pe(l),r.head.appendChild(l)}}}function yE(t,n,r){qi.S(t,n,r);var l=_s;if(l&&t){var c=en(l).hoistableStyles,f=vs(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Ll(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Mn.get(f))&&_f(t,r);var b=y=l.createElement("link");pe(b),Fe(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Do(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function _E(t,n){qi.X(t,n);var r=_s;if(r&&t){var l=en(r).hoistableScripts,c=Es(t),f=l.get(c);f||(f=r.querySelector(zl(c)),f||(t=A({src:t,async:!0},n),(n=Mn.get(c))&&vf(t,n),f=r.createElement("script"),pe(f),Fe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function vE(t,n){qi.M(t,n);var r=_s;if(r&&t){var l=en(r).hoistableScripts,c=Es(t),f=l.get(c);f||(f=r.querySelector(zl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Mn.get(c))&&vf(t,n),f=r.createElement("script"),pe(f),Fe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function zp(t,n,r,l){var c=(c=gt.current)?wo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=vs(r.href),r=en(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=vs(r.href);var f=en(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Ll(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Mn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(t,r),f||EE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Es(r),r=en(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function vs(t){return'href="'+Ae(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function Pp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function EE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Fe(n,"link",r),pe(n),t.head.appendChild(n))}function Es(t){return'[src="'+Ae(t)+'"]'}function zl(t){return"script[async]"+t}function Bp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ae(r.href)+'"]');if(l)return n.instance=l,pe(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pe(l),Fe(l,"style",c),Do(l,r.precedence,t),n.instance=l;case"stylesheet":c=vs(r.href);var f=t.querySelector(Ll(c));if(f)return n.state.loading|=4,n.instance=f,pe(f),f;l=Pp(r),(c=Mn.get(c))&&_f(l,c),f=(t.ownerDocument||t).createElement("link"),pe(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Fe(f,"link",l),n.state.loading|=4,Do(f,r.precedence,t),n.instance=f;case"script":return f=Es(r.src),(c=t.querySelector(zl(f)))?(n.instance=c,pe(c),c):(l=r,(c=Mn.get(f))&&(l=A({},r),vf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),pe(c),Fe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Do(l,r.precedence,t));return n.instance}function Do(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Co=null;function jp(t,n,r){if(Co===null){var l=new Map,c=Co=new Map;c.set(r,l)}else c=Co,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[qr]||f[Ce]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function kp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function TE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pl=null;function AE(){}function SE(t,n,r){if(Pl===null)throw Error(a(475));var l=Pl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=vs(r.href),f=t.querySelector(Ll(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Vo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,pe(f);return}f=t.ownerDocument||t,r=Pp(r),(c=Mn.get(c))&&_f(r,c),f=f.createElement("link"),pe(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Fe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Vo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function bE(){if(Pl===null)throw Error(a(475));var t=Pl;return t.stylesheets&&t.count===0&&Ef(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Ef(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Vo(){if(this.count--,this.count===0){if(this.stylesheets)Ef(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Io=null;function Ef(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Io=new Map,n.forEach(RE,t),Io=null,Vo.call(t))}function RE(t,n){if(!(n.state.loading&4)){var r=Io.get(t);if(r)var l=r.get(null);else{r=new Map,Io.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Vo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Bl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function wE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Hp(t,n,r,l,c,f,y,E,b,P,G,Q){return t=new wE(t,n,r,y,E,b,P,Q),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),t.current=f,f.stateNode=t,n=th(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},rh(f),t}function Gp(t){return t?(t=$a,t):$a}function Fp(t,n,r,l,c,f){c=Gp(c),l.context===null?l.context=c:l.pendingContext=c,l=sr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=lr(t,l,n),r!==null&&(_n(r,t,n),gl(r,t,n))}function Qp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Tf(t,n){Qp(t,n),(t=t.alternate)&&Qp(t,n)}function Yp(t){if(t.tag===13){var n=Za(t,67108864);n!==null&&_n(n,t,67108864),Tf(t,67108864)}}var Oo=!0;function DE(t,n,r,l){var c=k.T;k.T=null;var f=nt.p;try{nt.p=2,Af(t,n,r,l)}finally{nt.p=f,k.T=c}}function CE(t,n,r,l){var c=k.T;k.T=null;var f=nt.p;try{nt.p=8,Af(t,n,r,l)}finally{nt.p=f,k.T=c}}function Af(t,n,r,l){if(Oo){var c=Sf(l);if(c===null)of(t,n,l,No,r),Kp(t,l);else if(IE(c,t,n,r,l))l.stopPropagation();else if(Kp(t,l),n&4&&-1<VE.indexOf(t)){for(;c!==null;){var f=Kn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=zn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-ue(y);E.entanglements[1]|=b,y&=~b}oi(f),(Kt&6)===0&&(go=Ke()+500,Nl(0))}}break;case 13:E=Za(f,2),E!==null&&_n(E,f,2),yo(),Tf(f,2)}if(f=Sf(l),f===null&&of(t,n,l,No,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else of(t,n,l,null,r)}}function Sf(t){return t=bn(t),bf(t)}var No=null;function bf(t){if(No=null,t=Ei(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return No=t,null}function Xp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ps()){case Ln:return 2;case Fn:return 8;case Qn:case K:return 32;case st:return 268435456;default:return 32}default:return 32}}var Rf=!1,Er=null,Tr=null,Ar=null,jl=new Map,kl=new Map,Sr=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kp(t,n){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function ql(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Kn(n),n!==null&&Yp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function IE(t,n,r,l,c){switch(n){case"focusin":return Er=ql(Er,t,n,r,l,c),!0;case"dragenter":return Tr=ql(Tr,t,n,r,l,c),!0;case"mouseover":return Ar=ql(Ar,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return jl.set(f,ql(jl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,kl.set(f,ql(kl.get(f)||null,t,n,r,l,c)),!0}return!1}function Zp(t){var n=Ei(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,pu(t.priority,function(){if(r.tag===13){var l=yn();l=$i(l);var c=Za(r,l);c!==null&&_n(c,r,l),Tf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Sf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);bi=l,r.target.dispatchEvent(l),bi=null}else return n=Kn(r),n!==null&&Yp(n),t.blockedOn=r,!1;n.shift()}return!0}function $p(t,n,r){Mo(t)&&r.delete(n)}function OE(){Rf=!1,Er!==null&&Mo(Er)&&(Er=null),Tr!==null&&Mo(Tr)&&(Tr=null),Ar!==null&&Mo(Ar)&&(Ar=null),jl.forEach($p),kl.forEach($p)}function xo(t,n){t.blockedOn===n&&(t.blockedOn=null,Rf||(Rf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,OE)))}var Uo=null;function Jp(t){Uo!==t&&(Uo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uo===t&&(Uo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(bf(l||r)===null)continue;break}var f=Kn(r);f!==null&&(t.splice(n,3),n-=3,Sh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Hl(t){function n(b){return xo(b,t)}Er!==null&&xo(Er,t),Tr!==null&&xo(Tr,t),Ar!==null&&xo(Ar,t),jl.forEach(n),kl.forEach(n);for(var r=0;r<Sr.length;r++){var l=Sr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Sr.length&&(r=Sr[0],r.blockedOn===null);)Zp(r),r.blockedOn===null&&Sr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[Te]||null;if(typeof f=="function")y||Jp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[Te]||null)E=y.formAction;else if(bf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Jp(r)}}}function wf(t){this._internalRoot=t}Lo.prototype.render=wf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=yn();Fp(r,l,t,n,null,null)},Lo.prototype.unmount=wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Fp(t.current,2,null,t,null,null),yo(),n[An]=null}};function Lo(t){this._internalRoot=t}Lo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ji();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Sr.length&&n!==0&&n<Sr[r].priority;r++);Sr.splice(r,0,t),r===0&&Zp(t)}};var Wp=e.version;if(Wp!=="19.1.0")throw Error(a(527,Wp,"19.1.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var NE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zo.isDisabled&&zo.supportsFiber)try{Ct=zo.inject(NE),ct=zo}catch{}}return Fl.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=gg,f=pg,y=yg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Hp(t,1,!1,null,null,r,l,c,f,y,E,null),t[An]=n.current,uf(t),new wf(n)},Fl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=gg,y=pg,E=yg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Hp(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=Gp(null),r=n.current,l=yn(),l=$i(l),c=sr(l),c.callback=null,lr(r,c,l),r=l,n.current.lanes=r,vi(n,r),oi(n),t[An]=n.current,uf(t),new Lo(n)},Fl.version="19.1.0",Fl}var oy;function qE(){if(oy)return Vf.exports;oy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vf.exports=kE(),Vf.exports}var HE=qE();const GE=()=>{};var cy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},FE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],p=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},T_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,p=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,A=h>>2,C=(h&3)<<4|p>>4;let I=(p&15)<<2|v>>6,H=v&63;_||(H=64,d||(I=64)),a.push(i[A],i[C],i[I],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(E_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):FE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],p=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const C=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||p==null||v==null||C==null)throw new QE;const I=h<<2|p>>4;if(a.push(I),v!==64){const H=p<<4&240|v>>2;if(a.push(H),C!==64){const W=v<<6&192|C;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class QE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YE=function(s){const e=E_(s);return T_.encodeByteArray(e,!0)},$o=function(s){return YE(s).replace(/\./g,"")},XE=function(s){try{return T_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=()=>KE().__FIREBASE_DEFAULTS__,$E=()=>{if(typeof process>"u"||typeof cy>"u")return;const s=cy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},JE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&XE(s[1]);return e&&JSON.parse(e)},od=()=>{try{return GE()||ZE()||$E()||JE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},WE=s=>{var e,i;return(i=(e=od())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},tT=s=>{const e=WE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},A_=()=>{var s;return(s=od())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[$o(JSON.stringify(i)),$o(JSON.stringify(d)),""].join(".")}const $l={};function rT(){const s={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?s.emulator.push(e):s.prod.push(e);return s}function aT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let hy=!1;function sT(s,e){if(typeof window>"u"||typeof document>"u"||!cd(window.location.host)||$l[s]===e||$l[s]||hy)return;$l[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",h=rT().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function _(I,H){I.setAttribute("width","24"),I.setAttribute("id",H),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{hy=!0,d()},I}function A(I,H){I.setAttribute("id",H),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function C(){const I=aT(a),H=i("text"),W=document.getElementById(H)||document.createElement("span"),rt=i("learnmore"),tt=document.getElementById(rt)||document.createElement("a"),St=i("preprendIcon"),vt=document.getElementById(St)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const pt=I.element;p(pt),A(tt,rt);const Nt=v();_(vt,St),pt.append(vt,W,tt,Nt),document.body.appendChild(pt)}h?(W.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uT(){var s;const e=(s=od())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oT(){return!uT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cT(){try{return typeof indexedDB=="object"}catch{return!1}}function hT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="FirebaseError";class Ms extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=fT,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S_.prototype.create)}}class S_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?dT(h,a):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new Ms(u,p,a)}}function dT(s,e){return s.replace(mT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const mT=/\{\$([^}]+)}/g;function Jo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(fy(h)&&fy(d)){if(!Jo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function fy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(s){return s&&s._delegate?s._delegate:s}class nu{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new eT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yT(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:pT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pT(s){return s===ya?void 0:s}function yT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new gT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qt||(qt={}));const vT={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},ET=qt.INFO,TT={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},AT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=TT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class b_{constructor(e){this.name=e,this._logLevel=ET,this._logHandler=AT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const ST=(s,e)=>e.some(i=>s instanceof i);let dy,my;function bT(){return dy||(dy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RT(){return my||(my=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R_=new WeakMap,kf=new WeakMap,w_=new WeakMap,Mf=new WeakMap,hd=new WeakMap;function wT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(wr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&R_.set(i,s)}).catch(()=>{}),hd.set(e,s),e}function DT(s){if(kf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});kf.set(s,e)}let qf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return kf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||w_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function CT(s){qf=s(qf)}function VT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(xf(this),e,...i);return w_.set(a,e.sort?e.sort():[e]),wr(a)}:RT().includes(s)?function(...e){return s.apply(xf(this),e),wr(R_.get(this))}:function(...e){return wr(s.apply(xf(this),e))}}function IT(s){return typeof s=="function"?VT(s):(s instanceof IDBTransaction&&DT(s),ST(s,bT())?new Proxy(s,qf):s)}function wr(s){if(s instanceof IDBRequest)return wT(s);if(Mf.has(s))return Mf.get(s);const e=IT(s);return e!==s&&(Mf.set(s,e),hd.set(e,s)),e}const xf=s=>hd.get(s);function OT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),p=wr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(wr(d.result),_.oldVersion,_.newVersion,wr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const NT=["get","getKey","getAll","getAllKeys","count"],MT=["put","add","delete","clear"],Uf=new Map;function gy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=MT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||NT.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),u&&_.done]))[0]};return Uf.set(e,h),h}CT(s=>({...s,get:(e,i,a)=>gy(e,i)||s.get(e,i,a),has:(e,i)=>!!gy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(UT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function UT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hf="@firebase/app",py="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new b_("@firebase/app"),LT="@firebase/app-compat",zT="@firebase/analytics-compat",PT="@firebase/analytics",BT="@firebase/app-check-compat",jT="@firebase/app-check",kT="@firebase/auth",qT="@firebase/auth-compat",HT="@firebase/database",GT="@firebase/data-connect",FT="@firebase/database-compat",QT="@firebase/functions",YT="@firebase/functions-compat",XT="@firebase/installations",KT="@firebase/installations-compat",ZT="@firebase/messaging",$T="@firebase/messaging-compat",JT="@firebase/performance",WT="@firebase/performance-compat",t1="@firebase/remote-config",e1="@firebase/remote-config-compat",n1="@firebase/storage",i1="@firebase/storage-compat",r1="@firebase/firestore",a1="@firebase/ai",s1="@firebase/firestore-compat",l1="firebase",u1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="[DEFAULT]",o1={[Hf]:"fire-core",[LT]:"fire-core-compat",[PT]:"fire-analytics",[zT]:"fire-analytics-compat",[jT]:"fire-app-check",[BT]:"fire-app-check-compat",[kT]:"fire-auth",[qT]:"fire-auth-compat",[HT]:"fire-rtdb",[GT]:"fire-data-connect",[FT]:"fire-rtdb-compat",[QT]:"fire-fn",[YT]:"fire-fn-compat",[XT]:"fire-iid",[KT]:"fire-iid-compat",[ZT]:"fire-fcm",[$T]:"fire-fcm-compat",[JT]:"fire-perf",[WT]:"fire-perf-compat",[t1]:"fire-rc",[e1]:"fire-rc-compat",[n1]:"fire-gcs",[i1]:"fire-gcs-compat",[r1]:"fire-fst",[s1]:"fire-fst-compat",[a1]:"fire-vertex","fire-js":"fire-js",[l1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=new Map,c1=new Map,Ff=new Map;function yy(s,e){try{s.container.addComponent(e)}catch(i){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function tc(s){const e=s.name;if(Ff.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;Ff.set(e,s);for(const i of Wo.values())yy(i,s);for(const i of c1.values())yy(i,s);return!0}function h1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function f1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new S_("app","Firebase",d1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new nu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=u1;function D_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Gf,automaticDataCollectionEnabled:!0},e),u=a.name;if(typeof u!="string"||!u)throw Dr.create("bad-app-name",{appName:String(u)});if(i||(i=A_()),!i)throw Dr.create("no-options");const h=Wo.get(u);if(h){if(Jo(i,h.options)&&Jo(a,h.config))return h;throw Dr.create("duplicate-app",{appName:u})}const d=new _T(u);for(const _ of Ff.values())d.addComponent(_);const p=new m1(i,a,d);return Wo.set(u,p),p}function p1(s=Gf){const e=Wo.get(s);if(!e&&s===Gf&&A_())return D_();if(!e)throw Dr.create("no-app",{appName:s});return e}function Rs(s,e,i){var a;let u=(a=o1[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${u}" with version "${e}":`];h&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(p.join(" "));return}tc(new nu(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="firebase-heartbeat-database",_1=1,iu="firebase-heartbeat-store";let Lf=null;function C_(){return Lf||(Lf=OT(y1,_1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(iu)}catch(i){console.warn(i)}}}}).catch(s=>{throw Dr.create("idb-open",{originalErrorMessage:s.message})})),Lf}async function v1(s){try{const i=(await C_()).transaction(iu),a=await i.objectStore(iu).get(V_(s));return await i.done,a}catch(e){if(e instanceof Ms)Fi.warn(e.message);else{const i=Dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(i.message)}}}async function _y(s,e){try{const a=(await C_()).transaction(iu,"readwrite");await a.objectStore(iu).put(e,V_(s)),await a.done}catch(i){if(i instanceof Ms)Fi.warn(i.message);else{const a=Dr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Fi.warn(a.message)}}}function V_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=1024,T1=30;class A1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new b1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=vy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>T1){const d=R1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Fi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=vy(),{heartbeatsToSend:a,unsentEntries:u}=S1(this._heartbeatsCache.heartbeats),h=$o(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Fi.warn(i),""}}}function vy(){return new Date().toISOString().substring(0,10)}function S1(s,e=E1){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Ey(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Ey(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class b1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cT()?hT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await v1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return _y(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return _y(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Ey(s){return $o(JSON.stringify({version:2,heartbeats:s})).length}function R1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(s){tc(new nu("platform-logger",e=>new xT(e),"PRIVATE")),tc(new nu("heartbeat",e=>new A1(e),"PRIVATE")),Rs(Hf,py,s),Rs(Hf,py,"esm2017"),Rs("fire-js","")}w1("");var D1="firebase",C1="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs(D1,C1,"app");var Ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cr,I_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function R(){}R.prototype=S.prototype,N.D=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(O,M,U){for(var w=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)w[ge-2]=arguments[ge];return S.prototype[M].apply(O,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)O[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],M=N.g[2];var U=N.g[3],w=S+(U^R&(M^U))+O[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+O[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+O[2]+606105819&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+O[3]+3250441966&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(U^R&(M^U))+O[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+O[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+O[6]+2821735955&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+O[7]+4249261313&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(U^R&(M^U))+O[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+O[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+O[10]+4294925233&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+O[11]+2304563134&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(U^R&(M^U))+O[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+O[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+O[14]+2792965006&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+O[15]+1236535329&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(M^U&(R^M))+O[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+O[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+O[11]+643717713&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+O[0]+3921069994&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(R^M))+O[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+O[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+O[15]+3634488961&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+O[4]+3889429448&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(R^M))+O[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+O[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+O[3]+4107603335&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+O[8]+1163531501&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(R^M))+O[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+O[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+O[7]+1735328473&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+O[12]+2368359562&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(R^M^U)+O[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+O[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+O[11]+1839030562&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+O[14]+4259657740&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^U)+O[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+O[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+O[7]+4139469664&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+O[10]+3200236656&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^U)+O[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+O[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+O[3]+3572445317&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+O[6]+76029189&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^U)+O[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+O[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+O[15]+530742520&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+O[2]+3299628645&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(M^(R|~U))+O[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+O[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+O[14]+2878612391&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+O[5]+4237533241&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~U))+O[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+O[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+O[10]+4293915773&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+O[1]+2240044497&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~U))+O[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+O[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+O[6]+2734768916&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+O[13]+1309151649&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~U))+O[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+O[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+O[2]+718787259&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var R=S-this.blockSize,O=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=R;)u(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[M++]=N.charCodeAt(U++),M==this.blockSize){u(this,O),M=0;break}}else for(;U<S;)if(O[M++]=N[U++],M==this.blockSize){u(this,O),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var R=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.u(N),N=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)N[R++]=this.g[S]>>>O&255;return N};function h(N,S){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function d(N,S){this.h=S;for(var R=[],O=!0,M=N.length-1;0<=M;M--){var U=N[M]|0;O&&U==S||(R[M]=U,O=!1)}this.g=R}var p={};function _(N){return-128<=N&&128>N?h(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return C;if(0>N)return tt(v(-N));for(var S=[],R=1,O=0;N>=R;O++)S[O]=N/R|0,R*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return tt(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),O=C,M=0;M<N.length;M+=8){var U=Math.min(8,N.length-M),w=parseInt(N.substring(M,M+U),S);8>U?(U=v(Math.pow(S,U)),O=O.j(U).add(v(w))):(O=O.j(R),O=O.add(v(w)))}return O}var C=_(0),I=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(rt(this))return-tt(this).m();for(var N=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(rt(this))return"-"+tt(this).toString(N);for(var S=v(Math.pow(N,6)),R=this,O="";;){var M=Nt(R,S).g;R=St(R,M.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=M,W(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function rt(N){return N.h==-1}s.l=function(N){return N=St(this,N),rt(N)?-1:W(N)?0:1};function tt(N){for(var S=N.g.length,R=[],O=0;O<S;O++)R[O]=~N.g[O];return new d(R,~N.h).add(I)}s.abs=function(){return rt(this)?tt(this):this},s.add=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0,M=0;M<=S;M++){var U=O+(this.i(M)&65535)+(N.i(M)&65535),w=(U>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);O=w>>>16,U&=65535,w&=65535,R[M]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function St(N,S){return N.add(tt(S))}s.j=function(N){if(W(this)||W(N))return C;if(rt(this))return rt(N)?tt(this).j(tt(N)):tt(tt(this).j(N));if(rt(N))return tt(this.j(tt(N)));if(0>this.l(H)&&0>N.l(H))return v(this.m()*N.m());for(var S=this.g.length+N.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<N.g.length;M++){var U=this.i(O)>>>16,w=this.i(O)&65535,ge=N.i(M)>>>16,ae=N.i(M)&65535;R[2*O+2*M]+=w*ae,vt(R,2*O+2*M),R[2*O+2*M+1]+=U*ae,vt(R,2*O+2*M+1),R[2*O+2*M+1]+=w*ge,vt(R,2*O+2*M+1),R[2*O+2*M+2]+=U*ge,vt(R,2*O+2*M+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new d(R,0)};function vt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function pt(N,S){this.g=N,this.h=S}function Nt(N,S){if(W(S))throw Error("division by zero");if(W(N))return new pt(C,C);if(rt(N))return S=Nt(tt(N),S),new pt(tt(S.g),tt(S.h));if(rt(S))return S=Nt(N,tt(S)),new pt(tt(S.g),S.h);if(30<N.g.length){if(rt(N)||rt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=I,O=S;0>=O.l(N);)R=bt(R),O=bt(O);var M=Ht(R,1),U=Ht(O,1);for(O=Ht(O,2),R=Ht(R,2);!W(O);){var w=U.add(O);0>=w.l(N)&&(M=M.add(R),U=w),O=Ht(O,1),R=Ht(R,1)}return S=St(N,M.j(S)),new pt(M,S)}for(M=C;0<=N.l(S);){for(R=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=v(R),w=U.j(S);rt(w)||0<w.l(N);)R-=O,U=v(R),w=U.j(S);W(U)&&(U=I),M=M.add(U),N=St(N,w)}return new pt(M,N)}s.A=function(N){return Nt(this,N).h},s.and=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&N.i(O);return new d(R,this.h&N.h)},s.or=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|N.i(O);return new d(R,this.h|N.h)},s.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^N.i(O);return new d(R,this.h^N.h)};function bt(N){for(var S=N.g.length+1,R=[],O=0;O<S;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(R,N.h)}function Ht(N,S){var R=S>>5;S%=32;for(var O=N.g.length-R,M=[],U=0;U<O;U++)M[U]=0<S?N.i(U+R)>>>S|N.i(U+R+1)<<32-S:N.i(U+R);return new d(M,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,I_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Cr=d}).apply(typeof Ty<"u"?Ty:typeof self<"u"?self:typeof window<"u"?window:{});var Po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var O_,Yl,N_,Fo,Qf,M_,x_,U_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Po=="object"&&Po];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in g))break t;g=g[L]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,L={next:function(){if(!T&&g<o.length){var q=g++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,g){return o.call.apply(o.bind,arguments)}function C(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function I(o,m,g){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,I.apply(null,arguments)}function H(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function W(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,L,q){for(var et=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)et[Pt-2]=arguments[Pt];return m.prototype[L].apply(T,et)}}function rt(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function tt(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(_(T)){const L=o.length||0,q=T.length||0;o.length=L+q;for(let et=0;et<q;et++)o[L+et]=T[et]}else o.push(T)}}class St{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function vt(o){return/^[\s\xa0]*$/.test(o)}function pt(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function Nt(o){return Nt[" "](o),o}Nt[" "]=function(){};var bt=pt().indexOf("Gecko")!=-1&&!(pt().toLowerCase().indexOf("webkit")!=-1&&pt().indexOf("Edge")==-1)&&!(pt().indexOf("Trident")!=-1||pt().indexOf("MSIE")!=-1)&&pt().indexOf("Edge")==-1;function Ht(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function N(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function S(o){const m={};for(const g in o)m[g]=o[g];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(o,m){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)o[g]=T[g];for(let q=0;q<R.length;q++)g=R[q],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function M(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function U(o){p.setTimeout(()=>{throw o},0)}function w(){var o=Gt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,g){const T=ae.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ae=new St(()=>new k,o=>o.reset());class k{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ft=!1,Gt=new ge,D=()=>{const o=p.Promise.resolve(void 0);nt=()=>{o.then(X)}};var X=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(g){U(g)}var m=ae;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ft=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function wt(o,m){if($.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(bt){t:{try{Nt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:gt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&wt.aa.h.call(this)}}W(wt,$);var gt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),$t=0;function vn(o,m,g,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=L,this.key=++$t,this.da=this.fa=!1}function En(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Tn(o){this.src=o,this.g={},this.h=0}Tn.prototype.add=function(o,m,g,T,L){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var et=Ki(o,m,T,L);return-1<et?(m=o[et],g||(m.fa=!1)):(m=new vn(m,this.src,q,!!T,L),m.fa=g,o.push(m)),m};function Xi(o,m){var g=m.type;if(g in o.g){var T=o.g[g],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(En(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function Ki(o,m,g,T){for(var L=0;L<o.length;++L){var q=o[L];if(!q.da&&q.listener==m&&q.capture==!!g&&q.ha==T)return L}return-1}var Zi="closure_lm_"+(1e6*Math.random()|0),Va={};function Ia(o,m,g,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Ia(o,m[q],g,T,L);return null}return g=Mt(g),o&&o[Ee]?o.K(m,g,v(T)?!!T.capture:!1,L):Ke(o,m,g,!1,T,L)}function Ke(o,m,g,T,L,q){if(!m)throw Error("Invalid event type");var et=v(L)?!!L.capture:!!L,Pt=st(o);if(Pt||(o[Zi]=Pt=new Tn(o)),g=Pt.add(m,g,T,et,q),g.proxy)return g;if(T=Ps(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)dt||(L=et),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Qn(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ps(){function o(g){return m.call(o.src,o.listener,g)}const m=K;return o}function Ln(o,m,g,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ln(o,m[q],g,T,L);else T=v(T)?!!T.capture:!!T,g=Mt(g),o&&o[Ee]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],g=Ki(q,g,T,L),-1<g&&(En(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=st(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Ki(m,g,T,L)),(g=-1<o?m[o]:null)&&Fn(g))}function Fn(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Ee])Xi(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(Qn(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=st(m))?(Xi(g,o),g.h==0&&(g.src=null,m[Zi]=null)):En(o)}}}function Qn(o){return o in Va?Va[o]:Va[o]="on"+o}function K(o,m){if(o.da)o=!0;else{m=new wt(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&Fn(o),o=g.call(T,m)}return o}function st(o){return o=o[Zi],o instanceof Tn?o:null}var ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(o){return typeof o=="function"?o:(o[ot]||(o[ot]=function(m){return o.handleEvent(m)}),o[ot])}function Ct(){it.call(this),this.i=new Tn(this),this.M=this,this.F=null}W(Ct,it),Ct.prototype[Ee]=!0,Ct.prototype.removeEventListener=function(o,m,g,T){Ln(this,o,m,g,T)};function ct(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new $(m,o);else if(m instanceof $)m.target=m.target||o;else{var L=m;m=new $(T,o),O(m,L)}if(L=!0,g)for(var q=g.length-1;0<=q;q--){var et=m.g=g[q];L=ne(et,T,!0,m)&&L}if(et=m.g=o,L=ne(et,T,!0,m)&&L,L=ne(et,T,!1,m)&&L,g)for(q=0;q<g.length;q++)et=m.g=g[q],L=ne(et,T,!1,m)&&L}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)En(g[T]);delete o.g[m],o.h--}}this.F=null},Ct.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},Ct.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function ne(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==g){var Pt=et.listener,Ve=et.ha||et.src;et.fa&&Xi(o.i,et),L=Pt.call(Ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function ue(o,m,g){if(typeof o=="function")g&&(o=I(o,g));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function Yn(o){o.g=ue(()=>{o.g=null,o.i&&(o.i=!1,Yn(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class zr extends it{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(o){it.call(this),this.h=o,this.g={}}W(Pr,it);var Br=[];function jr(o){Ht(o.g,function(m,g){this.g.hasOwnProperty(g)&&Fn(m)},o),o.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),jr(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=p.JSON.stringify,Oa=p.JSON.parse,kr=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Bs(){}Bs.prototype.h=null;function js(o){return o.h||(o.h=o.i())}function ks(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){$.call(this,"d")}W(vi,$);function qs(){$.call(this,"c")}W(qs,$);var Xn={},Hs=null;function $i(){return Hs=Hs||new Ct}Xn.La="serverreachability";function Na(o){$.call(this,Xn.La,o)}W(Na,$);function Ji(o){const m=$i();ct(m,new Na(m))}Xn.STAT_EVENT="statevent";function pu(o,m){$.call(this,Xn.STAT_EVENT,o),this.stat=m}W(pu,$);function oe(o){const m=$i();ct(m,new pu(m,o))}Xn.Ma="timingevent";function Ce(o,m){$.call(this,Xn.Ma,o),this.size=m}W(Ce,$);function Te(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function Gs(o,m,g,T,L,q){o.info(function(){if(o.g)if(q)for(var et="",Pt=q.split("&"),Ve=0;Ve<Pt.length;Ve++){var Bt=Pt[Ve].split("=");if(1<Bt.length){var Le=Bt[0];Bt=Bt[1];var Ie=Le.split("_");et=2<=Ie.length&&Ie[1]=="type"?et+(Le+"="+Bt+"&"):et+(Le+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+g+`
`+et})}function Vc(o,m,g,T,L,q,et){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+g+`
`+q+" "+et})}function Wi(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+qr(o,g)+(T?" "+T:"")})}function yu(o,m){o.info(function(){return"TIMEOUT: "+m})}An.prototype.info=function(){};function qr(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<L.length;et++)L[et]=""}}}}return zn(g)}catch{return m}}var tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Zn(){}W(Zn,Bs),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},Kn=new Zn;function en(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var Fs={},Ma={};function Pn(o,m,g){o.L=1,o.v=Yr(hn(m)),o.m=g,o.P=!0,Ti(o,null)}function Ti(o,m){o.F=Date.now(),Hr(o),o.A=hn(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),$s(g.i,"t",T),o.C=0,g=o.j.J,o.h=new pe,o.g=Mu(o.j,g?m:null,!o.m),0<o.O&&(o.M=new zr(I(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Br[0]=L.toString()),L=Br);for(var q=0;q<L.length;q++){var et=Ia(g,L[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Ji(),Gs(o.i,o.u,o.A,o.l,o.R,o.m)}en.prototype.ca=function(o){o=o.target;const m=this.M;m&&wn(o)==3?m.j():this.Y(o)},en.prototype.Y=function(o){try{if(o==this.g)t:{const Ie=wn(this.g);var m=this.g.Ba();const Vi=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||Ru(this.g)))){this.J||Ie!=4||m==7||(m==8||0>=Vi?Ji(3):Ji(2)),er(this);var g=this.g.Z();this.X=g;e:if(_u(this)){var T=Ru(this.g);o="";var L=T.length,q=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),$n(this);var et="";break e}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=g==200,Vc(this.i,this.u,this.A,this.l,this.R,Ie,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Ve=this.g;if((Pt=Ve.g?Ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vt(Pt)){var Bt=Pt;break e}}Bt=null}if(g=Bt)Wi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gr(this,g);else{this.o=!1,this.s=3,oe(12),ke(this),$n(this);break t}}if(this.P){g=!0;let qe;for(;!this.J&&this.C<et.length;)if(qe=vu(this,et),qe==Ma){Ie==4&&(this.s=4,oe(14),g=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==Fs){this.s=4,oe(15),Wi(this.i,this.l,et,"[Invalid Chunk]"),g=!1;break}else Wi(this.i,this.l,qe,null),Gr(this,qe);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||et.length!=0||this.h.h||(this.s=1,oe(16),g=!1),this.o=this.o&&g,!g)Wi(this.i,this.l,et,"[Invalid Chunked Response]"),ke(this),$n(this);else if(0<et.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),ea(Le),Le.M=!0,oe(11))}}else Wi(this.i,this.l,et,null),Gr(this,et);Ie==4&&ke(this),this.o&&!this.J&&(Ie==4?Iu(this.j,this):(this.o=!1,Hr(this)))}else xc(this.g),g==400&&0<et.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),ke(this),$n(this)}}}catch{}finally{}};function _u(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function vu(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?Ma:(g=Number(m.substring(g,T)),isNaN(g)?Fs:(T+=1,T+g>m.length?Ma:(m=m.slice(T,T+g),o.C=T+g,m)))}en.prototype.cancel=function(){this.J=!0,ke(this)};function Hr(o){o.S=Date.now()+o.I,Eu(o,o.I)}function Eu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Te(I(o.ba,o),m)}function er(o){o.B&&(p.clearTimeout(o.B),o.B=null)}en.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(yu(this.i,this.A),this.L!=2&&(Ji(),oe(17)),ke(this),this.s=2,$n(this)):Eu(this,this.S-o)};function $n(o){o.j.G==0||o.J||Iu(o.j,o)}function ke(o){er(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,jr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Gr(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||Qs(g.h,o))){if(!o.K&&Qs(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Fa(g),Ha(g);else break t;nl(g),oe(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=Te(I(g.Za,g),6e3));if(1>=Ua(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ci(g,11)}else if((o.K||g.g==o)&&Fa(g),!vt(m))for(L=g.Da.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];if(g.T=Bt[0],Bt=Bt[1],g.G==2)if(Bt[0]=="c"){g.K=Bt[1],g.ia=Bt[2];const Le=Bt[3];Le!=null&&(g.la=Le,g.j.info("VER="+g.la));const Ie=Bt[4];Ie!=null&&(g.Aa=Ie,g.j.info("SVER="+g.Aa));const Vi=Bt[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(T=1.5*Vi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const qe=o.g;if(qe){const ri=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var q=T.h;q.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(La(q,q.h),q.h=null))}if(T.D){const rl=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(T.ya=rl,Jt(T.I,T.D,rl))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var et=o;if(T.qa=Nu(T,T.J?T.ia:null,T.W),et.K){nn(T.h,et);var Pt=et,Ve=T.L;Ve&&(Pt.I=Ve),Pt.B&&(er(Pt),Hr(Pt)),T.g=et}else Cu(T);0<g.i.length&&Ga(g)}else Bt[0]!="stop"&&Bt[0]!="close"||Ci(g,7);else g.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Ci(g,7):tl(g):Bt[0]!="noop"&&g.l&&g.l.ta(Bt),g.v=0)}}Ji(4)}catch{}}var Tu=class{constructor(o,m){this.g=o,this.map=m}};function Ai(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xa(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ua(o){return o.h?1:o.g?o.g.size:0}function Qs(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function La(o,m){o.g?o.g.add(m):o.h=m}function nn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Ai.prototype.cancel=function(){if(this.i=Ys(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ys(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return rt(o.i)}function Ic(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function za(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function Xs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=za(o),T=Ic(o),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],g&&g[q],o)}var Fr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oc(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),L=null;if(0<=T){var q=o[g].substring(0,T);L=o[g].substring(T+1)}else q=o[g];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ae(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Ae){this.h=o.h,Qr(this,o.j),this.o=o.o,this.g=o.g,nr(this,o.s),this.l=o.l;var m=o.i,g=new bi;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),Si(this,g),this.m=o.m}else o&&(m=String(o).match(Fr))?(this.h=!1,Qr(this,m[1]||"",!0),this.o=Sn(m[2]||""),this.g=Sn(m[3]||"",!0),nr(this,m[4]),this.l=Sn(m[5]||"",!0),Si(this,m[6]||"",!0),this.m=Sn(m[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}Ae.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Xr(m,Ks,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Xr(m,Ks,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Xr(g,g.charAt(0)=="/"?Nc:Zs,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Xr(g,Pa)),o.join("")};function hn(o){return new Ae(o)}function Qr(o,m,g){o.j=g?Sn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function nr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Si(o,m,g){m instanceof bi?(o.i=m,Su(o.i,o.h)):(g||(m=Xr(m,Mc)),o.i=new bi(m,o.h))}function Jt(o,m,g){o.i.set(m,g)}function Yr(o){return Jt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Sn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Xr(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,Au),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Au(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ks=/[#\/\?@]/g,Zs=/[#\?:]/g,Nc=/[#\?]/g,Mc=/[#\?@]/g,Pa=/#/g;function bi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function bn(o){o.g||(o.g=new Map,o.h=0,o.i&&Oc(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=bi.prototype,s.add=function(o,m){bn(this),this.i=null,o=Jn(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function Ri(o,m){bn(o),m=Jn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function wi(o,m){return bn(o),m=Jn(o,m),o.g.has(m)}s.forEach=function(o,m){bn(this),this.g.forEach(function(g,T){g.forEach(function(L){o.call(m,L,T,this)},this)},this)},s.na=function(){bn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const L=o[T];for(let q=0;q<L.length;q++)g.push(m[T])}return g},s.V=function(o){bn(this);let m=[];if(typeof o=="string")wi(this,o)&&(m=m.concat(this.g.get(Jn(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return bn(this),this.i=null,o=Jn(this,o),wi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function $s(o,m,g){Ri(o,m),0<g.length&&(o.i=null,o.g.set(Jn(o,m),rt(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const q=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var L=q;et[T]!==""&&(L+="="+encodeURIComponent(String(et[T]))),o.push(L)}}return this.i=o.join("&")};function Jn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Su(o,m){m&&!o.j&&(bn(o),o.i=null,o.g.forEach(function(g,T){var L=T.toLowerCase();T!=L&&(Ri(this,T),$s(this,L,g))},o)),o.j=m}function Kr(o,m){const g=new An;if(p.Image){const T=new Image;T.onload=H(Rn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=H(Rn,g,"TestLoadImage: error",!1,m,T),T.onabort=H(Rn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(Rn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Bn(o,m){const g=new An,T=new AbortController,L=setTimeout(()=>{T.abort(),Rn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Rn(g,"TestPingServer: ok",!0,m):Rn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Rn(g,"TestPingServer: error",!1,m)})}function Rn(o,m,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function Zr(){this.g=new kr}function Wn(o,m,g){const T=g||"";try{Xs(o,function(L,q){let et=L;v(L)&&(et=zn(L)),m.push(T+q+"="+encodeURIComponent(et))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function ir(o){this.l=o.Ub||null,this.j=o.eb||!1}W(ir,Bs),ir.prototype.g=function(){return new Di(this.l,this.j)},ir.prototype.i=function(o){return function(){return o}}({});function Di(o,m){Ct.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(Di,Ct),s=Di.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,ei(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Js(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Js(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?ti(this):ei(this),this.readyState==3&&Js(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,ti(this))},s.Qa=function(o){this.g&&(this.response=o,ti(this))},s.ga=function(){this.g&&ti(this)};function ti(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ei(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function ei(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ws(o){let m="";return Ht(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function Ue(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Ws(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Jt(o,m,g))}function Yt(o){Ct.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W(Yt,Ct);var Ba=/^https?$/i,$r=["POST","PUT"];s=Yt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?js(this.o):js(Kn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){bu(this,q);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())g.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),L=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call($r,m,void 0))||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of g)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jr(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){bu(this,q)}};function bu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,ja(o),ni(o)}function ja(o){o.A||(o.A=!0,ct(o,"complete"),ct(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ct(this,"complete"),ct(this,"abort"),ni(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ni(this,!0)),Yt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},s.bb=function(){ka(this)};function ka(o){if(o.h&&typeof d<"u"&&(!o.v[1]||wn(o)!=4||o.Z()!=2)){if(o.u&&wn(o)==4)ue(o.Ea,0,o);else if(ct(o,"readystatechange"),wn(o)==4){o.h=!1;try{const et=o.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=et===0){var L=String(o.D).match(Fr)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),T=!Ba.test(L?L.toLowerCase():"")}g=T}if(g)ct(o,"complete"),ct(o,"success");else{o.m=6;try{var q=2<wn(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",ja(o)}}finally{ni(o)}}}}function ni(o,m){if(o.g){Jr(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||ct(o,"ready");try{g.onreadystatechange=T}catch{}}}function Jr(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function wn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Oa(m)}};function Ru(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function xc(o){const m={};o=(o.g&&2<=wn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(vt(o[T]))continue;var g=M(o[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=m[L]||[];m[L]=q,q.push(g)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function qa(o){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,o),this.cb=Wr("retryDelaySeedMs",1e4,o),this.Wa=Wr("forwardChannelMaxRetries",2,o),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(o&&o.concurrentRequestLimit),this.Da=new Zr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=qa.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){oe(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Nu(this,null,this.W),Ga(this)};function tl(o){if(wu(o),o.G==3){var m=o.U++,g=hn(o.I);if(Jt(g,"SID",o.K),Jt(g,"RID",m),Jt(g,"TYPE","terminate"),ta(o,g),m=new en(o,o.j,m),m.L=2,m.v=Yr(hn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=Mu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Hr(m)}Ou(o)}function Ha(o){o.g&&(ea(o),o.g.cancel(),o.g=null)}function wu(o){Ha(o),o.u&&(p.clearTimeout(o.u),o.u=null),Fa(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Ga(o){if(!xa(o.h)&&!o.s){o.s=!0;var m=o.Ga;nt||D(),ft||(nt(),ft=!0),Gt.add(m,o),o.B=0}}function Uc(o,m){return Ua(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Te(I(o.Ga,o,m),il(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new en(this,this.j,o);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=Du(this,L,m),g=hn(this.I),Jt(g,"RID",o),Jt(g,"CVER",22),this.D&&Jt(g,"X-HTTP-Session-Id",this.D),ta(this,g),q&&(this.O?m="headers="+encodeURIComponent(String(Ws(q)))+"&"+m:this.m&&Ue(g,this.m,q)),La(this.h,L),this.Ua&&Jt(g,"TYPE","init"),this.P?(Jt(g,"$req",m),Jt(g,"SID","null"),L.T=!0,Pn(L,g,null)):Pn(L,g,m),this.G=2}}else this.G==3&&(o?el(this,o):this.i.length==0||xa(this.h)||el(this))};function el(o,m){var g;m?g=m.l:g=o.U++;const T=hn(o.I);Jt(T,"SID",o.K),Jt(T,"RID",g),Jt(T,"AID",o.T),ta(o,T),o.m&&o.o&&Ue(T,o.m,o.o),g=new en(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=Du(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),La(o.h,g),Pn(g,T,m)}function ta(o,m){o.H&&Ht(o.H,function(g,T){Jt(m,T,g)}),o.l&&Xs({},function(g,T){Jt(m,T,g)})}function Du(o,m,g){g=Math.min(o.i.length,g);var T=o.l?I(o.l.Na,o.l,o):null;t:{var L=o.i;let q=-1;for(;;){const et=["count="+g];q==-1?0<g?(q=L[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Pt=!0;for(let Ve=0;Ve<g;Ve++){let Bt=L[Ve].g;const Le=L[Ve].map;if(Bt-=q,0>Bt)q=Math.max(0,L[Ve].g-100),Pt=!1;else try{Wn(Le,et,"req"+Bt+"_")}catch{T&&T(Le)}}if(Pt){T=et.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function Cu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;nt||D(),ft||(nt(),ft=!0),Gt.add(m,o),o.v=0}}function nl(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Te(I(o.Fa,o),il(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,Vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Te(I(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Ha(this),Vu(this))};function ea(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function Vu(o){o.g=new en(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=hn(o.qa);Jt(m,"RID","rpc"),Jt(m,"SID",o.K),Jt(m,"AID",o.T),Jt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Jt(m,"TO",o.ja),Jt(m,"TYPE","xmlhttp"),ta(o,m),o.m&&o.o&&Ue(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Yr(hn(m)),g.m=null,g.P=!0,Ti(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Ha(this),nl(this),oe(19))};function Fa(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function Iu(o,m){var g=null;if(o.g==m){Fa(o),ea(o),o.g=null;var T=2}else if(Qs(o.h,m))g=m.D,nn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=$i(),ct(T,new Ce(T,g)),Ga(o)}else Cu(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Uc(o,m)||T==2&&nl(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),L){case 1:Ci(o,5);break;case 4:Ci(o,10);break;case 3:Ci(o,6);break;default:Ci(o,2)}}}function il(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function Ci(o,m){if(o.j.info("Error code "+m),m==2){var g=I(o.fb,o),T=o.Xa;const L=!T;T=new Ae(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Qr(T,"https"),Yr(T),L?Kr(T.toString(),g):Bn(T.toString(),g)}else oe(2);o.G=0,o.l&&o.l.sa(m),Ou(o),wu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Ou(o){if(o.G=0,o.ka=[],o.l){const m=Ys(o.h);(m.length!=0||o.i.length!=0)&&(tt(o.ka,m),tt(o.ka,o.i),o.h.i.length=0,rt(o.i),o.i.length=0),o.l.ra()}}function Nu(o,m,g){var T=g instanceof Ae?hn(g):new Ae(g);if(T.g!="")m&&(T.g=m+"."+T.g),nr(T,T.s);else{var L=p.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new Ae(null);T&&Qr(q,T),m&&(q.g=m),L&&nr(q,L),g&&(q.l=g),T=q}return g=o.D,m=o.ya,g&&m&&Jt(T,g,m),Jt(T,"VER",o.la),ta(o,T),T}function Mu(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Yt(new ir({eb:g})):new Yt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}s=xu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Qa(){}Qa.prototype.g=function(o,m){return new rn(o,m)};function rn(o,m){Ct.call(this),this.g=new qa(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!vt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!vt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new ii(this)}W(rn,Ct),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){tl(this.g)},rn.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=zn(o),o=g);m.i.push(new Tu(m.Ya++,o)),m.G==3&&Ga(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,rn.aa.N.call(this)};function Uu(o){vi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}W(Uu,vi);function Lu(){qs.call(this),this.status=1}W(Lu,qs);function ii(o){this.g=o}W(ii,xu),ii.prototype.ua=function(){ct(this.g,"a")},ii.prototype.ta=function(o){ct(this.g,new Uu(o))},ii.prototype.sa=function(o){ct(this.g,new Lu)},ii.prototype.ra=function(){ct(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,U_=function(){return new Qa},x_=function(){return $i()},M_=Xn,Qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,Fo=tr,Ei.COMPLETE="complete",N_=Ei,ks.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Yl=ks,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,O_=Yt}).apply(typeof Po<"u"?Po:typeof self<"u"?self:typeof window<"u"?window:{});const Ay="@firebase/firestore",Sy="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new b_("@firebase/firestore");function Ts(){return Aa.logLevel}function at(s,...e){if(Aa.logLevel<=qt.DEBUG){const i=e.map(fd);Aa.debug(`Firestore (${xs}): ${s}`,...i)}}function Qi(s,...e){if(Aa.logLevel<=qt.ERROR){const i=e.map(fd);Aa.error(`Firestore (${xs}): ${s}`,...i)}}function Ir(s,...e){if(Aa.logLevel<=qt.WARN){const i=e.map(fd);Aa.warn(`Firestore (${xs}): ${s}`,...i)}}function fd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,L_(s,a,i)}function L_(s,e,i){let a=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Qi(a),new Error(a)}function Xt(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||L_(e,u,a)}function Rt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ms{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(We.UNAUTHENTICATED))}shutdown(){}}class I1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class O1{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Xt(this.o===void 0,42304);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Gi,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},p=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Gi)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new z_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string",2055,{h:e}),new We(e)}}class N1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new N1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class by{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,f1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Xt(this.o===void 0,3512);const a=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new by(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new by(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=U1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function It(s,e){return s<e?-1:s>e?1:0}function Yf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),u=e.codePointAt(i);if(a!==u){if(a<128&&u<128)return It(a,u);{const h=P_(),d=L1(h.encode(Ry(s,i)),h.encode(Ry(e,i)));return d!==0?d:It(a,u)}}i+=a>65535?2:1}return It(s.length,e.length)}function Ry(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function L1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return It(s[i],e[i]);return It(s.length,e.length)}function Cs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="__name__";class ci{constructor(e,i,a){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Et(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=ci.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return It(e.length,i.length)}static compareSegments(e,i){const a=ci.isNumericId(e),u=ci.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?ci.extractNumericId(e).compare(ci.extractNumericId(i)):Yf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cr.fromString(e.substring(4,e.length-2))}}class se extends ci{construct(e,i,a){return new se(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new se(i)}static emptyPath(){return new se([])}}const z1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends ci{construct(e,i,a){return new Ye(e,i,a)}static isValidIdentifier(e){return z1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wy}static keyField(){return new Ye([wy])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(a+=p,u++):(h(),u++)}if(h(),d)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(i)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(se.fromString(e))}static fromName(e){return new mt(se.fromString(e).popFirst(5))}static empty(){return new mt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return se.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new se(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(s,e,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function P1(s,e,i,a){if(e===!0&&a===!0)throw new ut(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Dy(s){if(!mt.isDocumentKey(s))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Cy(s){if(mt.isDocumentKey(s))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function j_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function md(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Et(12329,{type:typeof s})}function Gn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=md(s);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(s,e){const i={typeString:s};return e&&(i.value=e),i}function cu(s,e){if(!j_(s))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const u=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(u&&typeof d!==u){i=`JSON field '${a}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new ut(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=-62135596800,Iy=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(e){return le.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Iy);return new le(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Vy)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iy}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,le._jsonSchema))return new le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:we("string",le._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new le(0,0))}static max(){return new At(new le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function B1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=At.fromTimestamp(a===1e9?new le(i+1,0):new le(i,a));return new Or(u,mt.empty(),e)}function j1(s){return new Or(s.readTime,s.key,ru)}class Or{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Or(At.min(),mt.empty(),ru)}static max(){return new Or(At.max(),mt.empty(),ru)}}function k1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,e.documentKey),i!==0?i:It(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==q1)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.reject(i)}static resolve(e){return new Y((i,a)=>{i(e)})}static reject(e){return new Y((i,a)=>{a(e)})}static waitFor(e){return new Y((i,a)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=Y.resolve(!1);for(const a of e)i=i.next(u=>u?Y.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new Y((a,u)=>{const h=e.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++p,p===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new Y((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function G1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ls(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this._e(a),this.ae=a=>i.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}mc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;function gc(s){return s==null}function ec(s){return s===0&&1/s==-1/0}function F1(s){return typeof s=="number"&&Number.isInteger(s)&&!ec(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="";function Q1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Oy(e)),e=Y1(s.get(i),e);return Oy(e)}function Y1(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case k_:i+="";break;default:i+=h}}return i}function Oy(s){return s+k_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ra(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function q_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,i){this.comparator=e,this.root=i||Qe.EMPTY}insert(e,i){return new fe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bo(this.root,e,this.comparator,!0)}}class Bo{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Qe.RED,this.left=u??Qe.EMPTY,this.right=h??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Qe(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Qe.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new Qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new My(this.data.getIterator())}getIteratorFrom(e){return new My(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new xe(this.comparator);return i.data=e,i}}class My{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new Hn([])}unionWith(e){let i=new xe(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Cs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new H_("Invalid base64 string: "+h):h}}(e);return new Xe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Xe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const X1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(s){if(Xt(!!s,39018),typeof s=="string"){let e=0;const i=X1.exec(s);if(Xt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ve(s.seconds),nanos:ve(s.nanos)}}function ve(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Mr(s){return typeof s=="string"?Xe.fromBase64String(s):Xe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="server_timestamp",F_="__type__",Q_="__previous_value__",Y_="__local_write_time__";function pd(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[F_])===null||i===void 0?void 0:i.stringValue)===G_}function pc(s){const e=s.mapValue.fields[Q_];return pd(e)?pc(e):e}function au(s){const e=Nr(s.mapValue.fields[Y_].timestampValue);return new le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,i,a,u,h,d,p,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const nc="(default)";class su{constructor(e,i){this.projectId=e,this.database=i||nc}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===nc}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__type__",Z1="__max__",jo={mapValue:{}},K_="__vector__",ic="value";function xr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?pd(s)?4:J1(s)?9007199254740991:$1(s)?10:11:Et(28295,{value:s})}function pi(s,e){if(s===e)return!0;const i=xr(s);if(i!==xr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return au(s).isEqual(au(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Nr(u.timestampValue),p=Nr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return Mr(u.bytesValue).isEqual(Mr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ve(u.geoPointValue.latitude)===ve(h.geoPointValue.latitude)&&ve(u.geoPointValue.longitude)===ve(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ve(u.integerValue)===ve(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ve(u.doubleValue),p=ve(h.doubleValue);return d===p?ec(d)===ec(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return Cs(s.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(Ny(d)!==Ny(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!pi(d[_],p[_])))return!1;return!0}(s,e);default:return Et(52216,{left:s})}}function lu(s,e){return(s.values||[]).find(i=>pi(i,e))!==void 0}function Vs(s,e){if(s===e)return 0;const i=xr(s),a=xr(e);if(i!==a)return It(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=ve(h.integerValue||h.doubleValue),_=ve(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(s,e);case 3:return xy(s.timestampValue,e.timestampValue);case 4:return xy(au(s),au(e));case 5:return Yf(s.stringValue,e.stringValue);case 6:return function(h,d){const p=Mr(h),_=Mr(d);return p.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=It(p[v],_[v]);if(A!==0)return A}return It(p.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=It(ve(h.latitude),ve(d.latitude));return p!==0?p:It(ve(h.longitude),ve(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Uy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var p,_,v,A;const C=h.fields||{},I=d.fields||{},H=(p=C[ic])===null||p===void 0?void 0:p.arrayValue,W=(_=I[ic])===null||_===void 0?void 0:_.arrayValue,rt=It(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((A=W==null?void 0:W.values)===null||A===void 0?void 0:A.length)||0);return rt!==0?rt:Uy(H,W)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===jo.mapValue&&d===jo.mapValue)return 0;if(h===jo.mapValue)return 1;if(d===jo.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let C=0;C<_.length&&C<A.length;++C){const I=Yf(_[C],A[C]);if(I!==0)return I;const H=Vs(p[_[C]],v[A[C]]);if(H!==0)return H}return It(_.length,A.length)}(s.mapValue,e.mapValue);default:throw Et(23264,{le:i})}}function xy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return It(s,e);const i=Nr(s),a=Nr(e),u=It(i.seconds,a.seconds);return u!==0?u:It(i.nanos,a.nanos)}function Uy(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=Vs(i[u],a[u]);if(h)return h}return It(i.length,a.length)}function Is(s){return Xf(s)}function Xf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Nr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Mr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return mt.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Xf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Xf(i.fields[d])}`;return u+"}"}(s.mapValue):Et(61005,{value:s})}function Qo(s){switch(xr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(s);return e?16+Qo(e):16;case 5:return 2*s.stringValue.length;case 6:return Mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Qo(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return Ra(a.fields,(h,d)=>{u+=h.length+Qo(d)}),u}(s.mapValue);default:throw Et(13486,{value:s})}}function Kf(s){return!!s&&"integerValue"in s}function yd(s){return!!s&&"arrayValue"in s}function Ly(s){return!!s&&"nullValue"in s}function zy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yo(s){return!!s&&"mapValue"in s}function $1(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[X_])===null||i===void 0?void 0:i.stringValue)===K_}function Jl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ra(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Jl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Jl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function J1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Z1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(i)}setAll(e){let i=Ye.emptyPath(),a={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=p.popLast()}d?a[p.lastSegment()]=Jl(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Yo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Yo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){Ra(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new xn(Jl(this.value))}}function Z_(s){const e=[];return Ra(s.fields,(i,a)=>{const u=new Ye([i]);if(Yo(a)){const h=Z_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,i,a,u,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new tn(e,0,At.min(),At.min(),At.min(),xn.empty(),0)}static newFoundDocument(e,i,a,u){return new tn(e,1,i,At.min(),a,u,0)}static newNoDocument(e,i){return new tn(e,2,i,At.min(),At.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new tn(e,3,i,At.min(),At.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i){this.position=e,this.inclusive=i}}function Py(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Vs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function By(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!pi(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i="asc"){this.field=e,this.dir=i}}function W1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{}class Me extends $_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new eA(e,i,a):i==="array-contains"?new rA(e,a):i==="in"?new aA(e,a):i==="not-in"?new sA(e,a):i==="array-contains-any"?new lA(e,a):new Me(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new nA(e,a):new iA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Vs(i,this.value)):i!==null&&xr(this.value)===xr(i)&&this.matchesComparison(Vs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends $_{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new yi(e,i)}matches(e){return J_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function J_(s){return s.op==="and"}function W_(s){return tA(s)&&J_(s)}function tA(s){for(const e of s.filters)if(e instanceof yi)return!1;return!0}function Zf(s){if(s instanceof Me)return s.field.canonicalString()+s.op.toString()+Is(s.value);if(W_(s))return s.filters.map(e=>Zf(e)).join(",");{const e=s.filters.map(i=>Zf(i)).join(",");return`${s.op}(${e})`}}function tv(s,e){return s instanceof Me?function(a,u){return u instanceof Me&&a.op===u.op&&a.field.isEqual(u.field)&&pi(a.value,u.value)}(s,e):s instanceof yi?function(a,u){return u instanceof yi&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,p)=>h&&tv(d,u.filters[p]),!0):!1}(s,e):void Et(19439)}function ev(s){return s instanceof Me?function(i){return`${i.field.canonicalString()} ${i.op} ${Is(i.value)}`}(s):s instanceof yi?function(i){return i.op.toString()+" {"+i.getFilters().map(ev).join(" ,")+"}"}(s):"Filter"}class eA extends Me{constructor(e,i,a){super(e,i,a),this.key=mt.fromName(a.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class nA extends Me{constructor(e,i){super(e,"in",i),this.keys=nv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class iA extends Me{constructor(e,i){super(e,"not-in",i),this.keys=nv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function nv(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>mt.fromName(a.referenceValue))}class rA extends Me{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return yd(i)&&lu(i.arrayValue,this.value)}}class aA extends Me{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&lu(this.value.arrayValue,i)}}class sA extends Me{constructor(e,i){super(e,"not-in",i)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!lu(this.value.arrayValue,i)}}class lA extends Me{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!yd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>lu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,i=null,a=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.Pe=null}}function jy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new uA(s,e,i,a,u,h,d)}function _d(s){const e=Rt(s);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Zf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),gc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Is(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Is(a)).join(",")),e.Pe=i}return e.Pe}function vd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!W1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!tv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!By(s.startAt,e.startAt)&&By(s.endAt,e.endAt)}function $f(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i=null,a=[],u=[],h=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function oA(s,e,i,a,u,h,d,p){return new yc(s,e,i,a,u,h,d,p)}function _c(s){return new yc(s)}function ky(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function cA(s){return s.collectionGroup!==null}function Wl(s){const e=Rt(s);if(e.Te===null){e.Te=[];const i=new Set;for(const h of e.explicitOrderBy)e.Te.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new xe(Ye.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Te.push(new ac(h,a))}),i.has(Ye.keyField().canonicalString())||e.Te.push(new ac(Ye.keyField(),a))}return e.Te}function hi(s){const e=Rt(s);return e.Ie||(e.Ie=hA(e,Wl(s))),e.Ie}function hA(s,e){if(s.limitType==="F")return jy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new ac(u.field,h)});const i=s.endAt?new rc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new rc(s.startAt.position,s.startAt.inclusive):null;return jy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Jf(s,e,i){return new yc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function vc(s,e){return vd(hi(s),hi(e))&&s.limitType===e.limitType}function iv(s){return`${_d(hi(s))}|lt:${s.limitType}`}function As(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>ev(u)).join(", ")}]`),gc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>Is(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>Is(u)).join(",")),`Target(${a})`}(hi(s))}; limitType=${s.limitType})`}function Ec(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):mt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of Wl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,p,_){const v=Py(d,p,_);return d.inclusive?v<=0:v<0}(a.startAt,Wl(a),u)||a.endAt&&!function(d,p,_){const v=Py(d,p,_);return d.inclusive?v>=0:v>0}(a.endAt,Wl(a),u))}(s,e)}function fA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function rv(s){return(e,i)=>{let a=!1;for(const u of Wl(s)){const h=dA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function dA(s,e,i){const a=s.field.isKeyField()?mt.comparator(e.key,i.key):function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?Vs(_,v):Et(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return q_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=new fe(mt.comparator);function Yi(){return mA}const av=new fe(mt.comparator);function Xl(...s){let e=av;for(const i of s)e=e.insert(i.key,i);return e}function sv(s){let e=av;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function va(){return tu()}function lv(){return tu()}function tu(){return new wa(s=>s.toString(),(s,e)=>s.isEqual(e))}const gA=new fe(mt.comparator),pA=new xe(mt.comparator);function Lt(...s){let e=pA;for(const i of s)e=e.add(i);return e}const yA=new xe(It);function _A(){return yA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function uv(s){return{integerValue:""+s}}function vA(s,e){return F1(e)?uv(e):Ed(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this._=void 0}}function EA(s,e,i){return s instanceof sc?function(u,h){const d={fields:{[F_]:{stringValue:G_},[Y_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&pd(h)&&(h=pc(h)),h&&(d.fields[Q_]=h),{mapValue:d}}(i,e):s instanceof uu?cv(s,e):s instanceof ou?hv(s,e):function(u,h){const d=ov(u,h),p=qy(d)+qy(u.Ee);return Kf(d)&&Kf(u.Ee)?uv(p):Ed(u.serializer,p)}(s,e)}function TA(s,e,i){return s instanceof uu?cv(s,e):s instanceof ou?hv(s,e):i}function ov(s,e){return s instanceof lc?function(a){return Kf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class sc extends Tc{}class uu extends Tc{constructor(e){super(),this.elements=e}}function cv(s,e){const i=fv(e);for(const a of s.elements)i.some(u=>pi(u,a))||i.push(a);return{arrayValue:{values:i}}}class ou extends Tc{constructor(e){super(),this.elements=e}}function hv(s,e){let i=fv(e);for(const a of s.elements)i=i.filter(u=>!pi(u,a));return{arrayValue:{values:i}}}class lc extends Tc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function qy(s){return ve(s.integerValue||s.doubleValue)}function fv(s){return yd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function AA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof uu&&u instanceof uu||a instanceof ou&&u instanceof ou?Cs(a.elements,u.elements,pi):a instanceof lc&&u instanceof lc?pi(a.Ee,u.Ee):a instanceof sc&&u instanceof sc}(s.transform,e.transform)}class SA{constructor(e,i){this.version=e,this.transformResults=i}}class fi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ac{}function dv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new gv(s.key,fi.none()):new hu(s.key,s.data,fi.none());{const i=s.data,a=xn.empty();let u=new xe(Ye.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new Da(s.key,a,new Hn(u.toArray()),fi.none())}}function bA(s,e,i){s instanceof hu?function(u,h,d){const p=u.value.clone(),_=Gy(u.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof Da?function(u,h,d){if(!Xo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Gy(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(mv(u)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function eu(s,e,i,a){return s instanceof hu?function(h,d,p,_){if(!Xo(h.precondition,d))return p;const v=h.value.clone(),A=Fy(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof Da?function(h,d,p,_){if(!Xo(h.precondition,d))return p;const v=Fy(h.fieldTransforms,_,d),A=d.data;return A.setAll(mv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(s,e,i,a):function(h,d,p){return Xo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function RA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=ov(a.transform,u||null);h!=null&&(i===null&&(i=xn.empty()),i.set(a.field,h))}return i||null}function Hy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&Cs(a,u,(h,d)=>AA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class hu extends Ac{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Da extends Ac{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function mv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Gy(s,e,i){const a=new Map;Xt(s.length===i.length,32656,{Ae:i.length,Re:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,p=e.data.field(h.field);a.set(h.field,TA(d,p,i[u]))}return a}function Fy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,EA(h,d,e))}return a}class gv extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wA extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&bA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=eu(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=eu(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=lv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const _=dv(d,p);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Lt())}isEqual(e){return this.batchId===e.batchId&&Cs(this.mutations,e.mutations,(i,a)=>Hy(i,a))&&Cs(this.baseMutations,e.baseMutations,(i,a)=>Hy(i,a))}}class Td{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){Xt(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let u=function(){return gA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new Td(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,kt;function IA(s){switch(s){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:s})}}function pv(s){if(s===void 0)return Qi("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:s})}}(kt=Re||(Re={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new Cr([4294967295,4294967295],0);function Qy(s){const e=P_().encode(s),i=new I_;return i.update(e),new Uint8Array(i.digest())}function Yy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Cr([i,a],0),new Cr([u,h],0)]}class Ad{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Kl(`Invalid padding: ${i}`);if(a<0)throw new Kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=Cr.fromNumber(this.fe)}pe(e,i,a){let u=e.add(i.multiply(Cr.fromNumber(a)));return u.compare(OA)===1&&(u=new Cr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=Qy(e),[a,u]=Yy(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(a,u,h);if(!this.ye(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ad(h,u,i);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.fe===0)return;const i=Qy(e),[a,u]=Yy(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(a,u,h);this.we(d)}}we(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Sc(At.min(),u,new fe(It),Yi(),Lt())}}class fu{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new fu(a,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,i,a,u){this.Se=e,this.removedTargetIds=i,this.key=a,this.be=u}}class yv{constructor(e,i){this.targetId=e,this.De=i}}class _v{constructor(e,i,a=Xe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Xy{constructor(){this.ve=0,this.Ce=Ky(),this.Fe=Xe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Lt(),i=Lt(),a=Lt();return this.Ce.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:Et(38017,{changeType:h})}}),new fu(this.Fe,this.Me,e,i,a)}ke(){this.xe=!1,this.Ce=Ky()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class NA{constructor(e){this.We=e,this.Ge=new Map,this.ze=Yi(),this.je=ko(),this.Je=ko(),this.He=new fe(It)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const a=this.tt(i);switch(e.state){case 0:this.nt(i)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),a.Be(e.resumeToken));break;default:Et(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((a,u)=>{this.nt(u)&&i(u)})}it(e){const i=e.targetId,a=e.De.count,u=this.st(i);if(u){const h=u.target;if($f(h))if(a===0){const d=new mt(h.path);this.Xe(i,d,tn.newNoDocument(d,At.min()))}else Xt(a===1,20013,{expectedCount:a});else{const d=this.ot(i);if(d!==a){const p=this._t(e),_=p?this.ut(p,e,d):1;if(_!==0){this.rt(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,v)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=Mr(a).toUint8Array()}catch(_){if(_ instanceof H_)return Ir("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Ad(d,u,h)}catch(_){return Ir(_ instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.fe===0?null:p}ut(e,i,a){return i.De.count===a-this.ht(e,i.targetId)?0:2}ht(e,i){const a=this.We.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.We.lt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.Xe(i,h,null),u++)}),u}Pt(e){const i=new Map;this.Ge.forEach((h,d)=>{const p=this.st(d);if(p){if(h.current&&$f(p.target)){const _=new mt(p.target.path);this.Tt(_).has(d)||this.It(d,_)||this.Xe(d,_,tn.newNoDocument(_,e))}h.Ne&&(i.set(d,h.Le()),h.ke())}});let a=Lt();this.Je.forEach((h,d)=>{let p=!0;d.forEachWhile(_=>{const v=this.st(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(h))}),this.ze.forEach((h,d)=>d.setReadTime(e));const u=new Sc(e,i,this.He,this.ze,a);return this.ze=Yi(),this.je=ko(),this.Je=ko(),this.He=new fe(It),u}Ze(e,i){if(!this.nt(e))return;const a=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,a),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,a){if(!this.nt(e))return;const u=this.tt(e);this.It(e,i)?u.qe(i,1):u.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),a&&(this.ze=this.ze.insert(i,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new Xy,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new xe(It),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new xe(It),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Xy),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function ko(){return new fe(mt.comparator)}function Ky(){return new fe(mt.comparator)}const MA={asc:"ASCENDING",desc:"DESCENDING"},xA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UA={and:"AND",or:"OR"};class LA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Wf(s,e){return s.useProto3Json||gc(e)?e:{value:e}}function uc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function zA(s,e){return uc(s,e.toTimestamp())}function di(s){return Xt(!!s,49232),At.fromTimestamp(function(i){const a=Nr(i);return new le(a.seconds,a.nanos)}(s))}function Sd(s,e){return td(s,e).canonicalString()}function td(s,e){const i=function(u){return new se(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function Ev(s){const e=se.fromString(s);return Xt(Rv(e),10190,{key:e.toString()}),e}function ed(s,e){return Sd(s.databaseId,e.path)}function zf(s,e){const i=Ev(e);if(i.get(1)!==s.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(Av(i))}function Tv(s,e){return Sd(s.databaseId,e)}function PA(s){const e=Ev(s);return e.length===4?se.emptyPath():Av(e)}function nd(s){return new se(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Av(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Zy(s,e,i){return{name:ed(s,e),fields:i.value.mapValue.fields}}function BA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Et(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(Xt(A===void 0||typeof A=="string",58123),Xe.fromBase64String(A||"")):(Xt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Xe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const A=v.code===void 0?Z.UNKNOWN:pv(v.code);return new ut(A,v.message||"")}(d);i=new _v(a,u,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=zf(s,a.document.name),h=di(a.document.updateTime),d=a.document.createTime?di(a.document.createTime):At.min(),p=new xn({mapValue:{fields:a.document.fields}}),_=tn.newFoundDocument(u,h,d,p),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Ko(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=zf(s,a.document),h=a.readTime?di(a.readTime):At.min(),d=tn.newNoDocument(u,h),p=a.removedTargetIds||[];i=new Ko([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=zf(s,a.document),h=a.removedTargetIds||[];i=new Ko([],h,u,null)}else{if(!("filter"in e))return Et(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new VA(u,h),p=a.targetId;i=new yv(p,d)}}return i}function jA(s,e){let i;if(e instanceof hu)i={update:Zy(s,e.key,e.value)};else if(e instanceof gv)i={delete:ed(s,e.key)};else if(e instanceof Da)i={update:Zy(s,e.key,e.data),updateMask:KA(e.fieldMask)};else{if(!(e instanceof wA))return Et(16599,{Rt:e.type});i={verify:ed(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof sc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof uu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ou)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof lc)return{fieldPath:d.field.canonicalString(),increment:p.Ee};throw Et(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:zA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Et(27497)}(s,e.precondition)),i}function kA(s,e){return s&&s.length>0?(Xt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?di(u.updateTime):di(h);return d.isEqual(At.min())&&(d=di(h)),new SA(d,u.transformResults||[])}(i,e))):[]}function qA(s,e){return{documents:[Tv(s,e.path)]}}function HA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Tv(s,u);const h=function(v){if(v.length!==0)return bv(yi.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(I){return{field:Ss(I.field),direction:QA(I.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Wf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{Vt:i,parent:u}}function GA(s){let e=PA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){Xt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(C){const I=Sv(C);return I instanceof yi&&W_(I)?I.getFilters():[I]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(I=>function(W){return new ac(bs(W.field),function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction))}(I))}(i.orderBy));let p=null;i.limit&&(p=function(C){let I;return I=typeof C=="object"?C.value:C,gc(I)?null:I}(i.limit));let _=null;i.startAt&&(_=function(C){const I=!!C.before,H=C.values||[];return new rc(H,I)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const I=!C.before,H=C.values||[];return new rc(H,I)}(i.endAt)),oA(e,u,d,h,p,"F",_,v)}function FA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Sv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=bs(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=bs(i.unaryFilter.field);return Me.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=bs(i.unaryFilter.field);return Me.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=bs(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(s):s.fieldFilter!==void 0?function(i){return Me.create(bs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return yi.create(i.compositeFilter.filters.map(a=>Sv(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(i.compositeFilter.op))}(s):Et(30097,{filter:s})}function QA(s){return MA[s]}function YA(s){return xA[s]}function XA(s){return UA[s]}function Ss(s){return{fieldPath:s.canonicalString()}}function bs(s){return Ye.fromServerFormat(s.fieldPath)}function bv(s){return s instanceof Me?function(i){if(i.op==="=="){if(zy(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NAN"}};if(Ly(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(zy(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NOT_NAN"}};if(Ly(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(i.field),op:YA(i.op),value:i.value}}}(s):s instanceof yi?function(i){const a=i.getFilters().map(u=>bv(u));return a.length===1?a[0]:{compositeFilter:{op:XA(i.op),filters:a}}}(s):Et(54877,{filter:s})}function KA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Rv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,i,a,u,h=At.min(),d=At.min(),p=Xe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.gt=e}}function $A(s){const e=GA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Jf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.Dn=new WA}addToCollectionParentIndex(e,i){return this.Dn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(Or.min())}updateCollectionGroup(e,i,a){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class WA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new xe(se.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new xe(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wv=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(wv,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Os(0)}static ur(){return new Os(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LruGarbageCollector",tS=1048576;function Wy([s,e],[i,a]){const u=It(s,i);return u===0?It(e,a):u}class eS{constructor(e){this.Tr=e,this.buffer=new xe(Wy),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Wy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class nS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){at(Jy,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ls(i)?at(Jy,"Ignoring IndexedDB error during garbage collection: ",i):await Us(i)}await this.Rr(3e5)})}}class iS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(mc.ue);const a=new eS(i);return this.Vr.forEachTarget(e,u=>a.Er(u.sequenceNumber)).next(()=>this.Vr.gr(e,u=>a.Er(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve($y)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$y):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let a,u,h,d,p,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),u=this.params.maximumSequenceNumbersToCollect):u=C,d=Date.now(),this.nthSequenceNumber(e,u))).next(C=>(a=C,p=Date.now(),this.removeTargets(e,a,i))).next(C=>(h=C,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(C=>(v=Date.now(),Ts()<=qt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${C} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:C})))}}function rS(s,e){return new iS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.changes=new wa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&eu(a.mutation,u,Hn.empty(),le.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Lt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Lt()){const u=va();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Xl();return h.forEach((p,_)=>{d=d.insert(p,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=va();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Lt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,u){let h=Yi();const d=tu(),p=function(){return tu()}();return i.forEach((_,v)=>{const A=a.get(v.key);u.has(v.key)&&(A===void 0||A.mutation instanceof Da)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),eu(A.mutation,v,A.mutation.getFieldMask(),le.now())):d.set(v.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var C;return p.set(v,new sS(A,(C=d.get(v))!==null&&C!==void 0?C:null))}),p))}recalculateAndSaveOverlays(e,i){const a=tu();let u=new fe((d,p)=>d-p),h=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||Hn.empty();A=p.applyToLocalView(v,A),a.set(_,A);const C=(u.get(p.batchId)||Lt()).add(_);u=u.insert(p.batchId,C)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,C=lv();A.forEach(I=>{if(!h.has(I)){const H=dv(i.get(I),a.get(I));H!==null&&C.set(I,H),h=h.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,C))}return Y.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):cA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):Y.resolve(va());let p=ru,_=h;return d.next(v=>Y.forEach(v,(A,C)=>(p<C.largestBatchId&&(p=C.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next(I=>{_=_.insert(A,I)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Lt())).next(A=>({batchId:p,changes:sv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next(a=>{let u=Xl();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Xl();return this.indexManager.getCollectionParents(e,h).next(p=>Y.forEach(p,_=>{const v=function(C,I){return new yc(I,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(A=>{A.forEach((C,I)=>{d=d.insert(C,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,tn.newInvalidDocument(A)))});let p=Xl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&eu(A.mutation,v,Hn.empty(),le.now()),Ec(i,v)&&(p=p.insert(_,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return Y.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(u){return{id:u.id,version:u.version,createTime:di(u.createTime)}}(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(u){return{name:u.name,query:$A(u.bundledQuery),readTime:di(u.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.overlays=new fe(mt.comparator),this.kr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const a=va();return Y.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.wt(e,i,h)}),Y.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.kr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.kr.delete(a)),Y.resolve()}getOverlaysForCollection(e,i,a){const u=va(),h=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return Y.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new fe((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=va(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=va(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>p.set(v,A)),!(p.size()>=u)););return Y.resolve(p)}wt(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.kr.get(u.largestBatchId).delete(a.key);this.kr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new CA(i,a));let h=this.kr.get(i);h===void 0&&(h=Lt(),this.kr.set(i,h)),this.kr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this.qr=new xe(je.Qr),this.$r=new xe(je.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const a=new je(e,i);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Wr(new je(e,i))}Gr(e,i){e.forEach(a=>this.removeReference(a,i))}zr(e){const i=new mt(new se([])),a=new je(i,e),u=new je(i,e+1),h=[];return this.$r.forEachInRange([a,u],d=>{this.Wr(d),h.push(d.key)}),h}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new mt(new se([])),a=new je(i,e),u=new je(i,e+1);let h=Lt();return this.$r.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new je(e,0),a=this.qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class je{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return mt.comparator(e.key,i.key)||It(e.Hr,i.Hr)}static Ur(e,i){return It(e.Hr,i.Hr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new xe(je.Qr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new DA(h,i,a,u);this.mutationQueue.push(d);for(const p of u)this.Yr=this.Yr.add(new je(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Xr(a),h=u<0?0:u;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?gd:this.er-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new je(i,0),u=new je(i,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([a,u],d=>{const p=this.Zr(d.Hr);h.push(p)}),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new xe(It);return i.forEach(u=>{const h=new je(u,0),d=new je(u,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,d],p=>{a=a.add(p.Hr)})}),Y.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;mt.isDocumentKey(h)||(h=h.child(""));const d=new je(new mt(h),0);let p=new xe(It);return this.Yr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(p=p.add(_.Hr)),!0)},d),Y.resolve(this.ei(p))}ei(e){const i=[];return e.forEach(a=>{const u=this.Zr(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Xt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return Y.forEach(i.mutations,u=>{const h=new je(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,i){const a=new je(i,0),u=this.Yr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.ni=e,this.docs=function(){return new fe(mt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ni(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(e,i){let a=Yi();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():tn.newInvalidDocument(u))}),Y.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Yi();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||k1(j1(A),a)<=0||(u.has(A.key)||Ec(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,a,u){Et(9500)}ri(e,i){return Y.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new dS(this)}getSize(e){return Y.resolve(this.size)}}class dS extends aS{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Or.addEntry(e,u)):this.Or.removeEntry(a)}),Y.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.persistence=e,this.ii=new wa(i=>_d(i),vd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.si=0,this.oi=new bd,this.targetCount=0,this._i=Os.ar()}forEachTarget(e,i){return this.ii.forEach((a,u)=>i(u)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.si&&(this.si=i),Y.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new Os(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.hr(i),Y.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.ii.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ii.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),Y.waitFor(h).next(()=>u)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const a=this.ii.get(i)||null;return Y.resolve(a)}addMatchingKeys(e,i,a){return this.oi.Kr(i,a),Y.resolve()}removeMatchingKeys(e,i,a){this.oi.Gr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const a=this.oi.Jr(i);return Y.resolve(a)}containsKey(e,i){return Y.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,i){this.ai={},this.overlays={},this.ui=new mc(0),this.ci=!1,this.ci=!0,this.li=new cS,this.referenceDelegate=e(this),this.hi=new mS(this),this.indexManager=new JA,this.remoteDocumentCache=function(u){return new fS(u)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new ZA(i),this.Ti=new uS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new oS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ai[e.toKey()];return a||(a=new hS(i,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,a){at("MemoryPersistence","Starting transaction:",e);const u=new gS(this.ui.next());return this.referenceDelegate.Ii(),a(u).next(h=>this.referenceDelegate.di(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ei(e,i){return Y.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,i)))}}class gS extends H1{constructor(e){super(),this.currentSequenceNumber=e}}class Rd{constructor(e){this.persistence=e,this.Ai=new bd,this.Ri=null}static Vi(e){return new Rd(e)}get mi(){if(this.Ri)return this.Ri;throw Et(60996)}addReference(e,i,a){return this.Ai.addReference(a,i),this.mi.delete(a.toString()),Y.resolve()}removeReference(e,i,a){return this.Ai.removeReference(a,i),this.mi.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(u=>this.mi.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.mi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,a=>{const u=mt.fromPath(a);return this.fi(e,u).next(h=>{h||i.removeEntry(u,At.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(a=>{a?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return Y.or([()=>Y.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class oc{constructor(e,i){this.persistence=e,this.gi=new wa(a=>Q1(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=rS(this,i)}static Vi(e,i){return new oc(e,i)}Ii(){}di(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}yr(e){let i=0;return this.gr(e,a=>{i++}).next(()=>i)}gr(e,i){return Y.forEach(this.gi,(a,u)=>this.Sr(e,a,u).next(h=>h?Y.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ri(e,d=>this.Sr(e,d,i).next(p=>{p||(a++,h.removeEntry(d,At.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.gi.set(a,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,a){return this.gi.set(a,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),Y.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qo(e.data.value)),i}Sr(e,i,a){return Y.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.gi.get(i);return Y.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Is=a,this.ds=u}static Es(e,i){let a=Lt(),u=Lt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new wd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return oT()?8:G1(lT())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ps(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ys(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new pS;return this.ws(e,i,d).next(p=>{if(h.result=p,this.Rs)return this.Ss(e,i,d,p.size)})}).next(()=>h.result)}Ss(e,i,a,u){return a.documentReadCount<this.Vs?(Ts()<=qt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",As(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Ts()<=qt.DEBUG&&at("QueryEngine","Query:",As(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.fs*u?(Ts()<=qt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",As(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(i))):Y.resolve())}ps(e,i){if(ky(i))return Y.resolve(null);let a=hi(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Jf(i,null,"F"),a=hi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Lt(...h);return this.gs.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.bs(i,p);return this.Ds(i,v,d,_.readTime)?this.ps(e,Jf(i,null,"F")):this.vs(e,v,i,_)}))})))}ys(e,i,a,u){return ky(i)||u.isEqual(At.min())?Y.resolve(null):this.gs.getDocuments(e,a).next(h=>{const d=this.bs(i,h);return this.Ds(i,d,a,u)?Y.resolve(null):(Ts()<=qt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),As(i)),this.vs(e,d,i,B1(u,ru)).next(p=>p))})}bs(e,i){let a=new xe(rv(e));return i.forEach((u,h)=>{Ec(e,h)&&(a=a.add(h))}),a}Ds(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}ws(e,i,a){return Ts()<=qt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",As(i)),this.gs.getDocumentsMatchingQuery(e,i,Or.min(),a)}vs(e,i,a,u){return this.gs.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="LocalStore",_S=3e8;class vS{constructor(e,i,a,u){this.persistence=e,this.Cs=i,this.serializer=u,this.Fs=new fe(It),this.Ms=new wa(h=>_d(h),vd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lS(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function ES(s,e,i,a){return new vS(s,e,i,a)}async function Cv(s,e){const i=Rt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.Ns(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let _=Lt();for(const v of u){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Bs:v,removedBatchIds:d,addedBatchIds:p}))})})}function TS(s,e){const i=Rt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.Os.newChangeBuffer({trackRemovals:!0});return function(p,_,v,A){const C=v.batch,I=C.keys();let H=Y.resolve();return I.forEach(W=>{H=H.next(()=>A.getEntry(_,W)).next(rt=>{const tt=v.docVersions.get(W);Xt(tt!==null,48541),rt.version.compareTo(tt)<0&&(C.applyToRemoteDocument(rt,v),rt.isValidDocument()&&(rt.setReadTime(v.commitVersion),A.addEntry(rt)))})}),H.next(()=>p.mutationQueue.removeMutationBatch(_,C))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let _=Lt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function Vv(s){const e=Rt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function AS(s,e){const i=Rt(s),a=e.snapshotVersion;let u=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});u=i.Fs;const p=[];e.targetChanges.forEach((A,C)=>{const I=u.get(C);if(!I)return;p.push(i.hi.removeMatchingKeys(h,A.removedDocuments,C).next(()=>i.hi.addMatchingKeys(h,A.addedDocuments,C)));let H=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?H=H.withResumeToken(Xe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),u=u.insert(C,H),function(rt,tt,St){return rt.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=_S?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(I,H,A)&&p.push(i.hi.updateTargetData(h,H))});let _=Yi(),v=Lt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(SS(h,d,e.documentUpdates).next(A=>{_=A.Ls,v=A.ks})),!a.isEqual(At.min())){const A=i.hi.getLastRemoteSnapshotVersion(h).next(C=>i.hi.setTargetsMetadata(h,h.currentSequenceNumber,a));p.push(A)}return Y.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Fs=u,h))}function SS(s,e,i){let a=Lt(),u=Lt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Yi();return i.forEach((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(p)),_.isNoDocument()&&_.version.isEqual(At.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):at(Dd,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)}),{Ls:d,ks:u}})}function bS(s,e){const i=Rt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=gd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function RS(s,e){const i=Rt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.hi.getTargetData(a,e).next(h=>h?(u=h,Y.resolve(u)):i.hi.allocateTargetId(a).next(d=>(u=new Rr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.hi.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Fs.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(a.targetId,a),i.Ms.set(e,a.targetId)),a})}async function id(s,e,i){const a=Rt(s),u=a.Fs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Ls(d))throw d;at(Dd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(u.target)}function t_(s,e,i){const a=Rt(s);let u=At.min(),h=Lt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const C=Rt(_),I=C.Ms.get(A);return I!==void 0?Y.resolve(C.Fs.get(I)):C.hi.getTargetData(v,A)}(a,d,hi(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(d,p.targetId).next(_=>{h=_})}).next(()=>a.Cs.getDocumentsMatchingQuery(d,e,i?u:At.min(),i?h:Lt())).next(p=>(wS(a,fA(e),p),{documents:p,qs:h})))}function wS(s,e,i){let a=s.xs.get(e)||At.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.xs.set(e,a)}class e_{constructor(){this.activeTargetIds=_A()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DS{constructor(){this.Fo=new e_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,a){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new e_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="ConnectivityMonitor";class i_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){at(n_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){at(n_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo=null;function rd(){return qo===null?qo=function(){return 268435456+Math.round(2147483648*Math.random())}():qo++,"0x"+qo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="RestConnection",VS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IS{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${a}/databases/${u}`,this.Ko=this.databaseId.database===nc?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Wo(e,i,a,u,h){const d=rd(),p=this.Go(e,i.toUriEncodedString());at(Pf,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(_,u,h);const{host:v}=new URL(p),A=cd(v);return this.jo(e,p,_,a,A).then(C=>(at(Pf,`Received RPC '${e}' ${d}: `,C),C),C=>{throw Ir(Pf,`RPC '${e}' ${d} failed with error: `,C,"url: ",p,"request:",a),C})}Jo(e,i,a,u,h,d){return this.Wo(e,i,a,u,h)}zo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}Go(e,i){const a=VS[e];return`${this.$o}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class NS extends IS{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,a,u,h){const d=rd();return new Promise((p,_)=>{const v=new O_;v.setWithCredentials(!0),v.listenOnce(N_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Fo.NO_ERROR:const C=v.getResponseJson();at(Je,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),p(C);break;case Fo.TIMEOUT:at(Je,`RPC '${e}' ${d} timed out`),_(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Fo.HTTP_ERROR:const I=v.getStatus();if(at(Je,`RPC '${e}' ${d} failed with status:`,I,"response text:",v.getResponseText()),I>0){let H=v.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H==null?void 0:H.error;if(W&&W.status&&W.message){const rt=function(St){const vt=St.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(vt)>=0?vt:Z.UNKNOWN}(W.status);_(new ut(rt,W.message))}else _(new ut(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{c_:e,streamId:d,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{at(Je,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);at(Je,`RPC '${e}' ${d} sending request:`,u),v.send(i,"POST",A,a,15)})}P_(e,i,a){const u=rd(),h=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=U_(),p=x_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.zo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");at(Je,`Creating RPC '${e}' stream ${u}: ${A}`,_);const C=d.createWebChannel(A,_);this.T_(C);let I=!1,H=!1;const W=new OS({Ho:tt=>{H?at(Je,`Not sending because RPC '${e}' stream ${u} is closed:`,tt):(I||(at(Je,`Opening RPC '${e}' stream ${u} transport.`),C.open(),I=!0),at(Je,`RPC '${e}' stream ${u} sending:`,tt),C.send(tt))},Yo:()=>C.close()}),rt=(tt,St,vt)=>{tt.listen(St,pt=>{try{vt(pt)}catch(Nt){setTimeout(()=>{throw Nt},0)}})};return rt(C,Yl.EventType.OPEN,()=>{H||(at(Je,`RPC '${e}' stream ${u} transport opened.`),W.s_())}),rt(C,Yl.EventType.CLOSE,()=>{H||(H=!0,at(Je,`RPC '${e}' stream ${u} transport closed`),W.__(),this.I_(C))}),rt(C,Yl.EventType.ERROR,tt=>{H||(H=!0,Ir(Je,`RPC '${e}' stream ${u} transport errored. Name:`,tt.name,"Message:",tt.message),W.__(new ut(Z.UNAVAILABLE,"The operation could not be completed")))}),rt(C,Yl.EventType.MESSAGE,tt=>{var St;if(!H){const vt=tt.data[0];Xt(!!vt,16349);const pt=vt,Nt=(pt==null?void 0:pt.error)||((St=pt[0])===null||St===void 0?void 0:St.error);if(Nt){at(Je,`RPC '${e}' stream ${u} received error:`,Nt);const bt=Nt.status;let Ht=function(R){const O=Re[R];if(O!==void 0)return pv(O)}(bt),N=Nt.message;Ht===void 0&&(Ht=Z.INTERNAL,N="Unknown error status: "+bt+" with message "+Nt.message),H=!0,W.__(new ut(Ht,N)),C.close()}else at(Je,`RPC '${e}' stream ${u} received:`,vt),W.a_(vt)}}),rt(p,M_.STAT_EVENT,tt=>{tt.stat===Qf.PROXY?at(Je,`RPC '${e}' stream ${u} detected buffering proxy`):tt.stat===Qf.NOPROXY&&at(Je,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{W.o_()},0),W}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(s){return new LA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Fi=e,this.timerId=i,this.d_=a,this.E_=u,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),u=Math.max(0,i-a);u>0&&at("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,u,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="PersistentStream";class Ov{constructor(e,i,a,u,h,d,p,_){this.Fi=e,this.w_=a,this.S_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Iv(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.b_===i&&this.W_(a,u)},a=>{e(()=>{const u=new ut(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(u)})})}W_(e,i){const a=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(u=>{a(()=>this.G_(u))}),this.stream.onMessage(u=>{a(()=>++this.C_==1?this.j_(u):this.onNext(u))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return at(r_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(at(r_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MS extends Ov{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=BA(this.serializer,e),a=function(h){if(!("targetChange"in h))return At.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?di(d.readTime):At.min()}(e);return this.listener.J_(i,a)}H_(e){const i={};i.database=nd(this.serializer),i.addTarget=function(h,d){let p;const _=d.target;if(p=$f(_)?{documents:qA(h,_)}:{query:HA(h,_).Vt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=vv(h,d.resumeToken);const v=Wf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=uc(h,d.snapshotVersion.toTimestamp());const v=Wf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p}(this.serializer,e);const a=FA(this.serializer,e);a&&(i.labels=a),this.k_(i)}Y_(e){const i={};i.database=nd(this.serializer),i.removeTarget=e,this.k_(i)}}class xS extends Ov{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=kA(e.writeResults,e.commitTime),a=di(e.commitTime);return this.listener.ta(a,i)}na(){const e={};e.database=nd(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>jA(this.serializer,a))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{}class LS extends US{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.ra=!1}ia(){if(this.ra)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(e,td(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(Z.UNKNOWN,h.toString())})}Jo(e,i,a,u,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Jo(e,td(i,a),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Z.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class zS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Qi(i),this._a=!1):at("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class PS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo(d=>{a.enqueueAndForget(async()=>{Ca(this)&&(at(Sa,"Restarting streams for network reachability change."),await async function(_){const v=Rt(_);v.Ia.add(4),await du(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Rc(v)}(this))})}),this.Aa=new zS(a,u)}}async function Rc(s){if(Ca(s))for(const e of s.da)await e(!0)}async function du(s){for(const e of s.da)await e(!1)}function Nv(s,e){const i=Rt(s);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),Od(i)?Id(i):zs(i).x_()&&Vd(i,e))}function Cd(s,e){const i=Rt(s),a=zs(i);i.Ta.delete(e),a.x_()&&Mv(i,e),i.Ta.size===0&&(a.x_()?a.B_():Ca(i)&&i.Aa.set("Unknown"))}function Vd(s,e){if(s.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}zs(s).H_(e)}function Mv(s,e){s.Ra.$e(e),zs(s).Y_(e)}function Id(s){s.Ra=new NA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>s.Ta.get(e)||null,lt:()=>s.datastore.serializer.databaseId}),zs(s).start(),s.Aa.aa()}function Od(s){return Ca(s)&&!zs(s).M_()&&s.Ta.size>0}function Ca(s){return Rt(s).Ia.size===0}function xv(s){s.Ra=void 0}async function BS(s){s.Aa.set("Online")}async function jS(s){s.Ta.forEach((e,i)=>{Vd(s,e)})}async function kS(s,e){xv(s),Od(s)?(s.Aa.la(e),Id(s)):s.Aa.set("Unknown")}async function qS(s,e,i){if(s.Aa.set("Online"),e instanceof _v&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.Ta.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.Ta.delete(p),u.Ra.removeTarget(p))}(s,e)}catch(a){at(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await cc(s,a)}else if(e instanceof Ko?s.Ra.Ye(e):e instanceof yv?s.Ra.it(e):s.Ra.et(e),!i.isEqual(At.min()))try{const a=await Vv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const p=h.Ra.Pt(d);return p.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ta.get(v);A&&h.Ta.set(v,A.withResumeToken(_.resumeToken,d))}}),p.targetMismatches.forEach((_,v)=>{const A=h.Ta.get(_);if(!A)return;h.Ta.set(_,A.withResumeToken(Xe.EMPTY_BYTE_STRING,A.snapshotVersion)),Mv(h,_);const C=new Rr(A.target,_,v,A.sequenceNumber);Vd(h,C)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(a){at(Sa,"Failed to raise snapshot:",a),await cc(s,a)}}async function cc(s,e,i){if(!Ls(e))throw e;s.Ia.add(1),await du(s),s.Aa.set("Offline"),i||(i=()=>Vv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{at(Sa,"Retrying IndexedDB access"),await i(),s.Ia.delete(1),await Rc(s)})}function Uv(s,e){return e().catch(i=>cc(s,i,e))}async function wc(s){const e=Rt(s),i=Ur(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:gd;for(;HS(e);)try{const u=await bS(e.localStore,a);if(u===null){e.Pa.length===0&&i.B_();break}a=u.batchId,GS(e,u)}catch(u){await cc(e,u)}Lv(e)&&zv(e)}function HS(s){return Ca(s)&&s.Pa.length<10}function GS(s,e){s.Pa.push(e);const i=Ur(s);i.x_()&&i.Z_&&i.X_(e.mutations)}function Lv(s){return Ca(s)&&!Ur(s).M_()&&s.Pa.length>0}function zv(s){Ur(s).start()}async function FS(s){Ur(s).na()}async function QS(s){const e=Ur(s);for(const i of s.Pa)e.X_(i.mutations)}async function YS(s,e,i){const a=s.Pa.shift(),u=Td.from(a,e,i);await Uv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await wc(s)}async function XS(s,e){e&&Ur(s).Z_&&await async function(a,u){if(function(d){return IA(d)&&d!==Z.ABORTED}(u.code)){const h=a.Pa.shift();Ur(a).N_(),await Uv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await wc(a)}}(s,e),Lv(s)&&zv(s)}async function a_(s,e){const i=Rt(s);i.asyncQueue.verifyOperationInProgress(),at(Sa,"RemoteStore received new credentials");const a=Ca(i);i.Ia.add(3),await du(i),a&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await Rc(i)}async function KS(s,e){const i=Rt(s);e?(i.Ia.delete(2),await Rc(i)):e||(i.Ia.add(2),await du(i),i.Aa.set("Unknown"))}function zs(s){return s.Va||(s.Va=function(i,a,u){const h=Rt(i);return h.ia(),new MS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{Zo:BS.bind(null,s),e_:jS.bind(null,s),n_:kS.bind(null,s),J_:qS.bind(null,s)}),s.da.push(async e=>{e?(s.Va.N_(),Od(s)?Id(s):s.Aa.set("Unknown")):(await s.Va.stop(),xv(s))})),s.Va}function Ur(s){return s.ma||(s.ma=function(i,a,u){const h=Rt(i);return h.ia(),new xS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),e_:FS.bind(null,s),n_:XS.bind(null,s),ea:QS.bind(null,s),ta:YS.bind(null,s)}),s.da.push(async e=>{e?(s.ma.N_(),await wc(s)):(await s.ma.stop(),s.Pa.length>0&&(at(Sa,`Stopping write stream with ${s.Pa.length} pending writes`),s.Pa=[]))})),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,p=new Nd(e,i,d,u,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Md(s,e){if(Qi("AsyncQueue",`${e}: ${s}`),Ls(s))return new ut(Z.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{static emptySet(e){return new ws(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=Xl(),this.sortedSet=new fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ws)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ws;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.fa=new fe(mt.comparator)}track(e){const i=e.doc.key,a=this.fa.get(i);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(i,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(i):e.type===1&&a.type===2?this.fa=this.fa.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):Et(63341,{At:e,ga:a}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,a)=>{e.push(a)}),e}}class Ns{constructor(e,i,a,u,h,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new Ns(e,i,ws.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class $S{constructor(){this.queries=l_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,a){const u=Rt(i),h=u.queries;u.queries=l_(),h.forEach((d,p)=>{for(const _ of p.wa)_.onError(a)})})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function l_(){return new wa(s=>iv(s),vc)}async function xd(s,e){const i=Rt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.Sa()&&e.ba()&&(a=2):(h=new ZS,a=e.ba()?0:1);try{switch(a){case 0:h.ya=await i.onListen(u,!0);break;case 1:h.ya=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=Md(d,`Initialization of query '${As(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.wa.push(e),e.va(i.onlineState),h.ya&&e.Ca(h.ya)&&Ld(i)}async function Ud(s,e){const i=Rt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.wa.indexOf(e);d>=0&&(h.wa.splice(d,1),h.wa.length===0?u=e.ba()?0:1:!h.Sa()&&e.ba()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function JS(s,e){const i=Rt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.wa)p.Ca(u)&&(a=!0);d.ya=u}}a&&Ld(i)}function WS(s,e,i){const a=Rt(s),u=a.queries.get(e);if(u)for(const h of u.wa)h.onError(i);a.queries.delete(e)}function Ld(s){s.Da.forEach(e=>{e.next()})}var ad,u_;(u_=ad||(ad={})).Fa="default",u_.Cache="cache";class zd{constructor(e,i,a){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new Ns(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const a=i!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=Ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ad.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this.key=e}}class Bv{constructor(e){this.key=e}}class tb{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Lt(),this.mutatedKeys=Lt(),this.Xa=rv(e),this.eu=new ws(this.Xa)}get tu(){return this.Ha}nu(e,i){const a=i?i.ru:new s_,u=i?i.eu:this.eu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,C)=>{const I=u.get(A),H=Ec(this.query,C)?C:null,W=!!I&&this.mutatedKeys.has(I.key),rt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let tt=!1;I&&H?I.data.isEqual(H.data)?W!==rt&&(a.track({type:3,doc:H}),tt=!0):this.iu(I,H)||(a.track({type:2,doc:H}),tt=!0,(_&&this.Xa(H,_)>0||v&&this.Xa(H,v)<0)&&(p=!0)):!I&&H?(a.track({type:0,doc:H}),tt=!0):I&&!H&&(a.track({type:1,doc:I}),tt=!0,(_||v)&&(p=!0)),tt&&(H?(d=d.add(H),h=rt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{eu:d,ru:a,Ds:p,mutatedKeys:h}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((A,C)=>function(H,W){const rt=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{At:tt})}};return rt(H)-rt(W)}(A.type,C.type)||this.Xa(A.doc,C.doc)),this.su(a),u=u!=null&&u;const p=i&&!u?this.ou():[],_=this.Za.size===0&&this.current&&!u?1:0,v=_!==this.Ya;return this.Ya=_,d.length!==0||v?{snapshot:new Ns(this.query,e.eu,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new s_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Lt(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const i=[];return e.forEach(a=>{this.Za.has(a)||i.push(new Bv(a))}),this.Za.forEach(a=>{e.has(a)||i.push(new Pv(a))}),i}uu(e){this.Ha=e.qs,this.Za=Lt();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return Ns.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Pd="SyncEngine";class eb{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class nb{constructor(e){this.key=e,this.lu=!1}}class ib{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new wa(p=>iv(p),vc),this.Tu=new Map,this.Iu=new Set,this.du=new fe(mt.comparator),this.Eu=new Map,this.Au=new bd,this.Ru={},this.Vu=new Map,this.mu=Os.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function rb(s,e,i=!0){const a=Fv(s);let u;const h=a.Pu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.cu()):u=await jv(a,e,i,!0),u}async function ab(s,e){const i=Fv(s);await jv(i,e,!0,!1)}async function jv(s,e,i,a){const u=await RS(s.localStore,hi(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await sb(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&Nv(s.remoteStore,u),p}async function sb(s,e,i,a,u){s.gu=(C,I,H)=>async function(rt,tt,St,vt){let pt=tt.view.nu(St);pt.Ds&&(pt=await t_(rt.localStore,tt.query,!1).then(({documents:N})=>tt.view.nu(N,pt)));const Nt=vt&&vt.targetChanges.get(tt.targetId),bt=vt&&vt.targetMismatches.get(tt.targetId)!=null,Ht=tt.view.applyChanges(pt,rt.isPrimaryClient,Nt,bt);return c_(rt,tt.targetId,Ht._u),Ht.snapshot}(s,C,I,H);const h=await t_(s.localStore,e,!0),d=new tb(e,h.qs),p=d.nu(h.documents),_=fu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(p,s.isPrimaryClient,_);c_(s,i,v._u);const A=new eb(e,i,d);return s.Pu.set(e,A),s.Tu.has(i)?s.Tu.get(i).push(e):s.Tu.set(i,[e]),v.snapshot}async function lb(s,e,i){const a=Rt(s),u=a.Pu.get(e),h=a.Tu.get(u.targetId);if(h.length>1)return a.Tu.set(u.targetId,h.filter(d=>!vc(d,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await id(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&Cd(a.remoteStore,u.targetId),sd(a,u.targetId)}).catch(Us)):(sd(a,u.targetId),await id(a.localStore,u.targetId,!0))}async function ub(s,e){const i=Rt(s),a=i.Pu.get(e),u=i.Tu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Cd(i.remoteStore,a.targetId))}async function ob(s,e,i){const a=pb(s);try{const u=await function(d,p){const _=Rt(d),v=le.now(),A=p.reduce((H,W)=>H.add(W.key),Lt());let C,I;return _.persistence.runTransaction("Locally write mutations","readwrite",H=>{let W=Yi(),rt=Lt();return _.Os.getEntries(H,A).next(tt=>{W=tt,W.forEach((St,vt)=>{vt.isValidDocument()||(rt=rt.add(St))})}).next(()=>_.localDocuments.getOverlayedDocuments(H,W)).next(tt=>{C=tt;const St=[];for(const vt of p){const pt=RA(vt,C.get(vt.key).overlayedDocument);pt!=null&&St.push(new Da(vt.key,pt,Z_(pt.value.mapValue),fi.exists(!0)))}return _.mutationQueue.addMutationBatch(H,v,St,p)}).next(tt=>{I=tt;const St=tt.applyToLocalDocumentSet(C,rt);return _.documentOverlayCache.saveOverlays(H,tt.batchId,St)})}).then(()=>({batchId:I.batchId,changes:sv(C)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,p,_){let v=d.Ru[d.currentUser.toKey()];v||(v=new fe(It)),v=v.insert(p,_),d.Ru[d.currentUser.toKey()]=v}(a,u.batchId,i),await mu(a,u.changes),await wc(a.remoteStore)}catch(u){const h=Md(u,"Failed to persist write");i.reject(h)}}async function kv(s,e){const i=Rt(s);try{const a=await AS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Eu.get(h);d&&(Xt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.lu=!0:u.modifiedDocuments.size>0?Xt(d.lu,14607):u.removedDocuments.size>0&&(Xt(d.lu,42227),d.lu=!1))}),await mu(i,a,e)}catch(a){await Us(a)}}function o_(s,e,i){const a=Rt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.Pu.forEach((h,d)=>{const p=d.view.va(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const _=Rt(d);_.onlineState=p;let v=!1;_.queries.forEach((A,C)=>{for(const I of C.wa)I.va(p)&&(v=!0)}),v&&Ld(_)}(a.eventManager,e),u.length&&a.hu.J_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function cb(s,e,i){const a=Rt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Eu.get(e),h=u&&u.key;if(h){let d=new fe(mt.comparator);d=d.insert(h,tn.newNoDocument(h,At.min()));const p=Lt().add(h),_=new Sc(At.min(),new Map,new fe(It),d,p);await kv(a,_),a.du=a.du.remove(h),a.Eu.delete(e),Bd(a)}else await id(a.localStore,e,!1).then(()=>sd(a,e,i)).catch(Us)}async function hb(s,e){const i=Rt(s),a=e.batch.batchId;try{const u=await TS(i.localStore,e);Hv(i,a,null),qv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await mu(i,u)}catch(u){await Us(u)}}async function fb(s,e,i){const a=Rt(s);try{const u=await function(d,p){const _=Rt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,p).next(C=>(Xt(C!==null,37113),A=C.keys(),_.mutationQueue.removeMutationBatch(v,C))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,p)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);Hv(a,e,i),qv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await mu(a,u)}catch(u){await Us(u)}}function qv(s,e){(s.Vu.get(e)||[]).forEach(i=>{i.resolve()}),s.Vu.delete(e)}function Hv(s,e,i){const a=Rt(s);let u=a.Ru[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Ru[a.currentUser.toKey()]=u}}function sd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Tu.get(e))s.Pu.delete(a),i&&s.hu.pu(a,i);s.Tu.delete(e),s.isPrimaryClient&&s.Au.zr(e).forEach(a=>{s.Au.containsKey(a)||Gv(s,a)})}function Gv(s,e){s.Iu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Cd(s.remoteStore,i),s.du=s.du.remove(e),s.Eu.delete(i),Bd(s))}function c_(s,e,i){for(const a of i)a instanceof Pv?(s.Au.addReference(a.key,e),db(s,a)):a instanceof Bv?(at(Pd,"Document no longer in limbo: "+a.key),s.Au.removeReference(a.key,e),s.Au.containsKey(a.key)||Gv(s,a.key)):Et(19791,{yu:a})}function db(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Iu.has(a)||(at(Pd,"New document in limbo: "+i),s.Iu.add(a),Bd(s))}function Bd(s){for(;s.Iu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Iu.values().next().value;s.Iu.delete(e);const i=new mt(se.fromString(e)),a=s.mu.next();s.Eu.set(a,new nb(i)),s.du=s.du.insert(i,a),Nv(s.remoteStore,new Rr(hi(_c(i.path)),a,"TargetPurposeLimboResolution",mc.ue))}}async function mu(s,e,i){const a=Rt(s),u=[],h=[],d=[];a.Pu.isEmpty()||(a.Pu.forEach((p,_)=>{d.push(a.gu(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const C=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,C?"current":"not-current")}if(v){u.push(v);const C=wd.Es(_.targetId,v);h.push(C)}}))}),await Promise.all(d),a.hu.J_(u),await async function(_,v){const A=Rt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Y.forEach(v,I=>Y.forEach(I.Is,H=>A.persistence.referenceDelegate.addReference(C,I.targetId,H)).next(()=>Y.forEach(I.ds,H=>A.persistence.referenceDelegate.removeReference(C,I.targetId,H)))))}catch(C){if(!Ls(C))throw C;at(Dd,"Failed to update sequence numbers: "+C)}for(const C of v){const I=C.targetId;if(!C.fromCache){const H=A.Fs.get(I),W=H.snapshotVersion,rt=H.withLastLimboFreeSnapshotVersion(W);A.Fs=A.Fs.insert(I,rt)}}}(a.localStore,h))}async function mb(s,e){const i=Rt(s);if(!i.currentUser.isEqual(e)){at(Pd,"User change. New user:",e.toKey());const a=await Cv(i.localStore,e);i.currentUser=e,function(h,d){h.Vu.forEach(p=>{p.forEach(_=>{_.reject(new ut(Z.CANCELLED,d))})}),h.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await mu(i,a.Bs)}}function gb(s,e){const i=Rt(s),a=i.Eu.get(e);if(a&&a.lu)return Lt().add(a.key);{let u=Lt();const h=i.Tu.get(e);if(!h)return u;for(const d of h){const p=i.Pu.get(d);u=u.unionWith(p.view.tu)}return u}}function Fv(s){const e=Rt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=kv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cb.bind(null,e),e.hu.J_=JS.bind(null,e.eventManager),e.hu.pu=WS.bind(null,e.eventManager),e}function pb(s){const e=Rt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fb.bind(null,e),e}class hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return ES(this.persistence,new yS,e.initialUser,this.serializer)}Du(e){return new Dv(Rd.Vi,this.serializer)}bu(e){return new DS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hc.provider={build:()=>new hc};class yb extends hc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){Xt(this.persistence.referenceDelegate instanceof oc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new nS(a,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Dv(a=>oc.Vi(a,i),this.serializer)}}class ld{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>o_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=mb.bind(null,this.syncEngine),await KS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $S}()}createDatastore(e){const i=bc(e.databaseInfo.databaseId),a=function(h){return new NS(h)}(e.databaseInfo);return function(h,d,p,_){return new LS(h,d,p,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,p){return new PS(a,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>o_(this.syncEngine,i,0),function(){return i_.C()?new i_:new CS}())}createSyncEngine(e,i){return function(u,h,d,p,_,v,A){const C=new ib(u,h,d,p,_,v);return A&&(C.fu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=Rt(u);at(Sa,"RemoteStore shutting down."),h.Ia.add(5),await du(h),h.Ea.shutdown(),h.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ld.provider={build:()=>new ld};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="FirestoreClient";class _b{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=We.UNAUTHENTICATED,this.clientId=dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{at(Lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(at(Lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Md(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function jf(s,e){s.asyncQueue.verifyOperationInProgress(),at(Lr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await Cv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>{Ir("Terminating Firestore due to IndexedDb database deletion"),s.terminate().then(()=>{at("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(u=>{Ir("Terminating Firestore due to IndexedDb database deletion failed",u)})}),s._offlineComponents=e}async function h_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await vb(s);at(Lr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>a_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>a_(e.remoteStore,u)),s._onlineComponents=e}async function vb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(Lr,"Using user provided OfflineComponentProvider");try{await jf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===Z.FAILED_PRECONDITION||u.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;Ir("Error using user provided cache. Falling back to memory cache: "+i),await jf(s,new hc)}}else at(Lr,"Using default OfflineComponentProvider"),await jf(s,new yb(void 0));return s._offlineComponents}async function Qv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(Lr,"Using user provided OnlineComponentProvider"),await h_(s,s._uninitializedComponentsProvider._online)):(at(Lr,"Using default OnlineComponentProvider"),await h_(s,new ld))),s._onlineComponents}function Eb(s){return Qv(s).then(e=>e.syncEngine)}async function fc(s){const e=await Qv(s),i=e.eventManager;return i.onListen=rb.bind(null,e.syncEngine),i.onUnlisten=lb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ab.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ub.bind(null,e.syncEngine),i}function Tb(s,e,i={}){const a=new Gi;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,p,_,v){const A=new jd({next:I=>{A.Ou(),d.enqueueAndForget(()=>Ud(h,C));const H=I.docs.has(p);!H&&I.fromCache?v.reject(new ut(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&I.fromCache&&_&&_.source==="server"?v.reject(new ut(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:I=>v.reject(I)}),C=new zd(_c(p.path),A,{includeMetadataChanges:!0,ka:!0});return xd(h,C)}(await fc(s),s.asyncQueue,e,i,a)),a.promise}function Ab(s,e,i={}){const a=new Gi;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,p,_,v){const A=new jd({next:I=>{A.Ou(),d.enqueueAndForget(()=>Ud(h,C)),I.fromCache&&_.source==="server"?v.reject(new ut(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),C=new zd(p,A,{includeMetadataChanges:!0,ka:!0});return xd(h,C)}(await fc(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="firestore.googleapis.com",d_=!0;class m_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xv,this.ssl=d_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:d_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tS)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new V1;switch(a.type){case"firstParty":return new M1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=f_.get(i);a&&(at("ComponentProvider","Removing Datastore"),f_.delete(i),a.terminate())}(this),Promise.resolve()}}function Sb(s,e,i,a={}){var u;s=Gn(s,Dc);const h=cd(e),d=s._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),_=`${e}:${i}`;h&&(nT(`https://${_}`),sT("Firestore",!0)),d.host!==Xv&&d.host!==_&&Ir("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:a});if(!Jo(v,p)&&(s._setSettings(v),a.mockUserToken)){let A,C;if(typeof a.mockUserToken=="string")A=a.mockUserToken,C=We.MOCK_USER;else{A=iT(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new We(I)}s._authCredentials=new I1(new z_(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new gu(this.firestore,e,this._query)}}class De{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new De(this.firestore,e,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(cu(i,De._jsonSchema))return new De(e,a||null,new mt(se.fromString(i.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:we("string",De._jsonSchemaVersion),referencePath:we("string")};class Vr extends gu{constructor(e,i,a){super(e,i,_c(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new De(this.firestore,null,new mt(e))}withConverter(e){return new Vr(this.firestore,e,this._path)}}function Hi(s,e,...i){if(s=Ds(s),B_("collection","path",e),s instanceof Dc){const a=se.fromString(e,...i);return Cy(a),new Vr(s,null,a)}{if(!(s instanceof De||s instanceof Vr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(se.fromString(e,...i));return Cy(a),new Vr(s.firestore,null,a)}}function _a(s,e,...i){if(s=Ds(s),arguments.length===1&&(e=dd.newId()),B_("doc","path",e),s instanceof Dc){const a=se.fromString(e,...i);return Dy(a),new De(s,null,new mt(a))}{if(!(s instanceof De||s instanceof Vr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(se.fromString(e,...i));return Dy(a),new De(s.firestore,s instanceof Vr?s.converter:null,new mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="AsyncQueue";class p_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Iv(this,"async_queue_retry"),this.oc=()=>{const a=Bf();a&&at(g_,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const i=Bf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=Bf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new Gi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ls(e))throw e;at(g_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,Qi("INTERNAL UNHANDLED ERROR: ",y_(a)),a}).then(a=>(this.nc=!1,a))));return this._c=i,i}enqueueAfterDelay(e,i,a){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const u=Nd.createAndSchedule(this,e,i,a,h=>this.lc(h));return this.ec.push(u),u}ac(){this.tc&&Et(47125,{hc:y_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function y_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class ba extends Dc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new p_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p_(e),this._firestoreClient=void 0,await e}}}function bb(s,e){const i=typeof s=="object"?s:p1(),a=typeof s=="string"?s:nc,u=h1(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=tT("firestore");h&&Sb(u,...h)}return u}function Cc(s){if(s._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Rb(s),s._firestoreClient}function Rb(s){var e,i,a;const u=s._freezeSettings(),h=function(p,_,v,A){return new K1(p,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Yv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new _b(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(p){const _=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Xe.fromBase64String(e))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Un(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:we("string",Un._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mi._jsonSchemaVersion}}static fromJSON(e){if(cu(e,mi._jsonSchema))return new mi(e.latitude,e.longitude)}}mi._jsonSchemaVersion="firestore/geoPoint/1.0",mi._jsonSchema={type:we("string",mi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new gi(e.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:we("string",gi._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=/^__.*__$/;class Db{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Da(e,this.data,this.fieldMask,i,this.fieldTransforms):new hu(e,this.data,i,this.fieldTransforms)}}function Zv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ec:s})}}class qd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new qd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Rc({path:a,mc:!1});return u.fc(e),u}gc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Rc({path:a,mc:!1});return u.Ac(),u}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return dc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Zv(this.Ec)&&wb.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Cb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||bc(e)}Dc(e,i,a,u=!1){return new qd({Ec:e,methodName:i,bc:a,path:Ye.emptyPath(),mc:!1,Sc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $v(s){const e=s._freezeSettings(),i=bc(s._databaseId);return new Cb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Jv(s,e,i,a,u,h={}){const d=s.Dc(h.merge||h.mergeFields?2:0,e,i,u);n0("Data must be an object, but it was:",d,a);const p=t0(a,d);let _,v;if(h.merge)_=new Hn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const I=Vb(e,C,i);if(!d.contains(I))throw new ut(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Ob(A,I)||A.push(I)}_=new Hn(A),v=d.fieldTransforms.filter(C=>_.covers(C.field))}else _=null,v=d.fieldTransforms;return new Db(new xn(p),_,v)}function Wv(s,e){if(e0(s=Ds(s)))return n0("Unsupported field value:",e,s),t0(s,e);if(s instanceof Kv)return function(a,u){if(!Zv(u.Ec))throw u.wc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.wc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const p of a){let _=Wv(p,u.yc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=Ds(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return vA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=le.fromDate(a);return{timestampValue:uc(u.serializer,h)}}if(a instanceof le){const h=new le(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uc(u.serializer,h)}}if(a instanceof mi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:vv(u.serializer,a._byteString)};if(a instanceof De){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Sd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof gi)return function(d,p){return{mapValue:{fields:{[X_]:{stringValue:K_},[ic]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw p.wc("VectorValues must only contain numeric values.");return Ed(p.serializer,v)})}}}}}}(a,u);throw u.wc(`Unsupported field value: ${md(a)}`)}(s,e)}function t0(s,e){const i={};return q_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(s,(a,u)=>{const h=Wv(u,e.Vc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function e0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof le||s instanceof mi||s instanceof Un||s instanceof De||s instanceof Kv||s instanceof gi)}function n0(s,e,i){if(!e0(i)||!j_(i)){const a=md(i);throw a==="an object"?e.wc(s+" a custom object"):e.wc(s+" "+a)}}function Vb(s,e,i){if((e=Ds(e))instanceof kd)return e._internalPath;if(typeof e=="string")return i0(s,e);throw dc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Ib=new RegExp("[~\\*/\\[\\]]");function i0(s,e,i){if(e.search(Ib)>=0)throw dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new kd(...e.split("."))._internalPath}catch{throw dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function dc(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new ut(Z.INVALID_ARGUMENT,p+s+_)}function Ob(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(a0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Nb extends r0{data(){return super.data()}}function a0(s,e){return typeof e=="string"?i0(s,e):e instanceof kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mb{convertValue(e,i="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ra(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[ic].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ve(d.doubleValue));return new gi(h)}convertGeoPoint(e){return new mi(ve(e.latitude),ve(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=pc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const i=Nr(e);return new le(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=se.fromString(e);Xt(Rv(a),9688,{name:e});const u=new su(a.get(1),a.get(3)),h=new mt(a.popFirst(5));return u.isEqual(i)||Qi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class Zl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends r0{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(a0("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ea._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:we("string",Ea._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Zo extends Ea{data(e={}){return super.data(e)}}class Ta{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Zl(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Zo(this._firestore,this._userDataWriter,a.key,a,new Zl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const _=new Zo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Zl(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const _=new Zo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Zl(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:xb(p.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],u=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(s){s=Gn(s,De);const e=Gn(s.firestore,ba);return Tb(Cc(e),s._key).then(i=>o0(e,s,i))}Ta._jsonSchemaVersion="firestore/querySnapshot/1.0",Ta._jsonSchema={type:we("string",Ta._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class Hd extends Mb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,i)}}function Ql(s){s=Gn(s,gu);const e=Gn(s.firestore,ba),i=Cc(e),a=new Hd(e);return s0(s._query),Ab(i,s._query).then(u=>new Ta(e,a,s,u))}function v_(s,e,i){s=Gn(s,De);const a=Gn(s.firestore,ba),u=l0(s.converter,e,i);return u0(a,[Jv($v(a),"setDoc",s._key,u,s.converter!==null,i).toMutation(s._key,fi.none())])}function Ub(s,e){const i=Gn(s.firestore,ba),a=_a(s),u=l0(s.converter,e);return u0(i,[Jv($v(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,fi.exists(!1))]).then(()=>a)}function Go(s,...e){var i,a,u;s=Ds(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||__(e[d])||(h=e[d++]);const p={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(__(e[d])){const C=e[d];e[d]=(i=C.next)===null||i===void 0?void 0:i.bind(C),e[d+1]=(a=C.error)===null||a===void 0?void 0:a.bind(C),e[d+2]=(u=C.complete)===null||u===void 0?void 0:u.bind(C)}let _,v,A;if(s instanceof De)v=Gn(s.firestore,ba),A=_c(s._key.path),_={next:C=>{e[d]&&e[d](o0(v,s,C))},error:e[d+1],complete:e[d+2]};else{const C=Gn(s,gu);v=Gn(C.firestore,ba),A=C._query;const I=new Hd(v);_={next:H=>{e[d]&&e[d](new Ta(v,I,C,H))},error:e[d+1],complete:e[d+2]},s0(s._query)}return function(I,H,W,rt){const tt=new jd(rt),St=new zd(H,tt,W);return I.asyncQueue.enqueueAndForget(async()=>xd(await fc(I),St)),()=>{tt.Ou(),I.asyncQueue.enqueueAndForget(async()=>Ud(await fc(I),St))}}(Cc(v),A,p,_)}function u0(s,e){return function(a,u){const h=new Gi;return a.asyncQueue.enqueueAndForget(async()=>ob(await Eb(a),u,h)),h.promise}(Cc(s),e)}function o0(s,e,i){const a=i.docs.get(e._key),u=new Hd(s);return new Ea(s,u,e._key,a,new Zl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){xs=u})(g1),tc(new nu("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new ba(new O1(a.getProvider("auth-internal")),new x1(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(v.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),Rs(Ay,Sy,e),Rs(Ay,Sy,"esm2017")})();const Lb={apiKey:"AIzaSyA…",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"347137303283",appId:"1:347137303283:web:9369753f976dffcf65cd86"},zb=D_(Lb),sn=bb(zb);function Pb(){const[s,e]=zt.useState(localStorage.getItem("lastBirthId")||""),[i,a]=zt.useState(localStorage.getItem("lastPin")||""),[u,h]=zt.useState(!0),[d,p]=zt.useState(""),[_,v]=zt.useState(localStorage.getItem("studentId")||""),[A,C]=zt.useState(localStorage.getItem("studentName")||""),[I,H]=zt.useState(_?"notices":"login"),W=["카드","계좌이체","결제선생"],[rt,tt]=zt.useState([]),[St,vt]=zt.useState([]);zt.useEffect(()=>{if(!A)return;const K=Hi(sn,"routines");Ql(K).then(ot=>{const Mt=ot.docs.map(ct=>({id:ct.id,data:ct.data()})).filter(ct=>ct.id.startsWith(A+"_"));ae(Mt);const Ct=[...Mt].sort((ct,ne)=>{const ue=Number(ct.id.split("_")[1]||"0");return Number(ne.id.split("_")[1]||"0")-ue});Ct.length>0&&nt(Ct[0].id)});const st=Go(K,ot=>{vt(ot.docs.map(Mt=>Mt.data()))});return()=>st()},[A]);const pt=async K=>{if(K.preventDefault(),p(""),s.length!==6||i.length!==4){p("생년월일 6자리와 전화번호 뒤 4자리를 입력해주세요.");return}const ot=(await Ql(Hi(sn,"students"))).docs.find(ct=>{const ne=ct.data(),ue=ne.birth.replace(/\D/g,"").slice(-6),Yn=ne.parentPhone.replace(/\D/g,"").slice(-4);return ue===s&&Yn===i});if(!ot){p("아이디 또는 비밀번호가 일치하지 않습니다.");return}const Mt=ot.data();localStorage.setItem("studentId",ot.id),localStorage.setItem("studentName",Mt.name),u&&(localStorage.setItem("lastBirthId",s),localStorage.setItem("lastPin",i)),await Ub(Hi(sn,"parentLogins"),{studentName:Mt.name,loginTime:new Date().toISOString()});const Ct=Date.now();localStorage.setItem("loginTime",Ct.toString()),v(ot.id),C(Mt.name),H("notices")},Nt=()=>{localStorage.clear(),v(""),C(""),H("login")},[bt,Ht]=zt.useState([]),[N,S]=zt.useState(null),[R,O]=zt.useState({}),[M,U]=zt.useState([]);zt.useEffect(()=>{Ql(Hi(sn,"notices")).then(K=>Ht(K.docs.map(st=>({id:st.id,...st.data()})))),Ql(Hi(sn,"holidays")).then(K=>{const st=new Date,ot=ct=>`${ct.getFullYear()}-${String(ct.getMonth()+1).padStart(2,"0")}`,Mt=[new Date(st.getFullYear(),st.getMonth()-1,1),st,new Date(st.getFullYear(),st.getMonth()+1,1)].map(ot),Ct=K.docs.map(ct=>({id:ct.id,...ct.data()})).filter(ct=>Mt.some(ne=>ct.date.startsWith(ne))).sort((ct,ne)=>ct.date.localeCompare(ne.date));U(Ct)})},[]);const w=async K=>{if(N===K){S(null);return}if(!R[K]){const st=await Ho(_a(sn,"notices",K));R[K]=st.data().content,O({...R})}S(K)},[ge,ae]=zt.useState([]),[k,nt]=zt.useState(""),[ft,Gt]=zt.useState(null),[D,X]=zt.useState([]),[it,$]=zt.useState({}),[dt,wt]=zt.useState(!1),[gt,Ee]=zt.useState({});zt.useEffect(()=>{if(!A)return;const K=Hi(sn,"routines");Ql(K).then(st=>{const ot=st.docs.map(Ct=>({id:Ct.id,data:Ct.data()})).filter(Ct=>Ct.id.startsWith(A+"_"));ae(ot);const Mt=[...ot].sort((Ct,ct)=>{const ne=Number(Ct.id.split("_")[1]||"0");return Number(ct.id.split("_")[1]||"0")-ne});!k&&Mt.length>0&&nt(Mt[0].id)})},[A]),zt.useEffect(()=>{var st;const K=ge.find(ot=>ot.id===k);if(K){Gt(K.data);const ot=(st=K.data.students)==null?void 0:st[_];if(ot!=null&&ot.sessions){const ct=Object.values(ot.sessions);X(ct),(async()=>{const ne={};await Promise.all(ct.map(async ue=>{const Yn=await Ho(_a(sn,"attendance",ue.date));if(Yn.exists()){const zr=Yn.data();zr[A]&&(ne[ue.date]={status:zr[A].status,time:zr[A].time})}})),$(ne)})()}else X([]),$({});const Mt=k==null?void 0:k.split("_")[1],Ct=`${A}_${Mt}`;Ho(_a(sn,"payment_completed",Ct)).then(ct=>{ct.exists()&&ct.data().paymentComplete?wt(!0):wt(!1)}).catch(ct=>{console.error("결제 상태 불러오기 오류",ct),wt(!1)})}},[k,ge,_]);const[$t,vn]=zt.useState([]),[En,Tn]=zt.useState({}),[Xi,Ki]=zt.useState(null),[Zi,Va]=zt.useState("");zt.useEffect(()=>{if(_)return Go(Hi(sn,"comments"),K=>{const st=K.docs.map(ot=>({id:ot.id,...ot.data()})).filter(ot=>ot.studentId===_);vn(st)})},[_]),zt.useEffect(()=>{if(!_)return;const K=Go(Hi(sn,"answer"),st=>{const ot=st.docs.map(Mt=>({id:Mt.id,...Mt.data()})).filter(Mt=>Mt.studentId===_);tt(ot)});return()=>K()},[_]);const Ia=async K=>{const st=(En[K]||"").trim();if(!st)return alert("댓글을 입력하세요.");(await Ho(_a(sn,"students",_))).data().name;const ot=new Date().toISOString().slice(0,10),Mt=`${A}_${ot}`;await v_(_a(sn,"answer",Mt),{studentId:_,studentName:A,comment:`답변:${st}`,date:ot,parentId:K}),Tn({...En,[K]:""})},[Ke,Ps]=zt.useState([]),[Ln,Fn]=zt.useState("");zt.useEffect(()=>{if(_)return Go(Hi(sn,"books"),K=>{const st=K.docs.map(ot=>({id:ot.id,...ot.data()}));Ps(st.filter(ot=>ot.studentId===_))})},[_]);const Qn=zt.useMemo(()=>{if(!Ln)return Ke;const K=[...Ke];return Ln==="grade"?K.sort((st,ot)=>(st.grade||"").localeCompare(ot.grade||"")):Ln==="title"?K.sort((st,ot)=>st.title.localeCompare(ot.title)):Ln==="completedDate"?K.sort((st,ot)=>st.completedDate.localeCompare(ot.completedDate)):K},[Ke,Ln]);return zt.useEffect(()=>{const ot=setInterval(()=>{const Mt=parseInt(localStorage.getItem("loginTime")||"0",10);Mt>0&&Date.now()-Mt>18e5&&Nt()},6e4);return window.addEventListener("beforeunload",Nt),()=>{clearInterval(ot),window.removeEventListener("beforeunload",Nt)}},[]),I==="login"?J.jsxs("div",{style:{padding:24},children:[J.jsx("h1",{children:"학부모 로그인"}),J.jsxs("form",{onSubmit:pt,children:[J.jsx("input",{placeholder:"생년월일 6자리 (YYMMDD)",value:s,onChange:K=>e(K.target.value.replace(/\D/g,""))}),J.jsx("input",{placeholder:"전화번호 뒤 4자리",type:"password",value:i,onChange:K=>a(K.target.value.replace(/\D/g,""))}),J.jsxs("label",{children:[J.jsx("input",{type:"checkbox",checked:u,onChange:K=>h(K.target.checked)})," 자동 기억"]}),J.jsx("button",{type:"submit",children:"로그인"})]}),d&&J.jsx("p",{style:{color:"red"},children:d})]}):J.jsxs("div",{style:{padding:24},children:[J.jsxs("nav",{style:{marginBottom:16},children:[["notices","payment","comments","books"].map(K=>J.jsx("button",{onClick:()=>H(K),style:{marginRight:8,background:I===K?"#007bff":"#ccc",color:"#fff"},children:K==="notices"?"공지사항":K==="payment"?"출석 및 결제":K==="comments"?"코멘트":"완북교재"},K)),J.jsx("button",{onClick:Nt,style:{marginLeft:16,background:"#f44336",color:"#fff"},children:"로그아웃"})]}),A==="관리자"&&St.length>0&&J.jsxs("div",{style:{marginBottom:16,fontSize:12,color:"#555"},children:[J.jsx("strong",{children:"로그인 히스토리:"}),J.jsx("ul",{children:St.map((K,st)=>J.jsx("li",{children:new Date(K.loginTime).toLocaleString()},st))})]}),I==="notices"&&J.jsxs("section",{children:[J.jsxs("div",{style:{background:"#f9f9f9",padding:12,borderRadius:8},children:[J.jsx("h2",{children:"📅 이번 달 휴일"}),J.jsx("ul",{children:M.map(K=>J.jsxs("li",{style:{marginBottom:4},children:[J.jsx("strong",{children:K.name})," — ",J.jsx("span",{style:{color:"red"},children:K.date})]},K.id))})]}),J.jsxs("h1",{style:{marginTop:24,display:"flex",alignItems:"center"},children:[J.jsx("span",{children:"📣 공지사항"}),J.jsx("small",{style:{marginLeft:12,color:"#666"},children:"클릭해서 펼쳐보기"})]}),J.jsx("ul",{style:{listStyle:"none",padding:0},children:[...bt].sort((K,st)=>st.date.localeCompare(K.date)).map(K=>J.jsxs("li",{style:{border:"1px solid #e0e0e0",borderRadius:6,marginBottom:12,overflow:"hidden",boxShadow:N===K.id?"0 2px 8px rgba(0,0,0,0.1)":"none",transition:"box-shadow 0.2s"},children:[J.jsxs("div",{onClick:()=>w(K.id),style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",background:N===K.id?"#f0f8ff":"#fff",cursor:"pointer"},children:[J.jsxs("div",{children:[J.jsx("strong",{children:K.title}),J.jsxs("span",{style:{marginLeft:8,color:"#888"},children:["(",K.date,")"]})]}),J.jsx("div",{style:{transform:N===K.id?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s",fontSize:14,color:"#555"},children:"▶"})]}),N===K.id&&J.jsx("div",{style:{padding:"16px",background:"#fafafa",borderTop:"1px solid #eee",lineHeight:1.5,color:"#333"},dangerouslySetInnerHTML:{__html:R[K.id]}})]},K.id))})]}),I==="payment"&&J.jsxs("section",{children:[k&&J.jsxs("h3",{style:{textAlign:"center",margin:"20px 0",fontSize:"24px",fontWeight:"bold"},children:["루틴 번호 ",k.split("_")[1]]}),J.jsxs("label",{style:{display:"block",marginBottom:"16px"},children:["루틴 문서:",J.jsx("select",{value:k,onChange:K=>nt(K.target.value),style:{marginLeft:"8px"},children:ge.map(K=>J.jsx("option",{value:K.id,children:K.id},K.id))})]}),J.jsxs("div",{style:{margin:"16px 0"},children:[W.map(K=>J.jsx("button",{onClick:()=>Ee(st=>({...st,[k]:K})),style:{marginRight:8,background:gt[k]===K?"#007bff":"#ccc",color:"#fff",padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer"},children:K},K)),J.jsx("button",{onClick:async()=>{if(!k){alert("루틴 문서를 선택해주세요.");return}const K=k.split("_"),st=K.length>1?K[1]:"";if(!st){alert("루틴 번호가 잘못되었습니다.");return}await v_(_a(sn,"payments",`${A}_${st}`),{studentId:_,studentName:A,routineNumber:Number(st),paymentMethod:gt[k]||"",updatedAt:new Date().toISOString()},{merge:!0}),alert("저장되었습니다.")},style:{marginLeft:16,background:"#28a745",color:"#fff",padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer"},children:"저장"})]}),J.jsxs("p",{style:{marginBottom:"16px"},children:[gt[k]==="카드"&&"➡️ 카드 안내",gt[k]==="계좌이체"&&"➡️ 계좌 안내",gt[k]==="결제선생"&&"➡️ 선생 결제 안내"]}),J.jsx("div",{style:{margin:"16px 0",fontSize:"18px",fontWeight:"bold",color:dt?"#28a745":"#dc3545"},children:dt?"✅ 결제 완료":"❌ 미결제"}),J.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[J.jsx("thead",{style:{background:"#007bff",color:"#fff"},children:J.jsxs("tr",{children:[J.jsx("th",{style:{padding:"8px",border:"1px solid #ccc"},children:"세션"}),J.jsx("th",{style:{padding:"8px",border:"1px solid #ccc"},children:"날짜"}),J.jsx("th",{style:{padding:"8px",border:"1px solid #ccc"},children:"출석"}),J.jsx("th",{style:{padding:"8px",border:"1px solid #ccc"},children:"시간"})]})}),J.jsx("tbody",{children:D.length>0?D.map((K,st)=>{const ot=it[(K.date||"").trim()]||{};return J.jsxs("tr",{style:{background:st%2===0?"#f9f9f9":"#fff"},children:[J.jsx("td",{style:{padding:"8px",border:"1px solid #ccc"},children:K.session}),J.jsx("td",{style:{padding:"8px",border:"1px solid #ccc"},children:K.date}),J.jsx("td",{style:{padding:"8px",border:"1px solid #ccc"},children:ot.status||"-"}),J.jsx("td",{style:{padding:"8px",border:"1px solid #ccc"},children:ot.time||"-"})]},st)}):J.jsx("tr",{children:J.jsx("td",{colSpan:"4",style:{padding:"16px",textAlign:"center"},children:"데이터가 없습니다."})})})]})]}),I==="comments"&&J.jsxs("section",{children:[J.jsx("h2",{children:"📝 코멘트"}),J.jsx("ul",{children:$t.map(K=>!K.comment.startsWith("답변:")&&J.jsxs("li",{children:[J.jsxs("div",{children:[K.comment," (",K.date,")"]}),rt.filter(st=>st.parentId===K.id).map(st=>J.jsxs("div",{children:["💬 ",st.comment.replace("답변:","")]},st.id)),J.jsxs("div",{children:[J.jsx("input",{placeholder:"답변 입력",value:En[K.id]||"",onChange:st=>Tn(ot=>({...ot,[K.id]:st.target.value}))}),J.jsx("button",{onClick:()=>Ia(K.id),children:"저장"})]})]},K.id))})]}),I==="books"&&J.jsxs("section",{children:[J.jsx("h2",{children:"📚 완북 교재"}),J.jsxs("div",{style:{marginBottom:16},children:[J.jsx("button",{onClick:()=>{const K=[["번호","이름","학년","제목","완료일"],...Qn.map((Mt,Ct)=>[Ct+1,Mt.name,Mt.grade,Mt.title,Mt.completedDate])].map(Mt=>Mt.join(",")).join(`
`),st=URL.createObjectURL(new Blob([K])),ot=document.createElement("a");ot.href=st,ot.download=`books_${new Date().toISOString().slice(0,10)}.csv`,ot.click()},children:"엑셀 다운로드"}),J.jsx("button",{onClick:()=>Fn("grade"),children:"학년정렬"}),J.jsx("button",{onClick:()=>Fn("title"),children:"제목정렬"}),J.jsx("button",{onClick:()=>Fn("completedDate"),children:"완료일정렬"})]}),J.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[J.jsx("thead",{children:J.jsxs("tr",{children:[J.jsx("th",{children:"번호"}),J.jsx("th",{children:"이름"}),J.jsx("th",{children:"학년"}),J.jsx("th",{children:"제목"}),J.jsx("th",{children:"완료일"})]})}),J.jsx("tbody",{children:Qn.map((K,st)=>J.jsxs("tr",{children:[J.jsx("td",{children:st+1}),J.jsx("td",{children:K.name}),J.jsx("td",{children:K.grade}),J.jsx("td",{children:K.title}),J.jsx("td",{children:K.completedDate})]},K.id))})]})]})]})}HE.createRoot(document.getElementById("root")).render(J.jsx(Pb,{}));
